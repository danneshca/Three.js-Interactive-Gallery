import{L as _d,R as oa,U as Rc,a as vg,O as qo,P as Jl,S as wh,b as Ed,N as ES,A as xS,W as mg,C as kS,B as CS,c as TS,V as MS,d as wn,e as wt,f as PS,T as US,D as Sh,g as gg,M as Co,I as DS,h as rl,i as Ml,j as Pl,Q as i0,k as dp,l as RS,m as LS,n as yg,H as Yr,F as Bi,o as Fl,p as Xr,q as AS,r as wg,s as o0,t as pp,u as Nl,v as IS,w as js,x as _h,y as hp,z as l0,E as Eo,G as OS,J as Sg,K as FS,X as ul,Y as _g,Z as NS,_ as zS,$ as BS,a0 as Yo,a1 as jS,a2 as GS,a3 as Eg,a4 as va,a5 as uo,a6 as Lc,a7 as Ac,a8 as HS,a9 as vp,aa as WS,ab as bS,ac as VS,ad as QS,ae as pc,af as YS,ag as XS,ah as a0,ai as ZS,aj as KS,ak as JS,al as qS,am as $S,an as e_,ao as t_}from"./three-vendor-1aa2ed72.js";function n_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function lf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xg={exports:{}},af={},kg={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=Symbol.for("react.element"),r_=Symbol.for("react.portal"),i_=Symbol.for("react.fragment"),o_=Symbol.for("react.strict_mode"),l_=Symbol.for("react.profiler"),a_=Symbol.for("react.provider"),s_=Symbol.for("react.context"),u_=Symbol.for("react.forward_ref"),c_=Symbol.for("react.suspense"),f_=Symbol.for("react.memo"),d_=Symbol.for("react.lazy"),s0=Symbol.iterator;function p_(t){return t===null||typeof t!="object"?null:(t=s0&&t[s0]||t["@@iterator"],typeof t=="function"?t:null)}var Cg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tg=Object.assign,Mg={};function ma(t,e,n){this.props=t,this.context=e,this.refs=Mg,this.updater=n||Cg}ma.prototype.isReactComponent={};ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pg(){}Pg.prototype=ma.prototype;function Eh(t,e,n){this.props=t,this.context=e,this.refs=Mg,this.updater=n||Cg}var xh=Eh.prototype=new Pg;xh.constructor=Eh;Tg(xh,ma.prototype);xh.isPureReactComponent=!0;var u0=Array.isArray,Ug=Object.prototype.hasOwnProperty,kh={current:null},Dg={key:!0,ref:!0,__self:!0,__source:!0};function Rg(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Ug.call(e,r)&&!Dg.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Gs,type:t,key:o,ref:s,props:i,_owner:kh.current}}function h_(t,e){return{$$typeof:Gs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ch(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gs}function v_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c0=/\/+/g;function xd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?v_(""+t.key):e.toString(36)}function hc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Gs:case r_:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+xd(s,0):r,u0(i)?(n="",t!=null&&(n=t.replace(c0,"$&/")+"/"),hc(i,e,n,"",function(d){return d})):i!=null&&(Ch(i)&&(i=h_(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(c0,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",u0(t))for(var u=0;u<t.length;u++){o=t[u];var c=r+xd(o,u);s+=hc(o,e,n,c,i)}else if(c=p_(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=r+xd(o,u++),s+=hc(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ju(t,e,n){if(t==null)return t;var r=[],i=0;return hc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function m_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},vc={transition:null},g_={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:vc,ReactCurrentOwner:kh};function Lg(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:ju,forEach:function(t,e,n){ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ju(t,function(){e++}),e},toArray:function(t){return ju(t,function(e){return e})||[]},only:function(t){if(!Ch(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kt.Component=ma;kt.Fragment=i_;kt.Profiler=l_;kt.PureComponent=Eh;kt.StrictMode=o_;kt.Suspense=c_;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g_;kt.act=Lg;kt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tg({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=kh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)Ug.call(e,c)&&!Dg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Gs,type:t.type,key:i,ref:o,props:r,_owner:s}};kt.createContext=function(t){return t={$$typeof:s_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:a_,_context:t},t.Consumer=t};kt.createElement=Rg;kt.createFactory=function(t){var e=Rg.bind(null,t);return e.type=t,e};kt.createRef=function(){return{current:null}};kt.forwardRef=function(t){return{$$typeof:u_,render:t}};kt.isValidElement=Ch;kt.lazy=function(t){return{$$typeof:d_,_payload:{_status:-1,_result:t},_init:m_}};kt.memo=function(t,e){return{$$typeof:f_,type:t,compare:e===void 0?null:e}};kt.startTransition=function(t){var e=vc.transition;vc.transition={};try{t()}finally{vc.transition=e}};kt.unstable_act=Lg;kt.useCallback=function(t,e){return sr.current.useCallback(t,e)};kt.useContext=function(t){return sr.current.useContext(t)};kt.useDebugValue=function(){};kt.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};kt.useEffect=function(t,e){return sr.current.useEffect(t,e)};kt.useId=function(){return sr.current.useId()};kt.useImperativeHandle=function(t,e,n){return sr.current.useImperativeHandle(t,e,n)};kt.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};kt.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};kt.useMemo=function(t,e){return sr.current.useMemo(t,e)};kt.useReducer=function(t,e,n){return sr.current.useReducer(t,e,n)};kt.useRef=function(t){return sr.current.useRef(t)};kt.useState=function(t){return sr.current.useState(t)};kt.useSyncExternalStore=function(t,e,n){return sr.current.useSyncExternalStore(t,e,n)};kt.useTransition=function(){return sr.current.useTransition()};kt.version="18.3.1";kg.exports=kt;var K=kg.exports;const mc=lf(K),SC=n_({__proto__:null,default:mc},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_=K,w_=Symbol.for("react.element"),S_=Symbol.for("react.fragment"),__=Object.prototype.hasOwnProperty,E_=y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x_={key:!0,ref:!0,__self:!0,__source:!0};function Ag(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)__.call(e,r)&&!x_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:w_,type:t,key:o,ref:s,props:i,_owner:E_.current}}af.Fragment=S_;af.jsx=Ag;af.jsxs=Ag;xg.exports=af;var lr=xg.exports,f0={},Ig={exports:{}},Ar={},Og={exports:{}},Fg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,G){var O=j.length;j.push(G);e:for(;0<O;){var L=O-1>>>1,B=j[L];if(0<i(B,G))j[L]=G,j[O]=B,O=L;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],O=j.pop();if(O!==G){j[0]=O;e:for(var L=0,B=j.length,V=B>>>1;L<V;){var $=2*(L+1)-1,J=j[$],ee=$+1,oe=j[ee];if(0>i(J,O))ee<B&&0>i(oe,J)?(j[L]=oe,j[ee]=O,L=ee):(j[L]=J,j[$]=O,L=$);else if(ee<B&&0>i(oe,O))j[L]=oe,j[ee]=O,L=ee;else break e}}return G}function i(j,G){var O=j.sortIndex-G.sortIndex;return O!==0?O:j.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],p=1,v=null,g=3,y=!1,x=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=j)r(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(d)}}function M(j){if(C=!1,E(j),!x)if(n(c)!==null)x=!0,q(R);else{var G=n(d);G!==null&&me(M,G.startTime-j)}}function R(j,G){x=!1,C&&(C=!1,_(U),U=-1),y=!0;var O=g;try{for(E(G),v=n(c);v!==null&&(!(v.expirationTime>G)||j&&!Q());){var L=v.callback;if(typeof L=="function"){v.callback=null,g=v.priorityLevel;var B=L(v.expirationTime<=G);G=t.unstable_now(),typeof B=="function"?v.callback=B:v===n(c)&&r(c),E(G)}else r(c);v=n(c)}if(v!==null)var V=!0;else{var $=n(d);$!==null&&me(M,$.startTime-G),V=!1}return V}finally{v=null,g=O,y=!1}}var D=!1,A=null,U=-1,N=5,F=-1;function Q(){return!(t.unstable_now()-F<N)}function z(){if(A!==null){var j=t.unstable_now();F=j;var G=!0;try{G=A(!0,j)}finally{G?X():(D=!1,A=null)}}else D=!1}var X;if(typeof w=="function")X=function(){w(z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,re=W.port2;W.port1.onmessage=z,X=function(){re.postMessage(null)}}else X=function(){T(z,0)};function q(j){A=j,D||(D=!0,X())}function me(j,G){U=T(function(){j(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,q(R))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var O=g;g=G;try{return j()}finally{g=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var O=g;g=j;try{return G()}finally{g=O}},t.unstable_scheduleCallback=function(j,G,O){var L=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?L+O:L):O=L,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=O+B,j={id:p++,callback:G,priorityLevel:j,startTime:O,expirationTime:B,sortIndex:-1},O>L?(j.sortIndex=O,e(d,j),n(c)===null&&j===n(d)&&(C?(_(U),U=-1):C=!0,me(M,O-L))):(j.sortIndex=B,e(c,j),x||y||(x=!0,q(R))),j},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(j){var G=g;return function(){var O=g;g=G;try{return j.apply(this,arguments)}finally{g=O}}}})(Fg);Og.exports=Fg;var k_=Og.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_=K,Lr=k_;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ng=new Set,_s={};function cl(t,e){la(t,e),la(t+"Capture",e)}function la(t,e){for(_s[t]=e,t=0;t<e.length;t++)Ng.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,T_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d0={},p0={};function M_(t){return mp.call(p0,t)?!0:mp.call(d0,t)?!1:T_.test(t)?p0[t]=!0:(d0[t]=!0,!1)}function P_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U_(t,e,n,r){if(e===null||typeof e>"u"||P_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ur(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bn[t]=new ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bn[e]=new ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bn[t]=new ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bn[t]=new ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bn[t]=new ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bn[t]=new ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bn[t]=new ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bn[t]=new ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bn[t]=new ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var Th=/[\-:]([a-z])/g;function Mh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Th,Mh);Bn[e]=new ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Th,Mh);Bn[e]=new ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Th,Mh);Bn[e]=new ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bn[t]=new ur(t,1,!1,t.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bn[t]=new ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ph(t,e,n,r){var i=Bn.hasOwnProperty(e)?Bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(U_(e,n,i,r)&&(n=null),r||i===null?M_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=C_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gu=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),zg=Symbol.for("react.provider"),Bg=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),wp=Symbol.for("react.suspense_list"),Rh=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),jg=Symbol.for("react.offscreen"),h0=Symbol.iterator;function Va(t){return t===null||typeof t!="object"?null:(t=h0&&t[h0]||t["@@iterator"],typeof t=="function"?t:null)}var ln=Object.assign,kd;function os(t){if(kd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kd=e&&e[1]||""}return`
`+kd+t}var Cd=!1;function Td(t,e){if(!t||Cd)return"";Cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,u=o.length-1;1<=s&&0<=u&&i[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==o[u]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=u);break}}}finally{Cd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?os(t):""}function D_(t){switch(t.tag){case 5:return os(t.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return t=Td(t.type,!1),t;case 11:return t=Td(t.type.render,!1),t;case 1:return t=Td(t.type,!0),t;default:return""}}function Sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bl:return"Fragment";case zl:return"Portal";case gp:return"Profiler";case Uh:return"StrictMode";case yp:return"Suspense";case wp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bg:return(t.displayName||"Context")+".Consumer";case zg:return(t._context.displayName||"Context")+".Provider";case Dh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rh:return e=t.displayName||null,e!==null?e:Sp(t.type)||"Memo";case io:e=t._payload,t=t._init;try{return Sp(t(e))}catch{}}return null}function R_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sp(e);case 8:return e===Uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function L_(t){var e=Gg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hu(t){t._valueTracker||(t._valueTracker=L_(t))}function Hg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _p(t,e){var n=e.checked;return ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wg(t,e){e=e.checked,e!=null&&Ph(t,"checked",e,!1)}function Ep(t,e){Wg(t,e);var n=xo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xp(t,e.type,n):e.hasOwnProperty("defaultValue")&&xp(t,e.type,xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function m0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xp(t,e,n){(e!=="number"||Ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ls=Array.isArray;function ql(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return ln({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function g0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(we(92));if(ls(n)){if(1<n.length)throw Error(we(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xo(n)}}function bg(t,e){var n=xo(e.value),r=xo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function y0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,Qg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A_=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(t){A_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),us[e]=us[t]})});function Yg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||us.hasOwnProperty(t)&&us[t]?(""+e).trim():e+"px"}function Xg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var I_=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tp(t,e){if(e){if(I_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function Mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pp=null;function Lh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Up=null,$l=null,ea=null;function w0(t){if(t=bs(t)){if(typeof Up!="function")throw Error(we(280));var e=t.stateNode;e&&(e=df(e),Up(t.stateNode,t.type,e))}}function Zg(t){$l?ea?ea.push(t):ea=[t]:$l=t}function Kg(){if($l){var t=$l,e=ea;if(ea=$l=null,w0(t),e)for(t=0;t<e.length;t++)w0(e[t])}}function Jg(t,e){return t(e)}function qg(){}var Md=!1;function $g(t,e,n){if(Md)return t(e,n);Md=!0;try{return Jg(t,e,n)}finally{Md=!1,($l!==null||ea!==null)&&(qg(),Kg())}}function xs(t,e){var n=t.stateNode;if(n===null)return null;var r=df(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(we(231,e,typeof n));return n}var Dp=!1;if(Gi)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Dp=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Dp=!1}function O_(t,e,n,r,i,o,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var cs=!1,Oc=null,Fc=!1,Rp=null,F_={onError:function(t){cs=!0,Oc=t}};function N_(t,e,n,r,i,o,s,u,c){cs=!1,Oc=null,O_.apply(F_,arguments)}function z_(t,e,n,r,i,o,s,u,c){if(N_.apply(this,arguments),cs){if(cs){var d=Oc;cs=!1,Oc=null}else throw Error(we(198));Fc||(Fc=!0,Rp=d)}}function fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ey(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S0(t){if(fl(t)!==t)throw Error(we(188))}function B_(t){var e=t.alternate;if(!e){if(e=fl(t),e===null)throw Error(we(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return S0(i),t;if(o===r)return S0(i),e;o=o.sibling}throw Error(we(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(we(189))}}if(n.alternate!==r)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?t:e}function ty(t){return t=B_(t),t!==null?ny(t):null}function ny(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ny(t);if(e!==null)return e;t=t.sibling}return null}var ry=Lr.unstable_scheduleCallback,_0=Lr.unstable_cancelCallback,j_=Lr.unstable_shouldYield,G_=Lr.unstable_requestPaint,vn=Lr.unstable_now,H_=Lr.unstable_getCurrentPriorityLevel,Ah=Lr.unstable_ImmediatePriority,iy=Lr.unstable_UserBlockingPriority,Nc=Lr.unstable_NormalPriority,W_=Lr.unstable_LowPriority,oy=Lr.unstable_IdlePriority,sf=null,Ei=null;function b_(t){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(sf,t,void 0,(t.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:Y_,V_=Math.log,Q_=Math.LN2;function Y_(t){return t>>>=0,t===0?32:31-(V_(t)/Q_|0)|0}var bu=64,Vu=4194304;function as(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var u=s&~i;u!==0?r=as(u):(o&=s,o!==0&&(r=as(o)))}else s=n&~i,s!==0?r=as(s):o!==0&&(r=as(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ai(e),i=1<<n,r|=t[n],e&=~i;return r}function X_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ai(o),u=1<<s,c=i[s];c===-1?(!(u&n)||u&r)&&(i[s]=X_(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function Lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ly(){var t=bu;return bu<<=1,!(bu&4194240)&&(bu=64),t}function Pd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ai(e),t[e]=n}function K_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ai(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ih(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ai(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var zt=0;function ay(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sy,Oh,uy,cy,fy,Ap=!1,Qu=[],ho=null,vo=null,mo=null,ks=new Map,Cs=new Map,ao=[],J_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E0(t,e){switch(t){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":ks.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(e.pointerId)}}function Ya(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=bs(e),e!==null&&Oh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function q_(t,e,n,r,i){switch(e){case"focusin":return ho=Ya(ho,t,e,n,r,i),!0;case"dragenter":return vo=Ya(vo,t,e,n,r,i),!0;case"mouseover":return mo=Ya(mo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ks.set(o,Ya(ks.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Cs.set(o,Ya(Cs.get(o)||null,t,e,n,r,i)),!0}return!1}function dy(t){var e=Xo(t.target);if(e!==null){var n=fl(e);if(n!==null){if(e=n.tag,e===13){if(e=ey(n),e!==null){t.blockedOn=e,fy(t.priority,function(){uy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ip(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pp=r,n.target.dispatchEvent(r),Pp=null}else return e=bs(n),e!==null&&Oh(e),t.blockedOn=n,!1;e.shift()}return!0}function x0(t,e,n){gc(t)&&n.delete(e)}function $_(){Ap=!1,ho!==null&&gc(ho)&&(ho=null),vo!==null&&gc(vo)&&(vo=null),mo!==null&&gc(mo)&&(mo=null),ks.forEach(x0),Cs.forEach(x0)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,Ap||(Ap=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,$_)))}function Ts(t){function e(i){return Xa(i,t)}if(0<Qu.length){Xa(Qu[0],t);for(var n=1;n<Qu.length;n++){var r=Qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ho!==null&&Xa(ho,t),vo!==null&&Xa(vo,t),mo!==null&&Xa(mo,t),ks.forEach(e),Cs.forEach(e),n=0;n<ao.length;n++)r=ao[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ao.length&&(n=ao[0],n.blockedOn===null);)dy(n),n.blockedOn===null&&ao.shift()}var ta=Vi.ReactCurrentBatchConfig,Bc=!0;function eE(t,e,n,r){var i=zt,o=ta.transition;ta.transition=null;try{zt=1,Fh(t,e,n,r)}finally{zt=i,ta.transition=o}}function tE(t,e,n,r){var i=zt,o=ta.transition;ta.transition=null;try{zt=4,Fh(t,e,n,r)}finally{zt=i,ta.transition=o}}function Fh(t,e,n,r){if(Bc){var i=Ip(t,e,n,r);if(i===null)zd(t,e,r,jc,n),E0(t,r);else if(q_(i,t,e,n,r))r.stopPropagation();else if(E0(t,r),e&4&&-1<J_.indexOf(t)){for(;i!==null;){var o=bs(i);if(o!==null&&sy(o),o=Ip(t,e,n,r),o===null&&zd(t,e,r,jc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else zd(t,e,r,null,n)}}var jc=null;function Ip(t,e,n,r){if(jc=null,t=Lh(r),t=Xo(t),t!==null)if(e=fl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ey(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jc=t,null}function py(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H_()){case Ah:return 1;case iy:return 4;case Nc:case W_:return 16;case oy:return 536870912;default:return 16}default:return 16}}var co=null,Nh=null,yc=null;function hy(){if(yc)return yc;var t,e=Nh,n=e.length,r,i="value"in co?co.value:co.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return yc=i.slice(t,1<r?1-r:void 0)}function wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yu(){return!0}function k0(){return!1}function Ir(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yu:k0,this.isPropagationStopped=k0,this}return ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),e}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zh=Ir(ga),Ws=ln({},ga,{view:0,detail:0}),nE=Ir(Ws),Ud,Dd,Za,uf=ln({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(Ud=t.screenX-Za.screenX,Dd=t.screenY-Za.screenY):Dd=Ud=0,Za=t),Ud)},movementY:function(t){return"movementY"in t?t.movementY:Dd}}),C0=Ir(uf),rE=ln({},uf,{dataTransfer:0}),iE=Ir(rE),oE=ln({},Ws,{relatedTarget:0}),Rd=Ir(oE),lE=ln({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),aE=Ir(lE),sE=ln({},ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uE=Ir(sE),cE=ln({},ga,{data:0}),T0=Ir(cE),fE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pE[t])?!!e[t]:!1}function Bh(){return hE}var vE=ln({},Ws,{key:function(t){if(t.key){var e=fE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mE=Ir(vE),gE=ln({},uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M0=Ir(gE),yE=ln({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),wE=Ir(yE),SE=ln({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),_E=Ir(SE),EE=ln({},uf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xE=Ir(EE),kE=[9,13,27,32],jh=Gi&&"CompositionEvent"in window,fs=null;Gi&&"documentMode"in document&&(fs=document.documentMode);var CE=Gi&&"TextEvent"in window&&!fs,vy=Gi&&(!jh||fs&&8<fs&&11>=fs),P0=String.fromCharCode(32),U0=!1;function my(t,e){switch(t){case"keyup":return kE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jl=!1;function TE(t,e){switch(t){case"compositionend":return gy(e);case"keypress":return e.which!==32?null:(U0=!0,P0);case"textInput":return t=e.data,t===P0&&U0?null:t;default:return null}}function ME(t,e){if(jl)return t==="compositionend"||!jh&&my(t,e)?(t=hy(),yc=Nh=co=null,jl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vy&&e.locale!=="ko"?null:e.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PE[t.type]:e==="textarea"}function yy(t,e,n,r){Zg(r),e=Gc(e,"onChange"),0<e.length&&(n=new zh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ds=null,Ms=null;function UE(t){Uy(t,0)}function cf(t){var e=Wl(t);if(Hg(e))return t}function DE(t,e){if(t==="change")return e}var wy=!1;if(Gi){var Ld;if(Gi){var Ad="oninput"in document;if(!Ad){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),Ad=typeof R0.oninput=="function"}Ld=Ad}else Ld=!1;wy=Ld&&(!document.documentMode||9<document.documentMode)}function L0(){ds&&(ds.detachEvent("onpropertychange",Sy),Ms=ds=null)}function Sy(t){if(t.propertyName==="value"&&cf(Ms)){var e=[];yy(e,Ms,t,Lh(t)),$g(UE,e)}}function RE(t,e,n){t==="focusin"?(L0(),ds=e,Ms=n,ds.attachEvent("onpropertychange",Sy)):t==="focusout"&&L0()}function LE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cf(Ms)}function AE(t,e){if(t==="click")return cf(e)}function IE(t,e){if(t==="input"||t==="change")return cf(e)}function OE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ui=typeof Object.is=="function"?Object.is:OE;function Ps(t,e){if(ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mp.call(e,i)||!ui(t[i],e[i]))return!1}return!0}function A0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I0(t,e){var n=A0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A0(n)}}function _y(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_y(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ey(){for(var t=window,e=Ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ic(t.document)}return e}function Gh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FE(t){var e=Ey(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_y(n.ownerDocument.documentElement,n)){if(r!==null&&Gh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=I0(n,o);var s=I0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NE=Gi&&"documentMode"in document&&11>=document.documentMode,Gl=null,Op=null,ps=null,Fp=!1;function O0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fp||Gl==null||Gl!==Ic(r)||(r=Gl,"selectionStart"in r&&Gh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ps&&Ps(ps,r)||(ps=r,r=Gc(Op,"onSelect"),0<r.length&&(e=new zh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gl)))}function Xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hl={animationend:Xu("Animation","AnimationEnd"),animationiteration:Xu("Animation","AnimationIteration"),animationstart:Xu("Animation","AnimationStart"),transitionend:Xu("Transition","TransitionEnd")},Id={},xy={};Gi&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function ff(t){if(Id[t])return Id[t];if(!Hl[t])return t;var e=Hl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xy)return Id[t]=e[n];return t}var ky=ff("animationend"),Cy=ff("animationiteration"),Ty=ff("animationstart"),My=ff("transitionend"),Py=new Map,F0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(t,e){Py.set(t,e),cl(e,[t])}for(var Od=0;Od<F0.length;Od++){var Fd=F0[Od],zE=Fd.toLowerCase(),BE=Fd[0].toUpperCase()+Fd.slice(1);To(zE,"on"+BE)}To(ky,"onAnimationEnd");To(Cy,"onAnimationIteration");To(Ty,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(My,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function N0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,z_(r,e,void 0,t),t.currentTarget=null}function Uy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;N0(i,u,d),o=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;N0(i,u,d),o=c}}}if(Fc)throw t=Rp,Fc=!1,Rp=null,t}function Vt(t,e){var n=e[Gp];n===void 0&&(n=e[Gp]=new Set);var r=t+"__bubble";n.has(r)||(Dy(e,t,2,!1),n.add(r))}function Nd(t,e,n){var r=0;e&&(r|=4),Dy(n,t,r,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Us(t){if(!t[Zu]){t[Zu]=!0,Ng.forEach(function(n){n!=="selectionchange"&&(jE.has(n)||Nd(n,!1,t),Nd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,Nd("selectionchange",!1,e))}}function Dy(t,e,n,r){switch(py(e)){case 1:var i=eE;break;case 4:i=tE;break;default:i=Fh}n=i.bind(null,e,n,t),i=void 0,!Dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;u!==null;){if(s=Xo(u),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}u=u.parentNode}}r=r.return}$g(function(){var d=o,p=Lh(n),v=[];e:{var g=Py.get(t);if(g!==void 0){var y=zh,x=t;switch(t){case"keypress":if(wc(n)===0)break e;case"keydown":case"keyup":y=mE;break;case"focusin":x="focus",y=Rd;break;case"focusout":x="blur",y=Rd;break;case"beforeblur":case"afterblur":y=Rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=iE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=wE;break;case ky:case Cy:case Ty:y=aE;break;case My:y=_E;break;case"scroll":y=nE;break;case"wheel":y=xE;break;case"copy":case"cut":case"paste":y=uE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=M0}var C=(e&4)!==0,T=!C&&t==="scroll",_=C?g!==null?g+"Capture":null:g;C=[];for(var w=d,E;w!==null;){E=w;var M=E.stateNode;if(E.tag===5&&M!==null&&(E=M,_!==null&&(M=xs(w,_),M!=null&&C.push(Ds(w,M,E)))),T)break;w=w.return}0<C.length&&(g=new y(g,x,null,n,p),v.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==Pp&&(x=n.relatedTarget||n.fromElement)&&(Xo(x)||x[Hi]))break e;if((y||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=d,x=x?Xo(x):null,x!==null&&(T=fl(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=d),y!==x)){if(C=C0,M="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(C=M0,M="onPointerLeave",_="onPointerEnter",w="pointer"),T=y==null?g:Wl(y),E=x==null?g:Wl(x),g=new C(M,w+"leave",y,n,p),g.target=T,g.relatedTarget=E,M=null,Xo(p)===d&&(C=new C(_,w+"enter",x,n,p),C.target=E,C.relatedTarget=T,M=C),T=M,y&&x)t:{for(C=y,_=x,w=0,E=C;E;E=Ul(E))w++;for(E=0,M=_;M;M=Ul(M))E++;for(;0<w-E;)C=Ul(C),w--;for(;0<E-w;)_=Ul(_),E--;for(;w--;){if(C===_||_!==null&&C===_.alternate)break t;C=Ul(C),_=Ul(_)}C=null}else C=null;y!==null&&z0(v,g,y,C,!1),x!==null&&T!==null&&z0(v,T,x,C,!0)}}e:{if(g=d?Wl(d):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var R=DE;else if(D0(g))if(wy)R=IE;else{R=LE;var D=RE}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(R=AE);if(R&&(R=R(t,d))){yy(v,R,n,p);break e}D&&D(t,g,d),t==="focusout"&&(D=g._wrapperState)&&D.controlled&&g.type==="number"&&xp(g,"number",g.value)}switch(D=d?Wl(d):window,t){case"focusin":(D0(D)||D.contentEditable==="true")&&(Gl=D,Op=d,ps=null);break;case"focusout":ps=Op=Gl=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,O0(v,n,p);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":O0(v,n,p)}var A;if(jh)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else jl?my(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(vy&&n.locale!=="ko"&&(jl||U!=="onCompositionStart"?U==="onCompositionEnd"&&jl&&(A=hy()):(co=p,Nh="value"in co?co.value:co.textContent,jl=!0)),D=Gc(d,U),0<D.length&&(U=new T0(U,t,null,n,p),v.push({event:U,listeners:D}),A?U.data=A:(A=gy(n),A!==null&&(U.data=A)))),(A=CE?TE(t,n):ME(t,n))&&(d=Gc(d,"onBeforeInput"),0<d.length&&(p=new T0("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:d}),p.data=A))}Uy(v,e)})}function Ds(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=xs(t,n),o!=null&&r.unshift(Ds(t,o,i)),o=xs(t,e),o!=null&&r.push(Ds(t,o,i))),t=t.return}return r}function Ul(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,i?(c=xs(n,o),c!=null&&s.unshift(Ds(n,c,u))):i||(c=xs(n,o),c!=null&&s.push(Ds(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var GE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function B0(t){return(typeof t=="string"?t:""+t).replace(GE,`
`).replace(HE,"")}function Ku(t,e,n){if(e=B0(e),B0(t)!==e&&n)throw Error(we(425))}function Hc(){}var Np=null,zp=null;function Bp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,j0=typeof Promise=="function"?Promise:void 0,bE=typeof queueMicrotask=="function"?queueMicrotask:typeof j0<"u"?function(t){return j0.resolve(null).then(t).catch(VE)}:jp;function VE(t){setTimeout(function(){throw t})}function Bd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ts(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ts(e)}function go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ya=Math.random().toString(36).slice(2),Si="__reactFiber$"+ya,Rs="__reactProps$"+ya,Hi="__reactContainer$"+ya,Gp="__reactEvents$"+ya,QE="__reactListeners$"+ya,YE="__reactHandles$"+ya;function Xo(t){var e=t[Si];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hi]||n[Si]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G0(t);t!==null;){if(n=t[Si])return n;t=G0(t)}return e}t=n,n=t.parentNode}return null}function bs(t){return t=t[Si]||t[Hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function df(t){return t[Rs]||null}var Hp=[],bl=-1;function Mo(t){return{current:t}}function Yt(t){0>bl||(t.current=Hp[bl],Hp[bl]=null,bl--)}function Wt(t,e){bl++,Hp[bl]=t.current,t.current=e}var ko={},Kn=Mo(ko),yr=Mo(!1),il=ko;function aa(t,e){var n=t.type.contextTypes;if(!n)return ko;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wr(t){return t=t.childContextTypes,t!=null}function Wc(){Yt(yr),Yt(Kn)}function H0(t,e,n){if(Kn.current!==ko)throw Error(we(168));Wt(Kn,e),Wt(yr,n)}function Ry(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(we(108,R_(t)||"Unknown",i));return ln({},n,r)}function bc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ko,il=Kn.current,Wt(Kn,t),Wt(yr,yr.current),!0}function W0(t,e,n){var r=t.stateNode;if(!r)throw Error(we(169));n?(t=Ry(t,e,il),r.__reactInternalMemoizedMergedChildContext=t,Yt(yr),Yt(Kn),Wt(Kn,t)):Yt(yr),Wt(yr,n)}var Fi=null,pf=!1,jd=!1;function Ly(t){Fi===null?Fi=[t]:Fi.push(t)}function XE(t){pf=!0,Ly(t)}function Po(){if(!jd&&Fi!==null){jd=!0;var t=0,e=zt;try{var n=Fi;for(zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fi=null,pf=!1}catch(i){throw Fi!==null&&(Fi=Fi.slice(t+1)),ry(Ah,Po),i}finally{zt=e,jd=!1}}return null}var Vl=[],Ql=0,Vc=null,Qc=0,Wr=[],br=0,ol=null,Ni=1,zi="";function Vo(t,e){Vl[Ql++]=Qc,Vl[Ql++]=Vc,Vc=t,Qc=e}function Ay(t,e,n){Wr[br++]=Ni,Wr[br++]=zi,Wr[br++]=ol,ol=t;var r=Ni;t=zi;var i=32-ai(r)-1;r&=~(1<<i),n+=1;var o=32-ai(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ni=1<<32-ai(e)+i|n<<i|r,zi=o+t}else Ni=1<<o|n<<i|r,zi=t}function Hh(t){t.return!==null&&(Vo(t,1),Ay(t,1,0))}function Wh(t){for(;t===Vc;)Vc=Vl[--Ql],Vl[Ql]=null,Qc=Vl[--Ql],Vl[Ql]=null;for(;t===ol;)ol=Wr[--br],Wr[br]=null,zi=Wr[--br],Wr[br]=null,Ni=Wr[--br],Wr[br]=null}var Rr=null,Dr=null,Jt=!1,li=null;function Iy(t,e){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function b0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rr=t,Dr=go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rr=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ol!==null?{id:Ni,overflow:zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rr=t,Dr=null,!0):!1;default:return!1}}function Wp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bp(t){if(Jt){var e=Dr;if(e){var n=e;if(!b0(t,e)){if(Wp(t))throw Error(we(418));e=go(n.nextSibling);var r=Rr;e&&b0(t,e)?Iy(r,n):(t.flags=t.flags&-4097|2,Jt=!1,Rr=t)}}else{if(Wp(t))throw Error(we(418));t.flags=t.flags&-4097|2,Jt=!1,Rr=t}}}function V0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rr=t}function Ju(t){if(t!==Rr)return!1;if(!Jt)return V0(t),Jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bp(t.type,t.memoizedProps)),e&&(e=Dr)){if(Wp(t))throw Oy(),Error(we(418));for(;e;)Iy(t,e),e=go(e.nextSibling)}if(V0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dr=go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Rr?go(t.stateNode.nextSibling):null;return!0}function Oy(){for(var t=Dr;t;)t=go(t.nextSibling)}function sa(){Dr=Rr=null,Jt=!1}function bh(t){li===null?li=[t]:li.push(t)}var ZE=Vi.ReactCurrentBatchConfig;function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var r=n.stateNode}if(!r)throw Error(we(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var u=i.refs;s===null?delete u[o]:u[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,t))}return t}function qu(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q0(t){var e=t._init;return e(t._payload)}function Fy(t){function e(_,w){if(t){var E=_.deletions;E===null?(_.deletions=[w],_.flags|=16):E.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=_o(_,w),_.index=0,_.sibling=null,_}function o(_,w,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<w?(_.flags|=2,w):E):(_.flags|=2,w)):(_.flags|=1048576,w)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function u(_,w,E,M){return w===null||w.tag!==6?(w=Yd(E,_.mode,M),w.return=_,w):(w=i(w,E),w.return=_,w)}function c(_,w,E,M){var R=E.type;return R===Bl?p(_,w,E.props.children,M,E.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===io&&Q0(R)===w.type)?(M=i(w,E.props),M.ref=Ka(_,w,E),M.return=_,M):(M=Tc(E.type,E.key,E.props,null,_.mode,M),M.ref=Ka(_,w,E),M.return=_,M)}function d(_,w,E,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Xd(E,_.mode,M),w.return=_,w):(w=i(w,E.children||[]),w.return=_,w)}function p(_,w,E,M,R){return w===null||w.tag!==7?(w=el(E,_.mode,M,R),w.return=_,w):(w=i(w,E),w.return=_,w)}function v(_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yd(""+w,_.mode,E),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gu:return E=Tc(w.type,w.key,w.props,null,_.mode,E),E.ref=Ka(_,null,w),E.return=_,E;case zl:return w=Xd(w,_.mode,E),w.return=_,w;case io:var M=w._init;return v(_,M(w._payload),E)}if(ls(w)||Va(w))return w=el(w,_.mode,E,null),w.return=_,w;qu(_,w)}return null}function g(_,w,E,M){var R=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:u(_,w,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gu:return E.key===R?c(_,w,E,M):null;case zl:return E.key===R?d(_,w,E,M):null;case io:return R=E._init,g(_,w,R(E._payload),M)}if(ls(E)||Va(E))return R!==null?null:p(_,w,E,M,null);qu(_,E)}return null}function y(_,w,E,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return _=_.get(E)||null,u(w,_,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Gu:return _=_.get(M.key===null?E:M.key)||null,c(w,_,M,R);case zl:return _=_.get(M.key===null?E:M.key)||null,d(w,_,M,R);case io:var D=M._init;return y(_,w,E,D(M._payload),R)}if(ls(M)||Va(M))return _=_.get(E)||null,p(w,_,M,R,null);qu(w,M)}return null}function x(_,w,E,M){for(var R=null,D=null,A=w,U=w=0,N=null;A!==null&&U<E.length;U++){A.index>U?(N=A,A=null):N=A.sibling;var F=g(_,A,E[U],M);if(F===null){A===null&&(A=N);break}t&&A&&F.alternate===null&&e(_,A),w=o(F,w,U),D===null?R=F:D.sibling=F,D=F,A=N}if(U===E.length)return n(_,A),Jt&&Vo(_,U),R;if(A===null){for(;U<E.length;U++)A=v(_,E[U],M),A!==null&&(w=o(A,w,U),D===null?R=A:D.sibling=A,D=A);return Jt&&Vo(_,U),R}for(A=r(_,A);U<E.length;U++)N=y(A,_,U,E[U],M),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?U:N.key),w=o(N,w,U),D===null?R=N:D.sibling=N,D=N);return t&&A.forEach(function(Q){return e(_,Q)}),Jt&&Vo(_,U),R}function C(_,w,E,M){var R=Va(E);if(typeof R!="function")throw Error(we(150));if(E=R.call(E),E==null)throw Error(we(151));for(var D=R=null,A=w,U=w=0,N=null,F=E.next();A!==null&&!F.done;U++,F=E.next()){A.index>U?(N=A,A=null):N=A.sibling;var Q=g(_,A,F.value,M);if(Q===null){A===null&&(A=N);break}t&&A&&Q.alternate===null&&e(_,A),w=o(Q,w,U),D===null?R=Q:D.sibling=Q,D=Q,A=N}if(F.done)return n(_,A),Jt&&Vo(_,U),R;if(A===null){for(;!F.done;U++,F=E.next())F=v(_,F.value,M),F!==null&&(w=o(F,w,U),D===null?R=F:D.sibling=F,D=F);return Jt&&Vo(_,U),R}for(A=r(_,A);!F.done;U++,F=E.next())F=y(A,_,U,F.value,M),F!==null&&(t&&F.alternate!==null&&A.delete(F.key===null?U:F.key),w=o(F,w,U),D===null?R=F:D.sibling=F,D=F);return t&&A.forEach(function(z){return e(_,z)}),Jt&&Vo(_,U),R}function T(_,w,E,M){if(typeof E=="object"&&E!==null&&E.type===Bl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Gu:e:{for(var R=E.key,D=w;D!==null;){if(D.key===R){if(R=E.type,R===Bl){if(D.tag===7){n(_,D.sibling),w=i(D,E.props.children),w.return=_,_=w;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===io&&Q0(R)===D.type){n(_,D.sibling),w=i(D,E.props),w.ref=Ka(_,D,E),w.return=_,_=w;break e}n(_,D);break}else e(_,D);D=D.sibling}E.type===Bl?(w=el(E.props.children,_.mode,M,E.key),w.return=_,_=w):(M=Tc(E.type,E.key,E.props,null,_.mode,M),M.ref=Ka(_,w,E),M.return=_,_=M)}return s(_);case zl:e:{for(D=E.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(_,w.sibling),w=i(w,E.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Xd(E,_.mode,M),w.return=_,_=w}return s(_);case io:return D=E._init,T(_,w,D(E._payload),M)}if(ls(E))return x(_,w,E,M);if(Va(E))return C(_,w,E,M);qu(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,E),w.return=_,_=w):(n(_,w),w=Yd(E,_.mode,M),w.return=_,_=w),s(_)):n(_,w)}return T}var ua=Fy(!0),Ny=Fy(!1),Yc=Mo(null),Xc=null,Yl=null,Vh=null;function Qh(){Vh=Yl=Xc=null}function Yh(t){var e=Yc.current;Yt(Yc),t._currentValue=e}function Vp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function na(t,e){Xc=t,Vh=Yl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gr=!0),t.firstContext=null)}function Jr(t){var e=t._currentValue;if(Vh!==t)if(t={context:t,memoizedValue:e,next:null},Yl===null){if(Xc===null)throw Error(we(308));Yl=t,Xc.dependencies={lanes:0,firstContext:t}}else Yl=Yl.next=t;return e}var Zo=null;function Xh(t){Zo===null?Zo=[t]:Zo.push(t)}function zy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wi(t,r)}function Wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oo=!1;function Zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function By(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wi(t,n)}return i=r.interleaved,i===null?(e.next=e,Xh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wi(t,n)}function Sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ih(t,n)}}function Y0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zc(t,e,n,r){var i=t.updateQueue;oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?o=d:s.next=d,s=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==s&&(u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=c))}if(o!==null){var v=i.baseState;s=0,p=d=c=null,u=o;do{var g=u.lane,y=u.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,C=u;switch(g=e,y=n,C.tag){case 1:if(x=C.payload,typeof x=="function"){v=x.call(y,v,g);break e}v=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=C.payload,g=typeof x=="function"?x.call(y,v,g):x,g==null)break e;v=ln({},v,g);break e;case 2:oo=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else y={eventTime:y,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(d=p=y,c=v):p=p.next=y,s|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(p===null&&(c=v),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);al|=s,t.lanes=s,t.memoizedState=v}}function X0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(we(191,i));i.call(r)}}}var Vs={},xi=Mo(Vs),Ls=Mo(Vs),As=Mo(Vs);function Ko(t){if(t===Vs)throw Error(we(174));return t}function Kh(t,e){switch(Wt(As,e),Wt(Ls,t),Wt(xi,Vs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cp(e,t)}Yt(xi),Wt(xi,e)}function ca(){Yt(xi),Yt(Ls),Yt(As)}function jy(t){Ko(As.current);var e=Ko(xi.current),n=Cp(e,t.type);e!==n&&(Wt(Ls,t),Wt(xi,n))}function Jh(t){Ls.current===t&&(Yt(xi),Yt(Ls))}var nn=Mo(0);function Kc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gd=[];function qh(){for(var t=0;t<Gd.length;t++)Gd[t]._workInProgressVersionPrimary=null;Gd.length=0}var _c=Vi.ReactCurrentDispatcher,Hd=Vi.ReactCurrentBatchConfig,ll=0,on=null,xn=null,Dn=null,Jc=!1,hs=!1,Is=0,KE=0;function Qn(){throw Error(we(321))}function $h(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ui(t[n],e[n]))return!1;return!0}function ev(t,e,n,r,i,o){if(ll=o,on=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_c.current=t===null||t.memoizedState===null?ex:tx,t=n(r,i),hs){o=0;do{if(hs=!1,Is=0,25<=o)throw Error(we(301));o+=1,Dn=xn=null,e.updateQueue=null,_c.current=nx,t=n(r,i)}while(hs)}if(_c.current=qc,e=xn!==null&&xn.next!==null,ll=0,Dn=xn=on=null,Jc=!1,e)throw Error(we(300));return t}function tv(){var t=Is!==0;return Is=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?on.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function qr(){if(xn===null){var t=on.alternate;t=t!==null?t.memoizedState:null}else t=xn.next;var e=Dn===null?on.memoizedState:Dn.next;if(e!==null)Dn=e,xn=t;else{if(t===null)throw Error(we(310));xn=t,t={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Dn===null?on.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function Os(t,e){return typeof e=="function"?e(t):e}function Wd(t){var e=qr(),n=e.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=t;var r=xn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=s=null,c=null,d=o;do{var p=d.lane;if((ll&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var v={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=v,s=r):c=c.next=v,on.lanes|=p,al|=p}d=d.next}while(d!==null&&d!==o);c===null?s=r:c.next=u,ui(r,e.memoizedState)||(gr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,on.lanes|=o,al|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bd(t){var e=qr(),n=e.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ui(o,e.memoizedState)||(gr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Gy(){}function Hy(t,e){var n=on,r=qr(),i=e(),o=!ui(r.memoizedState,i);if(o&&(r.memoizedState=i,gr=!0),r=r.queue,nv(Vy.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Fs(9,by.bind(null,n,r,i,e),void 0,null),Rn===null)throw Error(we(349));ll&30||Wy(n,e,i)}return i}function Wy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function by(t,e,n,r){e.value=n,e.getSnapshot=r,Qy(e)&&Yy(t)}function Vy(t,e,n){return n(function(){Qy(e)&&Yy(t)})}function Qy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ui(t,n)}catch{return!0}}function Yy(t){var e=Wi(t,1);e!==null&&si(e,t,1,-1)}function Z0(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},e.queue=t,t=t.dispatch=$E.bind(null,on,t),[e.memoizedState,t]}function Fs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xy(){return qr().memoizedState}function Ec(t,e,n,r){var i=wi();on.flags|=t,i.memoizedState=Fs(1|e,n,void 0,r===void 0?null:r)}function hf(t,e,n,r){var i=qr();r=r===void 0?null:r;var o=void 0;if(xn!==null){var s=xn.memoizedState;if(o=s.destroy,r!==null&&$h(r,s.deps)){i.memoizedState=Fs(e,n,o,r);return}}on.flags|=t,i.memoizedState=Fs(1|e,n,o,r)}function K0(t,e){return Ec(8390656,8,t,e)}function nv(t,e){return hf(2048,8,t,e)}function Zy(t,e){return hf(4,2,t,e)}function Ky(t,e){return hf(4,4,t,e)}function Jy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qy(t,e,n){return n=n!=null?n.concat([t]):null,hf(4,4,Jy.bind(null,e,t),n)}function rv(){}function $y(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$h(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e2(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$h(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t2(t,e,n){return ll&21?(ui(n,e)||(n=ly(),on.lanes|=n,al|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gr=!0),t.memoizedState=n)}function JE(t,e){var n=zt;zt=n!==0&&4>n?n:4,t(!0);var r=Hd.transition;Hd.transition={};try{t(!1),e()}finally{zt=n,Hd.transition=r}}function n2(){return qr().memoizedState}function qE(t,e,n){var r=So(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r2(t))i2(e,n);else if(n=zy(t,e,n,r),n!==null){var i=ar();si(n,t,r,i),o2(n,e,r)}}function $E(t,e,n){var r=So(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r2(t))i2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,n);if(i.hasEagerState=!0,i.eagerState=u,ui(u,s)){var c=e.interleaved;c===null?(i.next=i,Xh(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=zy(t,e,i,r),n!==null&&(i=ar(),si(n,t,r,i),o2(n,e,r))}}function r2(t){var e=t.alternate;return t===on||e!==null&&e===on}function i2(t,e){hs=Jc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function o2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ih(t,n)}}var qc={readContext:Jr,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},ex={readContext:Jr,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:Jr,useEffect:K0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ec(4194308,4,Jy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ec(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ec(4,2,t,e)},useMemo:function(t,e){var n=wi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qE.bind(null,on,t),[r.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:Z0,useDebugValue:rv,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=Z0(!1),e=t[0];return t=JE.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=on,i=wi();if(Jt){if(n===void 0)throw Error(we(407));n=n()}else{if(n=e(),Rn===null)throw Error(we(349));ll&30||Wy(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,K0(Vy.bind(null,r,o,t),[t]),r.flags|=2048,Fs(9,by.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=wi(),e=Rn.identifierPrefix;if(Jt){var n=zi,r=Ni;n=(r&~(1<<32-ai(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Is++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tx={readContext:Jr,useCallback:$y,useContext:Jr,useEffect:nv,useImperativeHandle:qy,useInsertionEffect:Zy,useLayoutEffect:Ky,useMemo:e2,useReducer:Wd,useRef:Xy,useState:function(){return Wd(Os)},useDebugValue:rv,useDeferredValue:function(t){var e=qr();return t2(e,xn.memoizedState,t)},useTransition:function(){var t=Wd(Os)[0],e=qr().memoizedState;return[t,e]},useMutableSource:Gy,useSyncExternalStore:Hy,useId:n2,unstable_isNewReconciler:!1},nx={readContext:Jr,useCallback:$y,useContext:Jr,useEffect:nv,useImperativeHandle:qy,useInsertionEffect:Zy,useLayoutEffect:Ky,useMemo:e2,useReducer:bd,useRef:Xy,useState:function(){return bd(Os)},useDebugValue:rv,useDeferredValue:function(t){var e=qr();return xn===null?e.memoizedState=t:t2(e,xn.memoizedState,t)},useTransition:function(){var t=bd(Os)[0],e=qr().memoizedState;return[t,e]},useMutableSource:Gy,useSyncExternalStore:Hy,useId:n2,unstable_isNewReconciler:!1};function ii(t,e){if(t&&t.defaultProps){e=ln({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ln({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vf={isMounted:function(t){return(t=t._reactInternals)?fl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ar(),i=So(t),o=ji(r,i);o.payload=e,n!=null&&(o.callback=n),e=yo(t,o,i),e!==null&&(si(e,t,i,r),Sc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ar(),i=So(t),o=ji(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=yo(t,o,i),e!==null&&(si(e,t,i,r),Sc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ar(),r=So(t),i=ji(n,r);i.tag=2,e!=null&&(i.callback=e),e=yo(t,i,r),e!==null&&(si(e,t,r,n),Sc(e,t,r))}};function J0(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ps(n,r)||!Ps(i,o):!0}function l2(t,e,n){var r=!1,i=ko,o=e.contextType;return typeof o=="object"&&o!==null?o=Jr(o):(i=wr(e)?il:Kn.current,r=e.contextTypes,o=(r=r!=null)?aa(t,i):ko),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function q0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vf.enqueueReplaceState(e,e.state,null)}function Yp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Zh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jr(o):(o=wr(e)?il:Kn.current,i.context=aa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Qp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vf.enqueueReplaceState(i,i.state,null),Zc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fa(t,e){try{var n="",r=e;do n+=D_(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Vd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rx=typeof WeakMap=="function"?WeakMap:Map;function a2(t,e,n){n=ji(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ef||(ef=!0,ih=r),Xp(t,e)},n}function s2(t,e,n){n=ji(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xp(t,e),typeof r!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function $0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rx;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gx.bind(null,t,e,n),e.then(t,t))}function e1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ji(-1,1),e.tag=2,yo(n,e,1))),n.lanes|=1),t)}var ix=Vi.ReactCurrentOwner,gr=!1;function or(t,e,n,r){e.child=t===null?Ny(e,null,n,r):ua(e,t.child,n,r)}function n1(t,e,n,r,i){n=n.render;var o=e.ref;return na(e,i),r=ev(t,e,n,r,o,i),n=tv(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(Jt&&n&&Hh(e),e.flags|=1,or(t,e,r,i),e.child)}function r1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!fv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,u2(t,e,o,r,i)):(t=Tc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ps,n(s,r)&&t.ref===e.ref)return bi(t,e,i)}return e.flags|=1,t=_o(o,r),t.ref=e.ref,t.return=e,e.child=t}function u2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ps(o,r)&&t.ref===e.ref)if(gr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(gr=!0);else return e.lanes=t.lanes,bi(t,e,i)}return Zp(t,e,n,r,i)}function c2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Zl,Ur),Ur|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(Zl,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Wt(Zl,Ur),Ur|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Wt(Zl,Ur),Ur|=r;return or(t,e,i,n),e.child}function f2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zp(t,e,n,r,i){var o=wr(n)?il:Kn.current;return o=aa(e,o),na(e,i),n=ev(t,e,n,r,o,i),r=tv(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(Jt&&r&&Hh(e),e.flags|=1,or(t,e,n,i),e.child)}function i1(t,e,n,r,i){if(wr(n)){var o=!0;bc(e)}else o=!1;if(na(e,i),e.stateNode===null)xc(t,e),l2(e,n,r),Yp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,u=e.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Jr(d):(d=wr(n)?il:Kn.current,d=aa(e,d));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==d)&&q0(e,s,r,d),oo=!1;var g=e.memoizedState;s.state=g,Zc(e,r,s,i),c=e.memoizedState,u!==r||g!==c||yr.current||oo?(typeof p=="function"&&(Qp(e,n,p,r),c=e.memoizedState),(u=oo||J0(e,n,u,r,g,c,d))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=d,r=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,By(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:ii(e.type,u),s.props=d,v=e.pendingProps,g=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Jr(c):(c=wr(n)?il:Kn.current,c=aa(e,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==v||g!==c)&&q0(e,s,r,c),oo=!1,g=e.memoizedState,s.state=g,Zc(e,r,s,i);var x=e.memoizedState;u!==v||g!==x||yr.current||oo?(typeof y=="function"&&(Qp(e,n,y,r),x=e.memoizedState),(d=oo||J0(e,n,d,r,g,x,c)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Kp(t,e,n,r,o,i)}function Kp(t,e,n,r,i,o){f2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&W0(e,n,!1),bi(t,e,o);r=e.stateNode,ix.current=e;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ua(e,t.child,null,o),e.child=ua(e,null,u,o)):or(t,e,u,o),e.memoizedState=r.state,i&&W0(e,n,!0),e.child}function d2(t){var e=t.stateNode;e.pendingContext?H0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&H0(t,e.context,!1),Kh(t,e.containerInfo)}function o1(t,e,n,r,i){return sa(),bh(i),e.flags|=256,or(t,e,n,r),e.child}var Jp={dehydrated:null,treeContext:null,retryLane:0};function qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function p2(t,e,n){var r=e.pendingProps,i=nn.current,o=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wt(nn,i&1),t===null)return bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=yf(s,r,0,null),t=el(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=qp(n),e.memoizedState=Jp,t):iv(e,s));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return ox(t,e,s,r,u,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=_o(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=_o(u,o):(o=el(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?qp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Jp,r}return o=t.child,t=o.sibling,r=_o(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iv(t,e){return e=yf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $u(t,e,n,r){return r!==null&&bh(r),ua(e,t.child,null,n),t=iv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ox(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Vd(Error(we(422))),$u(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=yf({mode:"visible",children:r.children},i,0,null),o=el(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ua(e,t.child,null,s),e.child.memoizedState=qp(s),e.memoizedState=Jp,o);if(!(e.mode&1))return $u(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(we(419)),r=Vd(o,r,void 0),$u(t,e,s,r)}if(u=(s&t.childLanes)!==0,gr||u){if(r=Rn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Wi(t,i),si(r,t,i,-1))}return cv(),r=Vd(Error(we(421))),$u(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yx.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Dr=go(i.nextSibling),Rr=e,Jt=!0,li=null,t!==null&&(Wr[br++]=Ni,Wr[br++]=zi,Wr[br++]=ol,Ni=t.id,zi=t.overflow,ol=e),e=iv(e,r.children),e.flags|=4096,e)}function l1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vp(t.return,e,n)}function Qd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function h2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(or(t,e,r.children,n),r=nn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&l1(t,n,e);else if(t.tag===19)l1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Wt(nn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qd(e,!0,n,null,o);break;case"together":Qd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),al|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,n=_o(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_o(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lx(t,e,n){switch(e.tag){case 3:d2(e),sa();break;case 5:jy(e);break;case 1:wr(e.type)&&bc(e);break;case 4:Kh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Wt(Yc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Wt(nn,nn.current&1),e.flags|=128,null):n&e.child.childLanes?p2(t,e,n):(Wt(nn,nn.current&1),t=bi(t,e,n),t!==null?t.sibling:null);Wt(nn,nn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return h2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(nn,nn.current),r)break;return null;case 22:case 23:return e.lanes=0,c2(t,e,n)}return bi(t,e,n)}var v2,$p,m2,g2;v2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$p=function(){};m2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ko(xi.current);var o=null;switch(n){case"input":i=_p(t,i),r=_p(t,r),o=[];break;case"select":i=ln({},i,{value:void 0}),r=ln({},r,{value:void 0}),o=[];break;case"textarea":i=kp(t,i),r=kp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hc)}Tp(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_s.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_s.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Vt("scroll",t),o||u===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};g2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ja(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ax(t,e,n){var r=e.pendingProps;switch(Wh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return wr(e.type)&&Wc(),Yn(e),null;case 3:return r=e.stateNode,ca(),Yt(yr),Yt(Kn),qh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,li!==null&&(ah(li),li=null))),$p(t,e),Yn(e),null;case 5:Jh(e);var i=Ko(As.current);if(n=e.type,t!==null&&e.stateNode!=null)m2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(we(166));return Yn(e),null}if(t=Ko(xi.current),Ju(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Si]=e,r[Rs]=o,t=(e.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(i=0;i<ss.length;i++)Vt(ss[i],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":v0(r,o),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vt("invalid",r);break;case"textarea":g0(r,o),Vt("invalid",r)}Tp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Ku(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Ku(r.textContent,u,t),i=["children",""+u]):_s.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&Vt("scroll",r)}switch(n){case"input":Hu(r),m0(r,o,!0);break;case"textarea":Hu(r),y0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Si]=e,t[Rs]=r,v2(t,e,!1,!1),e.stateNode=t;e:{switch(s=Mp(n,r),n){case"dialog":Vt("cancel",t),Vt("close",t),i=r;break;case"iframe":case"object":case"embed":Vt("load",t),i=r;break;case"video":case"audio":for(i=0;i<ss.length;i++)Vt(ss[i],t);i=r;break;case"source":Vt("error",t),i=r;break;case"img":case"image":case"link":Vt("error",t),Vt("load",t),i=r;break;case"details":Vt("toggle",t),i=r;break;case"input":v0(t,r),i=_p(t,r),Vt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ln({},r,{value:void 0}),Vt("invalid",t);break;case"textarea":g0(t,r),i=kp(t,r),Vt("invalid",t);break;default:i=r}Tp(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?Xg(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qg(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Es(t,c):typeof c=="number"&&Es(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_s.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Vt("scroll",t):c!=null&&Ph(t,o,c,s))}switch(n){case"input":Hu(t),m0(t,r,!1);break;case"textarea":Hu(t),y0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ql(t,!!r.multiple,o,!1):r.defaultValue!=null&&ql(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(t&&e.stateNode!=null)g2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(we(166));if(n=Ko(As.current),Ko(xi.current),Ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[Si]=e,(o=r.nodeValue!==n)&&(t=Rr,t!==null))switch(t.tag){case 3:Ku(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ku(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Si]=e,e.stateNode=r}return Yn(e),null;case 13:if(Yt(nn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jt&&Dr!==null&&e.mode&1&&!(e.flags&128))Oy(),sa(),e.flags|=98560,o=!1;else if(o=Ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(we(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(we(317));o[Si]=e}else sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),o=!1}else li!==null&&(ah(li),li=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nn.current&1?Cn===0&&(Cn=3):cv())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return ca(),$p(t,e),t===null&&Us(e.stateNode.containerInfo),Yn(e),null;case 10:return Yh(e.type._context),Yn(e),null;case 17:return wr(e.type)&&Wc(),Yn(e),null;case 19:if(Yt(nn),o=e.memoizedState,o===null)return Yn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ja(o,!1);else{if(Cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Kc(t),s!==null){for(e.flags|=128,Ja(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wt(nn,nn.current&1|2),e.child}t=t.sibling}o.tail!==null&&vn()>da&&(e.flags|=128,r=!0,Ja(o,!1),e.lanes=4194304)}else{if(!r)if(t=Kc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ja(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Jt)return Yn(e),null}else 2*vn()-o.renderingStartTime>da&&n!==1073741824&&(e.flags|=128,r=!0,Ja(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vn(),e.sibling=null,n=nn.current,Wt(nn,r?n&1|2:n&1),e):(Yn(e),null);case 22:case 23:return uv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ur&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function sx(t,e){switch(Wh(e),e.tag){case 1:return wr(e.type)&&Wc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),Yt(yr),Yt(Kn),qh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jh(e),null;case 13:if(Yt(nn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(nn),null;case 4:return ca(),null;case 10:return Yh(e.type._context),null;case 22:case 23:return uv(),null;case 24:return null;default:return null}}var ec=!1,Xn=!1,ux=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Xl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(t,e,r)}else n.current=null}function eh(t,e,n){try{n()}catch(r){un(t,e,r)}}var a1=!1;function cx(t,e){if(Np=Bc,t=Ey(),Gh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,p=0,v=t,g=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(u=s+i),v!==o||r!==0&&v.nodeType!==3||(c=s+r),v.nodeType===3&&(s+=v.nodeValue.length),(y=v.firstChild)!==null;)g=v,v=y;for(;;){if(v===t)break t;if(g===n&&++d===i&&(u=s),g===o&&++p===r&&(c=s),(y=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=y}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zp={focusedElem:t,selectionRange:n},Bc=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var C=x.memoizedProps,T=x.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?C:ii(e.type,C),T);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(M){un(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return x=a1,a1=!1,x}function vs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&eh(e,n,o)}i=i.next}while(i!==r)}}function mf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function th(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function y2(t){var e=t.alternate;e!==null&&(t.alternate=null,y2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Si],delete e[Rs],delete e[Gp],delete e[QE],delete e[YE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w2(t){return t.tag===5||t.tag===3||t.tag===4}function s1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hc));else if(r!==4&&(t=t.child,t!==null))for(nh(t,e,n),t=t.sibling;t!==null;)nh(t,e,n),t=t.sibling}function rh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rh(t,e,n),t=t.sibling;t!==null;)rh(t,e,n),t=t.sibling}var Fn=null,oi=!1;function no(t,e,n){for(n=n.child;n!==null;)S2(t,e,n),n=n.sibling}function S2(t,e,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 5:Xn||Xl(n,e);case 6:var r=Fn,i=oi;Fn=null,no(t,e,n),Fn=r,oi=i,Fn!==null&&(oi?(t=Fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(oi?(t=Fn,n=n.stateNode,t.nodeType===8?Bd(t.parentNode,n):t.nodeType===1&&Bd(t,n),Ts(t)):Bd(Fn,n.stateNode));break;case 4:r=Fn,i=oi,Fn=n.stateNode.containerInfo,oi=!0,no(t,e,n),Fn=r,oi=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&eh(n,e,s),i=i.next}while(i!==r)}no(t,e,n);break;case 1:if(!Xn&&(Xl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){un(n,e,u)}no(t,e,n);break;case 21:no(t,e,n);break;case 22:n.mode&1?(Xn=(r=Xn)||n.memoizedState!==null,no(t,e,n),Xn=r):no(t,e,n);break;default:no(t,e,n)}}function u1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ux),e.forEach(function(r){var i=wx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ni(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 5:Fn=u.stateNode,oi=!1;break e;case 3:Fn=u.stateNode.containerInfo,oi=!0;break e;case 4:Fn=u.stateNode.containerInfo,oi=!0;break e}u=u.return}if(Fn===null)throw Error(we(160));S2(o,s,i),Fn=null,oi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){un(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_2(e,t),e=e.sibling}function _2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ni(e,t),mi(t),r&4){try{vs(3,t,t.return),mf(3,t)}catch(C){un(t,t.return,C)}try{vs(5,t,t.return)}catch(C){un(t,t.return,C)}}break;case 1:ni(e,t),mi(t),r&512&&n!==null&&Xl(n,n.return);break;case 5:if(ni(e,t),mi(t),r&512&&n!==null&&Xl(n,n.return),t.flags&32){var i=t.stateNode;try{Es(i,"")}catch(C){un(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Wg(i,o),Mp(u,s);var d=Mp(u,o);for(s=0;s<c.length;s+=2){var p=c[s],v=c[s+1];p==="style"?Xg(i,v):p==="dangerouslySetInnerHTML"?Qg(i,v):p==="children"?Es(i,v):Ph(i,p,v,d)}switch(u){case"input":Ep(i,o);break;case"textarea":bg(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ql(i,!!o.multiple,y,!1):g!==!!o.multiple&&(o.defaultValue!=null?ql(i,!!o.multiple,o.defaultValue,!0):ql(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rs]=o}catch(C){un(t,t.return,C)}}break;case 6:if(ni(e,t),mi(t),r&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(C){un(t,t.return,C)}}break;case 3:if(ni(e,t),mi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(e.containerInfo)}catch(C){un(t,t.return,C)}break;case 4:ni(e,t),mi(t);break;case 13:ni(e,t),mi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(av=vn())),r&4&&u1(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Xn=(d=Xn)||p,ni(e,t),Xn=d):ni(e,t),mi(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(Be=t,p=t.child;p!==null;){for(v=Be=p;Be!==null;){switch(g=Be,y=g.child,g.tag){case 0:case 11:case 14:case 15:vs(4,g,g.return);break;case 1:Xl(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(C){un(r,n,C)}}break;case 5:Xl(g,g.return);break;case 22:if(g.memoizedState!==null){f1(v);continue}}y!==null?(y.return=g,Be=y):f1(v)}p=p.sibling}e:for(p=null,v=t;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=v.stateNode,c=v.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Yg("display",s))}catch(C){un(t,t.return,C)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(C){un(t,t.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ni(e,t),mi(t),r&4&&u1(t);break;case 21:break;default:ni(e,t),mi(t)}}function mi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(w2(n)){var r=n;break e}n=n.return}throw Error(we(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Es(i,""),r.flags&=-33);var o=s1(t);rh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,u=s1(t);nh(t,u,s);break;default:throw Error(we(161))}}catch(c){un(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fx(t,e,n){Be=t,E2(t)}function E2(t,e,n){for(var r=(t.mode&1)!==0;Be!==null;){var i=Be,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ec;if(!s){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Xn;u=ec;var d=Xn;if(ec=s,(Xn=c)&&!d)for(Be=i;Be!==null;)s=Be,c=s.child,s.tag===22&&s.memoizedState!==null?d1(i):c!==null?(c.return=s,Be=c):d1(i);for(;o!==null;)Be=o,E2(o),o=o.sibling;Be=i,ec=u,Xn=d}c1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Be=o):c1(t)}}function c1(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||mf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ii(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&X0(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X0(e,s,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&Ts(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Xn||e.flags&512&&th(e)}catch(g){un(e,e.return,g)}}if(e===t){Be=null;break}if(n=e.sibling,n!==null){n.return=e.return,Be=n;break}Be=e.return}}function f1(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Be=n;break}Be=e.return}}function d1(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mf(4,e)}catch(c){un(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){un(e,i,c)}}var o=e.return;try{th(e)}catch(c){un(e,o,c)}break;case 5:var s=e.return;try{th(e)}catch(c){un(e,s,c)}}}catch(c){un(e,e.return,c)}if(e===t){Be=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Be=u;break}Be=e.return}}var dx=Math.ceil,$c=Vi.ReactCurrentDispatcher,ov=Vi.ReactCurrentOwner,Kr=Vi.ReactCurrentBatchConfig,Lt=0,Rn=null,Sn=null,zn=0,Ur=0,Zl=Mo(0),Cn=0,Ns=null,al=0,gf=0,lv=0,ms=null,mr=null,av=0,da=1/0,Oi=null,ef=!1,ih=null,wo=null,tc=!1,fo=null,tf=0,gs=0,oh=null,kc=-1,Cc=0;function ar(){return Lt&6?vn():kc!==-1?kc:kc=vn()}function So(t){return t.mode&1?Lt&2&&zn!==0?zn&-zn:ZE.transition!==null?(Cc===0&&(Cc=ly()),Cc):(t=zt,t!==0||(t=window.event,t=t===void 0?16:py(t.type)),t):1}function si(t,e,n,r){if(50<gs)throw gs=0,oh=null,Error(we(185));Hs(t,n,r),(!(Lt&2)||t!==Rn)&&(t===Rn&&(!(Lt&2)&&(gf|=n),Cn===4&&so(t,zn)),Sr(t,r),n===1&&Lt===0&&!(e.mode&1)&&(da=vn()+500,pf&&Po()))}function Sr(t,e){var n=t.callbackNode;Z_(t,e);var r=zc(t,t===Rn?zn:0);if(r===0)n!==null&&_0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_0(n),e===1)t.tag===0?XE(p1.bind(null,t)):Ly(p1.bind(null,t)),bE(function(){!(Lt&6)&&Po()}),n=null;else{switch(ay(r)){case 1:n=Ah;break;case 4:n=iy;break;case 16:n=Nc;break;case 536870912:n=oy;break;default:n=Nc}n=D2(n,x2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function x2(t,e){if(kc=-1,Cc=0,Lt&6)throw Error(we(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var r=zc(t,t===Rn?zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nf(t,r);else{e=r;var i=Lt;Lt|=2;var o=C2();(Rn!==t||zn!==e)&&(Oi=null,da=vn()+500,$o(t,e));do try{vx();break}catch(u){k2(t,u)}while(1);Qh(),$c.current=o,Lt=i,Sn!==null?e=0:(Rn=null,zn=0,e=Cn)}if(e!==0){if(e===2&&(i=Lp(t),i!==0&&(r=i,e=lh(t,i))),e===1)throw n=Ns,$o(t,0),so(t,r),Sr(t,vn()),n;if(e===6)so(t,r);else{if(i=t.current.alternate,!(r&30)&&!px(i)&&(e=nf(t,r),e===2&&(o=Lp(t),o!==0&&(r=o,e=lh(t,o))),e===1))throw n=Ns,$o(t,0),so(t,r),Sr(t,vn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(we(345));case 2:Qo(t,mr,Oi);break;case 3:if(so(t,r),(r&130023424)===r&&(e=av+500-vn(),10<e)){if(zc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ar(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jp(Qo.bind(null,t,mr,Oi),e);break}Qo(t,mr,Oi);break;case 4:if(so(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ai(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dx(r/1960))-r,10<r){t.timeoutHandle=jp(Qo.bind(null,t,mr,Oi),r);break}Qo(t,mr,Oi);break;case 5:Qo(t,mr,Oi);break;default:throw Error(we(329))}}}return Sr(t,vn()),t.callbackNode===n?x2.bind(null,t):null}function lh(t,e){var n=ms;return t.current.memoizedState.isDehydrated&&($o(t,e).flags|=256),t=nf(t,e),t!==2&&(e=mr,mr=n,e!==null&&ah(e)),t}function ah(t){mr===null?mr=t:mr.push.apply(mr,t)}function px(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ui(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(t,e){for(e&=~lv,e&=~gf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ai(e),r=1<<n;t[n]=-1,e&=~r}}function p1(t){if(Lt&6)throw Error(we(327));ra();var e=zc(t,0);if(!(e&1))return Sr(t,vn()),null;var n=nf(t,e);if(t.tag!==0&&n===2){var r=Lp(t);r!==0&&(e=r,n=lh(t,r))}if(n===1)throw n=Ns,$o(t,0),so(t,e),Sr(t,vn()),n;if(n===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qo(t,mr,Oi),Sr(t,vn()),null}function sv(t,e){var n=Lt;Lt|=1;try{return t(e)}finally{Lt=n,Lt===0&&(da=vn()+500,pf&&Po())}}function sl(t){fo!==null&&fo.tag===0&&!(Lt&6)&&ra();var e=Lt;Lt|=1;var n=Kr.transition,r=zt;try{if(Kr.transition=null,zt=1,t)return t()}finally{zt=r,Kr.transition=n,Lt=e,!(Lt&6)&&Po()}}function uv(){Ur=Zl.current,Yt(Zl)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WE(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(Wh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wc();break;case 3:ca(),Yt(yr),Yt(Kn),qh();break;case 5:Jh(r);break;case 4:ca();break;case 13:Yt(nn);break;case 19:Yt(nn);break;case 10:Yh(r.type._context);break;case 22:case 23:uv()}n=n.return}if(Rn=t,Sn=t=_o(t.current,null),zn=Ur=e,Cn=0,Ns=null,lv=gf=al=0,mr=ms=null,Zo!==null){for(e=0;e<Zo.length;e++)if(n=Zo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Zo=null}return t}function k2(t,e){do{var n=Sn;try{if(Qh(),_c.current=qc,Jc){for(var r=on.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jc=!1}if(ll=0,Dn=xn=on=null,hs=!1,Is=0,ov.current=null,n===null||n.return===null){Cn=1,Ns=e,Sn=null;break}e:{var o=t,s=n.return,u=n,c=e;if(e=zn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=u,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=e1(s);if(y!==null){y.flags&=-257,t1(y,s,u,o,e),y.mode&1&&$0(o,d,e),e=y,c=d;var x=e.updateQueue;if(x===null){var C=new Set;C.add(c),e.updateQueue=C}else x.add(c);break e}else{if(!(e&1)){$0(o,d,e),cv();break e}c=Error(we(426))}}else if(Jt&&u.mode&1){var T=e1(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),t1(T,s,u,o,e),bh(fa(c,u));break e}}o=c=fa(c,u),Cn!==4&&(Cn=2),ms===null?ms=[o]:ms.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=a2(o,c,e);Y0(o,_);break e;case 1:u=c;var w=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(wo===null||!wo.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=s2(o,u,e);Y0(o,M);break e}}o=o.return}while(o!==null)}M2(n)}catch(R){e=R,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(1)}function C2(){var t=$c.current;return $c.current=qc,t===null?qc:t}function cv(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Rn===null||!(al&268435455)&&!(gf&268435455)||so(Rn,zn)}function nf(t,e){var n=Lt;Lt|=2;var r=C2();(Rn!==t||zn!==e)&&(Oi=null,$o(t,e));do try{hx();break}catch(i){k2(t,i)}while(1);if(Qh(),Lt=n,$c.current=r,Sn!==null)throw Error(we(261));return Rn=null,zn=0,Cn}function hx(){for(;Sn!==null;)T2(Sn)}function vx(){for(;Sn!==null&&!j_();)T2(Sn)}function T2(t){var e=U2(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?M2(t):Sn=e,ov.current=null}function M2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sx(n,e),n!==null){n.flags&=32767,Sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cn=6,Sn=null;return}}else if(n=ax(n,e,Ur),n!==null){Sn=n;return}if(e=e.sibling,e!==null){Sn=e;return}Sn=e=t}while(e!==null);Cn===0&&(Cn=5)}function Qo(t,e,n){var r=zt,i=Kr.transition;try{Kr.transition=null,zt=1,mx(t,e,n,r)}finally{Kr.transition=i,zt=r}return null}function mx(t,e,n,r){do ra();while(fo!==null);if(Lt&6)throw Error(we(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(K_(t,o),t===Rn&&(Sn=Rn=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tc||(tc=!0,D2(Nc,function(){return ra(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Kr.transition,Kr.transition=null;var s=zt;zt=1;var u=Lt;Lt|=4,ov.current=null,cx(t,n),_2(n,t),FE(zp),Bc=!!Np,zp=Np=null,t.current=n,fx(n),G_(),Lt=u,zt=s,Kr.transition=o}else t.current=n;if(tc&&(tc=!1,fo=t,tf=i),o=t.pendingLanes,o===0&&(wo=null),b_(n.stateNode),Sr(t,vn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ef)throw ef=!1,t=ih,ih=null,t;return tf&1&&t.tag!==0&&ra(),o=t.pendingLanes,o&1?t===oh?gs++:(gs=0,oh=t):gs=0,Po(),null}function ra(){if(fo!==null){var t=ay(tf),e=Kr.transition,n=zt;try{if(Kr.transition=null,zt=16>t?16:t,fo===null)var r=!1;else{if(t=fo,fo=null,tf=0,Lt&6)throw Error(we(331));var i=Lt;for(Lt|=4,Be=t.current;Be!==null;){var o=Be,s=o.child;if(Be.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(Be=d;Be!==null;){var p=Be;switch(p.tag){case 0:case 11:case 15:vs(8,p,o)}var v=p.child;if(v!==null)v.return=p,Be=v;else for(;Be!==null;){p=Be;var g=p.sibling,y=p.return;if(y2(p),p===d){Be=null;break}if(g!==null){g.return=y,Be=g;break}Be=y}}}var x=o.alternate;if(x!==null){var C=x.child;if(C!==null){x.child=null;do{var T=C.sibling;C.sibling=null,C=T}while(C!==null)}}Be=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Be=s;else e:for(;Be!==null;){if(o=Be,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vs(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Be=_;break e}Be=o.return}}var w=t.current;for(Be=w;Be!==null;){s=Be;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,Be=E;else e:for(s=w;Be!==null;){if(u=Be,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:mf(9,u)}}catch(R){un(u,u.return,R)}if(u===s){Be=null;break e}var M=u.sibling;if(M!==null){M.return=u.return,Be=M;break e}Be=u.return}}if(Lt=i,Po(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(sf,t)}catch{}r=!0}return r}finally{zt=n,Kr.transition=e}}return!1}function h1(t,e,n){e=fa(n,e),e=a2(t,e,1),t=yo(t,e,1),e=ar(),t!==null&&(Hs(t,1,e),Sr(t,e))}function un(t,e,n){if(t.tag===3)h1(t,t,n);else for(;e!==null;){if(e.tag===3){h1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wo===null||!wo.has(r))){t=fa(n,t),t=s2(e,t,1),e=yo(e,t,1),t=ar(),e!==null&&(Hs(e,1,t),Sr(e,t));break}}e=e.return}}function gx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ar(),t.pingedLanes|=t.suspendedLanes&n,Rn===t&&(zn&n)===n&&(Cn===4||Cn===3&&(zn&130023424)===zn&&500>vn()-av?$o(t,0):lv|=n),Sr(t,e)}function P2(t,e){e===0&&(t.mode&1?(e=Vu,Vu<<=1,!(Vu&130023424)&&(Vu=4194304)):e=1);var n=ar();t=Wi(t,e),t!==null&&(Hs(t,e,n),Sr(t,n))}function yx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P2(t,n)}function wx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(we(314))}r!==null&&r.delete(e),P2(t,n)}var U2;U2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yr.current)gr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gr=!1,lx(t,e,n);gr=!!(t.flags&131072)}else gr=!1,Jt&&e.flags&1048576&&Ay(e,Qc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xc(t,e),t=e.pendingProps;var i=aa(e,Kn.current);na(e,n),i=ev(null,e,r,t,i,n);var o=tv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(r)?(o=!0,bc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zh(e),i.updater=vf,e.stateNode=i,i._reactInternals=e,Yp(e,r,t,n),e=Kp(null,e,r,!0,o,n)):(e.tag=0,Jt&&o&&Hh(e),or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_x(r),t=ii(r,t),i){case 0:e=Zp(null,e,r,t,n);break e;case 1:e=i1(null,e,r,t,n);break e;case 11:e=n1(null,e,r,t,n);break e;case 14:e=r1(null,e,r,ii(r.type,t),n);break e}throw Error(we(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ii(r,i),Zp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ii(r,i),i1(t,e,r,i,n);case 3:e:{if(d2(e),t===null)throw Error(we(387));r=e.pendingProps,o=e.memoizedState,i=o.element,By(t,e),Zc(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=fa(Error(we(423)),e),e=o1(t,e,r,n,i);break e}else if(r!==i){i=fa(Error(we(424)),e),e=o1(t,e,r,n,i);break e}else for(Dr=go(e.stateNode.containerInfo.firstChild),Rr=e,Jt=!0,li=null,n=Ny(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),r===i){e=bi(t,e,n);break e}or(t,e,r,n)}e=e.child}return e;case 5:return jy(e),t===null&&bp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Bp(r,i)?s=null:o!==null&&Bp(r,o)&&(e.flags|=32),f2(t,e),or(t,e,s,n),e.child;case 6:return t===null&&bp(e),null;case 13:return p2(t,e,n);case 4:return Kh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ua(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ii(r,i),n1(t,e,r,i,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Wt(Yc,r._currentValue),r._currentValue=s,o!==null)if(ui(o.value,s)){if(o.children===i.children&&!yr.current){e=bi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ji(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Vp(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(we(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Vp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,na(e,n),i=Jr(i),r=r(i),e.flags|=1,or(t,e,r,n),e.child;case 14:return r=e.type,i=ii(r,e.pendingProps),i=ii(r.type,i),r1(t,e,r,i,n);case 15:return u2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ii(r,i),xc(t,e),e.tag=1,wr(r)?(t=!0,bc(e)):t=!1,na(e,n),l2(e,r,i),Yp(e,r,i,n),Kp(null,e,r,!0,t,n);case 19:return h2(t,e,n);case 22:return c2(t,e,n)}throw Error(we(156,e.tag))};function D2(t,e){return ry(t,e)}function Sx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(t,e,n,r){return new Sx(t,e,n,r)}function fv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _x(t){if(typeof t=="function")return fv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dh)return 11;if(t===Rh)return 14}return 2}function _o(t,e){var n=t.alternate;return n===null?(n=Zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")fv(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bl:return el(n.children,i,o,e);case Uh:s=8,i|=8;break;case gp:return t=Zr(12,n,e,i|2),t.elementType=gp,t.lanes=o,t;case yp:return t=Zr(13,n,e,i),t.elementType=yp,t.lanes=o,t;case wp:return t=Zr(19,n,e,i),t.elementType=wp,t.lanes=o,t;case jg:return yf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zg:s=10;break e;case Bg:s=9;break e;case Dh:s=11;break e;case Rh:s=14;break e;case io:s=16,r=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=Zr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function el(t,e,n,r){return t=Zr(7,t,r,e),t.lanes=n,t}function yf(t,e,n,r){return t=Zr(22,t,r,e),t.elementType=jg,t.lanes=n,t.stateNode={isHidden:!1},t}function Yd(t,e,n){return t=Zr(6,t,null,e),t.lanes=n,t}function Xd(t,e,n){return e=Zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ex(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dv(t,e,n,r,i,o,s,u,c){return t=new Ex(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(o),t}function xx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function R2(t){if(!t)return ko;t=t._reactInternals;e:{if(fl(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var n=t.type;if(wr(n))return Ry(t,n,e)}return e}function L2(t,e,n,r,i,o,s,u,c){return t=dv(n,r,!0,t,i,o,s,u,c),t.context=R2(null),n=t.current,r=ar(),i=So(n),o=ji(r,i),o.callback=e??null,yo(n,o,i),t.current.lanes=i,Hs(t,i,r),Sr(t,r),t}function wf(t,e,n,r){var i=e.current,o=ar(),s=So(i);return n=R2(n),e.context===null?e.context=n:e.pendingContext=n,e=ji(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yo(i,e,s),t!==null&&(si(t,i,s,o),Sc(t,i,s)),s}function rf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function v1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pv(t,e){v1(t,e),(t=t.alternate)&&v1(t,e)}function kx(){return null}var A2=typeof reportError=="function"?reportError:function(t){console.error(t)};function hv(t){this._internalRoot=t}Sf.prototype.render=hv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));wf(t,e,null,null)};Sf.prototype.unmount=hv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sl(function(){wf(null,t,null,null)}),e[Hi]=null}};function Sf(t){this._internalRoot=t}Sf.prototype.unstable_scheduleHydration=function(t){if(t){var e=cy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ao.length&&e!==0&&e<ao[n].priority;n++);ao.splice(n,0,t),n===0&&dy(t)}};function vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function m1(){}function Cx(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=rf(s);o.call(d)}}var s=L2(e,r,t,0,null,!1,!1,"",m1);return t._reactRootContainer=s,t[Hi]=s.current,Us(t.nodeType===8?t.parentNode:t),sl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=rf(c);u.call(d)}}var c=dv(t,0,!1,null,null,!1,!1,"",m1);return t._reactRootContainer=c,t[Hi]=c.current,Us(t.nodeType===8?t.parentNode:t),sl(function(){wf(e,c,n,r)}),c}function Ef(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var u=i;i=function(){var c=rf(s);u.call(c)}}wf(e,s,t,i)}else s=Cx(n,e,t,i,r);return rf(s)}sy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=as(e.pendingLanes);n!==0&&(Ih(e,n|1),Sr(e,vn()),!(Lt&6)&&(da=vn()+500,Po()))}break;case 13:sl(function(){var r=Wi(t,1);if(r!==null){var i=ar();si(r,t,1,i)}}),pv(t,1)}};Oh=function(t){if(t.tag===13){var e=Wi(t,134217728);if(e!==null){var n=ar();si(e,t,134217728,n)}pv(t,134217728)}};uy=function(t){if(t.tag===13){var e=So(t),n=Wi(t,e);if(n!==null){var r=ar();si(n,t,e,r)}pv(t,e)}};cy=function(){return zt};fy=function(t,e){var n=zt;try{return zt=t,e()}finally{zt=n}};Up=function(t,e,n){switch(e){case"input":if(Ep(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=df(r);if(!i)throw Error(we(90));Hg(r),Ep(r,i)}}}break;case"textarea":bg(t,n);break;case"select":e=n.value,e!=null&&ql(t,!!n.multiple,e,!1)}};Jg=sv;qg=sl;var Tx={usingClientEntryPoint:!1,Events:[bs,Wl,df,Zg,Kg,sv]},qa={findFiberByHostInstance:Xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mx={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ty(t),t===null?null:t.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||kx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{sf=nc.inject(Mx),Ei=nc}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tx;Ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(e))throw Error(we(200));return xx(t,e,null,n)};Ar.createRoot=function(t,e){if(!vv(t))throw Error(we(299));var n=!1,r="",i=A2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dv(t,1,!1,null,null,n,!1,r,i),t[Hi]=e.current,Us(t.nodeType===8?t.parentNode:t),new hv(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=ty(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return sl(t)};Ar.hydrate=function(t,e,n){if(!_f(e))throw Error(we(200));return Ef(null,t,e,!0,n)};Ar.hydrateRoot=function(t,e,n){if(!vv(t))throw Error(we(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=A2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=L2(e,null,t,1,n??null,i,!1,o,s),t[Hi]=e.current,Us(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sf(e)};Ar.render=function(t,e,n){if(!_f(e))throw Error(we(200));return Ef(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!_f(t))throw Error(we(40));return t._reactRootContainer?(sl(function(){Ef(null,null,t,!1,function(){t._reactRootContainer=null,t[Hi]=null})}),!0):!1};Ar.unstable_batchedUpdates=sv;Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_f(n))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return Ef(t,e,n,!1,r)};Ar.version="18.3.1-next-f1338f8080-20240426";function I2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I2)}catch(t){console.error(t)}}I2(),Ig.exports=Ar;var O2=Ig.exports;const _C=lf(O2);var F2,g1=O2;F2=f0.createRoot=g1.createRoot,f0.hydrateRoot=g1.hydrateRoot;const Px="modulepreload",Ux=function(t){return"/threejs-interactive-gallery/"+t},y1={},EC=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Ux(o),o in y1)return;y1[o]=!0;const s=o.endsWith(".css"),u=s?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const v=i[p];if(v.href===o&&(!s||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${u}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":Px,s||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),s)return new Promise((p,v)=>{d.addEventListener("load",p),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var N2={exports:{}},dl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */dl.ConcurrentRoot=1;dl.ContinuousEventPriority=4;dl.DefaultEventPriority=16;dl.DiscreteEventPriority=1;dl.IdleEventPriority=536870912;dl.LegacyRoot=0;N2.exports=dl;var Kl=N2.exports;function Dx(t){let e;const n=new Set,r=(d,p)=>{const v=typeof d=="function"?d(e):d;if(v!==e){const g=e;e=p?v:Object.assign({},e,v),n.forEach(y=>y(e,g))}},i=()=>e,o=(d,p=i,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=p(e);function y(){const x=p(e);if(!v(g,x)){const C=g;d(g=x,C)}}return n.add(y),()=>n.delete(y)},c={setState:r,getState:i,subscribe:(d,p,v)=>p||v?o(d,p,v):(n.add(d),()=>n.delete(d)),destroy:()=>n.clear()};return e=t(r,i,c),c}const Rx=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),w1=Rx?K.useEffect:K.useLayoutEffect;function z2(t){const e=typeof t=="function"?Dx(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=K.useReducer(T=>T+1,0),s=e.getState(),u=K.useRef(s),c=K.useRef(r),d=K.useRef(i),p=K.useRef(!1),v=K.useRef();v.current===void 0&&(v.current=r(s));let g,y=!1;(u.current!==s||c.current!==r||d.current!==i||p.current)&&(g=r(s),y=!i(v.current,g)),w1(()=>{y&&(v.current=g),u.current=s,c.current=r,d.current=i,p.current=!1});const x=K.useRef(s);w1(()=>{const T=()=>{try{const w=e.getState(),E=c.current(w);d.current(v.current,E)||(u.current=w,v.current=E,o())}catch{p.current=!0,o()}},_=e.subscribe(T);return e.getState()!==x.current&&T(),_},[]);const C=y?g:v.current;return K.useDebugValue(C),C};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const Lx=t=>typeof t=="object"&&typeof t.then=="function",Jo=[];function B2(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function j2(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of Jo)if(B2(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=Jo.indexOf(i);o!==-1&&Jo.splice(o,1)},promise:(Lx(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(Jo.push(i),!n)throw i.promise}const G2=(t,e,n)=>j2(t,e,!1,n),Ax=(t,e,n)=>void j2(t,e,!0,n),Ix=t=>{if(t===void 0||t.length===0)Jo.splice(0,Jo.length);else{const e=Jo.find(n=>B2(t,n.keys,n.equal));e&&e.remove()}};var H2={exports:{}},W2={exports:{}},b2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,G){var O=j.length;j.push(G);e:for(;0<O;){var L=O-1>>>1,B=j[L];if(0<i(B,G))j[L]=G,j[O]=B,O=L;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],O=j.pop();if(O!==G){j[0]=O;e:for(var L=0,B=j.length,V=B>>>1;L<V;){var $=2*(L+1)-1,J=j[$],ee=$+1,oe=j[ee];if(0>i(J,O))ee<B&&0>i(oe,J)?(j[L]=oe,j[ee]=O,L=ee):(j[L]=J,j[$]=O,L=$);else if(ee<B&&0>i(oe,O))j[L]=oe,j[ee]=O,L=ee;else break e}}return G}function i(j,G){var O=j.sortIndex-G.sortIndex;return O!==0?O:j.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],p=1,v=null,g=3,y=!1,x=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=j)r(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(d)}}function M(j){if(C=!1,E(j),!x)if(n(c)!==null)x=!0,q(R);else{var G=n(d);G!==null&&me(M,G.startTime-j)}}function R(j,G){x=!1,C&&(C=!1,_(U),U=-1),y=!0;var O=g;try{for(E(G),v=n(c);v!==null&&(!(v.expirationTime>G)||j&&!Q());){var L=v.callback;if(typeof L=="function"){v.callback=null,g=v.priorityLevel;var B=L(v.expirationTime<=G);G=t.unstable_now(),typeof B=="function"?v.callback=B:v===n(c)&&r(c),E(G)}else r(c);v=n(c)}if(v!==null)var V=!0;else{var $=n(d);$!==null&&me(M,$.startTime-G),V=!1}return V}finally{v=null,g=O,y=!1}}var D=!1,A=null,U=-1,N=5,F=-1;function Q(){return!(t.unstable_now()-F<N)}function z(){if(A!==null){var j=t.unstable_now();F=j;var G=!0;try{G=A(!0,j)}finally{G?X():(D=!1,A=null)}}else D=!1}var X;if(typeof w=="function")X=function(){w(z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,re=W.port2;W.port1.onmessage=z,X=function(){re.postMessage(null)}}else X=function(){T(z,0)};function q(j){A=j,D||(D=!0,X())}function me(j,G){U=T(function(){j(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,q(R))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var O=g;g=G;try{return j()}finally{g=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var O=g;g=j;try{return G()}finally{g=O}},t.unstable_scheduleCallback=function(j,G,O){var L=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?L+O:L):O=L,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=O+B,j={id:p++,callback:G,priorityLevel:j,startTime:O,expirationTime:B,sortIndex:-1},O>L?(j.sortIndex=O,e(d,j),n(c)===null&&j===n(d)&&(C?(_(U),U=-1):C=!0,me(M,O-L))):(j.sortIndex=B,e(c,j),x||y||(x=!0,q(R))),j},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(j){var G=g;return function(){var O=g;g=G;try{return j.apply(this,arguments)}finally{g=O}}}})(b2);W2.exports=b2;var sh=W2.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox=function(e){var n={},r=K,i=sh,o=Object.assign;function s(l){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),R=Symbol.iterator;function D(l){return l===null||typeof l!="object"?null:(l=R&&l[R]||l["@@iterator"],typeof l=="function"?l:null)}function A(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case p:return"Fragment";case d:return"Portal";case g:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case x:return(l.displayName||"Context")+".Consumer";case y:return(l._context.displayName||"Context")+".Provider";case C:var a=l.render;return l=l.displayName,l||(l=a.displayName||a.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case w:return a=l.displayName||null,a!==null?a:A(l.type)||"Memo";case E:a=l._payload,l=l._init;try{return A(l(a))}catch{}}return null}function U(l){var a=l.type;switch(l.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=a.render,l=l.displayName||l.name||"",a.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(a);case 8:return a===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function N(l){var a=l,f=l;if(l.alternate)for(;a.return;)a=a.return;else{l=a;do a=l,a.flags&4098&&(f=a.return),l=a.return;while(l)}return a.tag===3?f:null}function F(l){if(N(l)!==l)throw Error(s(188))}function Q(l){var a=l.alternate;if(!a){if(a=N(l),a===null)throw Error(s(188));return a!==l?null:l}for(var f=l,h=a;;){var m=f.return;if(m===null)break;var S=m.alternate;if(S===null){if(h=m.return,h!==null){f=h;continue}break}if(m.child===S.child){for(S=m.child;S;){if(S===f)return F(m),l;if(S===h)return F(m),a;S=S.sibling}throw Error(s(188))}if(f.return!==h.return)f=m,h=S;else{for(var I=!1,Y=m.child;Y;){if(Y===f){I=!0,f=m,h=S;break}if(Y===h){I=!0,h=m,f=S;break}Y=Y.sibling}if(!I){for(Y=S.child;Y;){if(Y===f){I=!0,f=S,h=m;break}if(Y===h){I=!0,h=S,f=m;break}Y=Y.sibling}if(!I)throw Error(s(189))}}if(f.alternate!==h)throw Error(s(190))}if(f.tag!==3)throw Error(s(188));return f.stateNode.current===f?l:a}function z(l){return l=Q(l),l!==null?X(l):null}function X(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var a=X(l);if(a!==null)return a;l=l.sibling}return null}function W(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var a=W(l);if(a!==null)return a}l=l.sibling}return null}var re=Array.isArray,q=e.getPublicInstance,me=e.getRootHostContext,j=e.getChildHostContext,G=e.prepareForCommit,O=e.resetAfterCommit,L=e.createInstance,B=e.appendInitialChild,V=e.finalizeInitialChildren,$=e.prepareUpdate,J=e.shouldSetTextContent,ee=e.createTextInstance,oe=e.scheduleTimeout,de=e.cancelTimeout,Me=e.noTimeout,Ce=e.isPrimaryRenderer,fe=e.supportsMutation,he=e.supportsPersistence,Fe=e.supportsHydration,be=e.getInstanceFromNode,Ue=e.preparePortalMount,je=e.getCurrentEventPriority,ze=e.detachDeletedInstance,ye=e.supportsMicrotasks,Ne=e.scheduleMicrotask,Le=e.supportsTestSelectors,ve=e.findFiberRoot,tt=e.getBoundingRect,De=e.getTextContent,Ie=e.isHiddenSubtree,Pe=e.matchAccessibilityRole,St=e.setFocusIfFocusable,Oe=e.setupIntersectionObserver,He=e.appendChild,Xe=e.appendChildToContainer,it=e.commitTextUpdate,Ut=e.commitMount,Ft=e.commitUpdate,ot=e.insertBefore,Ke=e.insertInContainerBefore,Ye=e.removeChild,b=e.removeChildFromContainer,pe=e.resetTextContent,Te=e.hideInstance,Ve=e.hideTextInstance,ue=e.unhideInstance,lt=e.unhideTextInstance,cn=e.clearContainer,Dt=e.cloneInstance,ct=e.createContainerChildSet,Ct=e.appendChildToContainerChildSet,_t=e.finalizeContainerChildren,qe=e.replaceContainerChildren,Tt=e.cloneHiddenInstance,jt=e.cloneHiddenTextInstance,bt=e.canHydrateInstance,qt=e.canHydrateTextInstance,Jn=e.canHydrateSuspenseInstance,jn=e.isSuspenseInstancePending,qn=e.isSuspenseInstanceFallback,Gn=e.registerSuspenseInstanceRetry,_n=e.getNextHydratableSibling,at=e.getFirstHydratableChild,mn=e.getFirstHydratableChildWithinContainer,$r=e.getFirstHydratableChildWithinSuspenseInstance,k=e.hydrateInstance,P=e.hydrateTextInstance,H=e.hydrateSuspenseInstance,ne=e.getNextHydratableInstanceAfterSuspenseInstance,le=e.commitHydratedContainer,se=e.commitHydratedSuspenseInstance,Se=e.clearSuspenseBoundary,ge=e.clearSuspenseBoundaryFromContainer,Ee=e.shouldDeleteUnhydratedTailInstances,xe=e.didNotMatchHydratedContainerTextInstance,ke=e.didNotMatchHydratedTextInstance,ie;function Mt(l){if(ie===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);ie=a&&a[1]||""}return`
`+ie+l}var Qe=!1;function We(l,a){if(!l||Qe)return"";Qe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(_e){var h=_e}Reflect.construct(l,[],a)}else{try{a.call()}catch(_e){h=_e}l.call(a.prototype)}else{try{throw Error()}catch(_e){h=_e}l()}}catch(_e){if(_e&&h&&typeof _e.stack=="string"){for(var m=_e.stack.split(`
`),S=h.stack.split(`
`),I=m.length-1,Y=S.length-1;1<=I&&0<=Y&&m[I]!==S[Y];)Y--;for(;1<=I&&0<=Y;I--,Y--)if(m[I]!==S[Y]){if(I!==1||Y!==1)do if(I--,Y--,0>Y||m[I]!==S[Y]){var ce=`
`+m[I].replace(" at new "," at ");return l.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",l.displayName)),ce}while(1<=I&&0<=Y);break}}}finally{Qe=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?Mt(l):""}var rt=Object.prototype.hasOwnProperty,st=[],Et=-1;function vt(l){return{current:l}}function nt(l){0>Et||(l.current=st[Et],st[Et]=null,Et--)}function ut(l,a){Et++,st[Et]=l.current,l.current=a}var mt={},Ot=vt(mt),ft=vt(!1),Nt=mt;function an(l,a){var f=l.type.contextTypes;if(!f)return mt;var h=l.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var m={},S;for(S in f)m[S]=a[S];return h&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=a,l.__reactInternalMemoizedMaskedChildContext=m),m}function Xt(l){return l=l.childContextTypes,l!=null}function Zt(){nt(ft),nt(Ot)}function Pt(l,a,f){if(Ot.current!==mt)throw Error(s(168));ut(Ot,a),ut(ft,f)}function $t(l,a,f){var h=l.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return f;h=h.getChildContext();for(var m in h)if(!(m in a))throw Error(s(108,U(l)||"Unknown",m));return o({},f,h)}function Rt(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||mt,Nt=Ot.current,ut(Ot,l),ut(ft,ft.current),!0}function dt(l,a,f){var h=l.stateNode;if(!h)throw Error(s(169));f?(l=$t(l,a,Nt),h.__reactInternalMemoizedMergedChildContext=l,nt(ft),nt(Ot),ut(Ot,l)):nt(ft),ut(ft,f)}var Gt=Math.clz32?Math.clz32:_r,cr=Math.log,fn=Math.LN2;function _r(l){return l>>>=0,l===0?32:31-(cr(l)/fn|0)|0}var Ci=64,Ti=4194304;function Mi(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Uo(l,a){var f=l.pendingLanes;if(f===0)return 0;var h=0,m=l.suspendedLanes,S=l.pingedLanes,I=f&268435455;if(I!==0){var Y=I&~m;Y!==0?h=Mi(Y):(S&=I,S!==0&&(h=Mi(S)))}else I=f&~m,I!==0?h=Mi(I):S!==0&&(h=Mi(S));if(h===0)return 0;if(a!==0&&a!==h&&!(a&m)&&(m=h&-h,S=a&-a,m>=S||m===16&&(S&4194240)!==0))return a;if(h&4&&(h|=f&16),a=l.entangledLanes,a!==0)for(l=l.entanglements,a&=h;0<a;)f=31-Gt(a),m=1<<f,h|=l[f],a&=~m;return h}function Js(l,a){switch(l){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(l,a){for(var f=l.suspendedLanes,h=l.pingedLanes,m=l.expirationTimes,S=l.pendingLanes;0<S;){var I=31-Gt(S),Y=1<<I,ce=m[I];ce===-1?(!(Y&f)||Y&h)&&(m[I]=Js(Y,a)):ce<=a&&(l.expiredLanes|=Y),S&=~Y}}function Pi(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function pl(l){for(var a=[],f=0;31>f;f++)a.push(l);return a}function ci(l,a,f){l.pendingLanes|=a,a!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,a=31-Gt(a),l[a]=f}function Qi(l,a){var f=l.pendingLanes&~a;l.pendingLanes=a,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=a,l.mutableReadLanes&=a,l.entangledLanes&=a,a=l.entanglements;var h=l.eventTimes;for(l=l.expirationTimes;0<f;){var m=31-Gt(f),S=1<<m;a[m]=0,h[m]=-1,l[m]=-1,f&=~S}}function fi(l,a){var f=l.entangledLanes|=a;for(l=l.entanglements;f;){var h=31-Gt(f),m=1<<h;m&a|l[h]&a&&(l[h]|=a),f&=~m}}var xt=0;function Ea(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var Ui=i.unstable_scheduleCallback,hl=i.unstable_cancelCallback,xa=i.unstable_shouldYield,qs=i.unstable_requestPaint,en=i.unstable_now,Do=i.unstable_ImmediatePriority,$s=i.unstable_UserBlockingPriority,$n=i.unstable_NormalPriority,ka=i.unstable_IdlePriority,Ro=null,Er=null;function Ca(l){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Ro,l,void 0,(l.current.flags&128)===128)}catch{}}function eu(l,a){return l===a&&(l!==0||1/l===1/a)||l!==l&&a!==a}var xr=typeof Object.is=="function"?Object.is:eu,er=null,di=!1,Or=!1;function Ta(l){er===null?er=[l]:er.push(l)}function Ma(l){di=!0,Ta(l)}function fr(){if(!Or&&er!==null){Or=!0;var l=0,a=xt;try{var f=er;for(xt=1;l<f.length;l++){var h=f[l];do h=h(!0);while(h!==null)}er=null,di=!1}catch(m){throw er!==null&&(er=er.slice(l+1)),Ui(Do,fr),m}finally{xt=a,Or=!1}}return null}var Lo=u.ReactCurrentBatchConfig;function Ao(l,a){if(xr(l,a))return!0;if(typeof l!="object"||l===null||typeof a!="object"||a===null)return!1;var f=Object.keys(l),h=Object.keys(a);if(f.length!==h.length)return!1;for(h=0;h<f.length;h++){var m=f[h];if(!rt.call(a,m)||!xr(l[m],a[m]))return!1}return!0}function Io(l){switch(l.tag){case 5:return Mt(l.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return l=We(l.type,!1),l;case 11:return l=We(l.type.render,!1),l;case 1:return l=We(l.type,!0),l;default:return""}}function tr(l,a){if(l&&l.defaultProps){a=o({},a),l=l.defaultProps;for(var f in l)a[f]===void 0&&(a[f]=l[f]);return a}return a}var Tn=vt(null),vl=null,ei=null,Yi=null;function ml(){Yi=ei=vl=null}function tu(l,a,f){Ce?(ut(Tn,a._currentValue),a._currentValue=f):(ut(Tn,a._currentValue2),a._currentValue2=f)}function Mn(l){var a=Tn.current;nt(Tn),Ce?l._currentValue=a:l._currentValue2=a}function nr(l,a,f){for(;l!==null;){var h=l.alternate;if((l.childLanes&a)!==a?(l.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),l===f)break;l=l.return}}function dn(l,a){vl=l,Yi=ei=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&a&&(Mr=!0),l.firstContext=null)}function pn(l){var a=Ce?l._currentValue:l._currentValue2;if(Yi!==l)if(l={context:l,memoizedValue:a,next:null},ei===null){if(vl===null)throw Error(s(308));ei=l,vl.dependencies={lanes:0,firstContext:l}}else ei=ei.next=l;return a}var kr=null,Xi=!1;function Pf(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rv(l,a){l=l.updateQueue,a.updateQueue===l&&(a.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Di(l,a){return{eventTime:l,lane:a,tag:0,payload:null,callback:null,next:null}}function Zi(l,a){var f=l.updateQueue;f!==null&&(f=f.shared,gn!==null&&l.mode&1&&!(yt&2)?(l=f.interleaved,l===null?(a.next=a,kr===null?kr=[f]:kr.push(f)):(a.next=l.next,l.next=a),f.interleaved=a):(l=f.pending,l===null?a.next=a:(a.next=l.next,l.next=a),f.pending=a))}function nu(l,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var h=a.lanes;h&=l.pendingLanes,f|=h,a.lanes=f,fi(l,f)}}function Lv(l,a){var f=l.updateQueue,h=l.alternate;if(h!==null&&(h=h.updateQueue,f===h)){var m=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var I={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?m=S=I:S=S.next=I,f=f.next}while(f!==null);S===null?m=S=a:S=S.next=a}else m=S=a;f={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:S,shared:h.shared,effects:h.effects},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=a:l.next=a,f.lastBaseUpdate=a}function ru(l,a,f,h){var m=l.updateQueue;Xi=!1;var S=m.firstBaseUpdate,I=m.lastBaseUpdate,Y=m.shared.pending;if(Y!==null){m.shared.pending=null;var ce=Y,_e=ce.next;ce.next=null,I===null?S=_e:I.next=_e,I=ce;var Ge=l.alternate;Ge!==null&&(Ge=Ge.updateQueue,Y=Ge.lastBaseUpdate,Y!==I&&(Y===null?Ge.firstBaseUpdate=_e:Y.next=_e,Ge.lastBaseUpdate=ce))}if(S!==null){var pt=m.baseState;I=0,Ge=_e=ce=null,Y=S;do{var $e=Y.lane,Bt=Y.eventTime;if((h&$e)===$e){Ge!==null&&(Ge=Ge.next={eventTime:Bt,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Je=l,Vn=Y;switch($e=a,Bt=f,Vn.tag){case 1:if(Je=Vn.payload,typeof Je=="function"){pt=Je.call(Bt,pt,$e);break e}pt=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Vn.payload,$e=typeof Je=="function"?Je.call(Bt,pt,$e):Je,$e==null)break e;pt=o({},pt,$e);break e;case 2:Xi=!0}}Y.callback!==null&&Y.lane!==0&&(l.flags|=64,$e=m.effects,$e===null?m.effects=[Y]:$e.push(Y))}else Bt={eventTime:Bt,lane:$e,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ge===null?(_e=Ge=Bt,ce=pt):Ge=Ge.next=Bt,I|=$e;if(Y=Y.next,Y===null){if(Y=m.shared.pending,Y===null)break;$e=Y,Y=$e.next,$e.next=null,m.lastBaseUpdate=$e,m.shared.pending=null}}while(1);if(Ge===null&&(ce=pt),m.baseState=ce,m.firstBaseUpdate=_e,m.lastBaseUpdate=Ge,a=m.shared.interleaved,a!==null){m=a;do I|=m.lane,m=m.next;while(m!==a)}else S===null&&(m.shared.lanes=0);Cl|=I,l.lanes=I,l.memoizedState=pt}}function Av(l,a,f){if(l=a.effects,a.effects=null,l!==null)for(a=0;a<l.length;a++){var h=l[a],m=h.callback;if(m!==null){if(h.callback=null,h=f,typeof m!="function")throw Error(s(191,m));m.call(h)}}}var Iv=new r.Component().refs;function Uf(l,a,f,h){a=l.memoizedState,f=f(h,a),f=f==null?a:o({},a,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var iu={isMounted:function(l){return(l=l._reactInternals)?N(l)===l:!1},enqueueSetState:function(l,a,f){l=l._reactInternals;var h=ir(),m=qi(l),S=Di(h,m);S.payload=a,f!=null&&(S.callback=f),Zi(l,S),a=jr(l,m,h),a!==null&&nu(a,l,m)},enqueueReplaceState:function(l,a,f){l=l._reactInternals;var h=ir(),m=qi(l),S=Di(h,m);S.tag=1,S.payload=a,f!=null&&(S.callback=f),Zi(l,S),a=jr(l,m,h),a!==null&&nu(a,l,m)},enqueueForceUpdate:function(l,a){l=l._reactInternals;var f=ir(),h=qi(l),m=Di(f,h);m.tag=2,a!=null&&(m.callback=a),Zi(l,m),a=jr(l,h,f),a!==null&&nu(a,l,h)}};function Ov(l,a,f,h,m,S,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(h,S,I):a.prototype&&a.prototype.isPureReactComponent?!Ao(f,h)||!Ao(m,S):!0}function Fv(l,a,f){var h=!1,m=mt,S=a.contextType;return typeof S=="object"&&S!==null?S=pn(S):(m=Xt(a)?Nt:Ot.current,h=a.contextTypes,S=(h=h!=null)?an(l,m):mt),a=new a(f,S),l.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=iu,l.stateNode=a,a._reactInternals=l,h&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=m,l.__reactInternalMemoizedMaskedChildContext=S),a}function Nv(l,a,f,h){l=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,h),a.state!==l&&iu.enqueueReplaceState(a,a.state,null)}function Df(l,a,f,h){var m=l.stateNode;m.props=f,m.state=l.memoizedState,m.refs=Iv,Pf(l);var S=a.contextType;typeof S=="object"&&S!==null?m.context=pn(S):(S=Xt(a)?Nt:Ot.current,m.context=an(l,S)),m.state=l.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Uf(l,a,S,f),m.state=l.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&iu.enqueueReplaceState(m,m.state,null),ru(l,f,m,h),m.state=l.memoizedState),typeof m.componentDidMount=="function"&&(l.flags|=4194308)}var gl=[],yl=0,ou=null,lu=0,Fr=[],Nr=0,Oo=null,Ri=1,Li="";function Fo(l,a){gl[yl++]=lu,gl[yl++]=ou,ou=l,lu=a}function zv(l,a,f){Fr[Nr++]=Ri,Fr[Nr++]=Li,Fr[Nr++]=Oo,Oo=l;var h=Ri;l=Li;var m=32-Gt(h)-1;h&=~(1<<m),f+=1;var S=32-Gt(a)+m;if(30<S){var I=m-m%5;S=(h&(1<<I)-1).toString(32),h>>=I,m-=I,Ri=1<<32-Gt(a)+m|f<<m|h,Li=S+l}else Ri=1<<S|f<<m|h,Li=l}function Rf(l){l.return!==null&&(Fo(l,1),zv(l,1,0))}function Lf(l){for(;l===ou;)ou=gl[--yl],gl[yl]=null,lu=gl[--yl],gl[yl]=null;for(;l===Oo;)Oo=Fr[--Nr],Fr[Nr]=null,Li=Fr[--Nr],Fr[Nr]=null,Ri=Fr[--Nr],Fr[Nr]=null}var Cr=null,Tr=null,Kt=!1,Pa=!1,ti=null;function Bv(l,a){var f=Gr(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=l,a=l.deletions,a===null?(l.deletions=[f],l.flags|=16):a.push(f)}function jv(l,a){switch(l.tag){case 5:return a=bt(a,l.type,l.pendingProps),a!==null?(l.stateNode=a,Cr=l,Tr=at(a),!0):!1;case 6:return a=qt(a,l.pendingProps),a!==null?(l.stateNode=a,Cr=l,Tr=null,!0):!1;case 13:if(a=Jn(a),a!==null){var f=Oo!==null?{id:Ri,overflow:Li}:null;return l.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=Gr(18,null,null,0),f.stateNode=a,f.return=l,l.child=f,Cr=l,Tr=null,!0}return!1;default:return!1}}function Af(l){return(l.mode&1)!==0&&(l.flags&128)===0}function If(l){if(Kt){var a=Tr;if(a){var f=a;if(!jv(l,a)){if(Af(l))throw Error(s(418));a=_n(f);var h=Cr;a&&jv(l,a)?Bv(h,f):(l.flags=l.flags&-4097|2,Kt=!1,Cr=l)}}else{if(Af(l))throw Error(s(418));l.flags=l.flags&-4097|2,Kt=!1,Cr=l}}}function Gv(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Cr=l}function Ua(l){if(!Fe||l!==Cr)return!1;if(!Kt)return Gv(l),Kt=!0,!1;if(l.tag!==3&&(l.tag!==5||Ee(l.type)&&!J(l.type,l.memoizedProps))){var a=Tr;if(a){if(Af(l)){for(l=Tr;l;)l=_n(l);throw Error(s(418))}for(;a;)Bv(l,a),a=_n(a)}}if(Gv(l),l.tag===13){if(!Fe)throw Error(s(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));Tr=ne(l)}else Tr=Cr?_n(l.stateNode):null;return!0}function wl(){Fe&&(Tr=Cr=null,Pa=Kt=!1)}function Of(l){ti===null?ti=[l]:ti.push(l)}function Da(l,a,f){if(l=f.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(s(309));var h=f.stateNode}if(!h)throw Error(s(147,l));var m=h,S=""+l;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(I){var Y=m.refs;Y===Iv&&(Y=m.refs={}),I===null?delete Y[S]:Y[S]=I},a._stringRef=S,a)}if(typeof l!="string")throw Error(s(284));if(!f._owner)throw Error(s(290,l))}return l}function au(l,a){throw l=Object.prototype.toString.call(a),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":l))}function Hv(l){var a=l._init;return a(l._payload)}function Wv(l){function a(te,Z){if(l){var ae=te.deletions;ae===null?(te.deletions=[Z],te.flags|=16):ae.push(Z)}}function f(te,Z){if(!l)return null;for(;Z!==null;)a(te,Z),Z=Z.sibling;return null}function h(te,Z){for(te=new Map;Z!==null;)Z.key!==null?te.set(Z.key,Z):te.set(Z.index,Z),Z=Z.sibling;return te}function m(te,Z){return te=eo(te,Z),te.index=0,te.sibling=null,te}function S(te,Z,ae){return te.index=ae,l?(ae=te.alternate,ae!==null?(ae=ae.index,ae<Z?(te.flags|=2,Z):ae):(te.flags|=2,Z)):(te.flags|=1048576,Z)}function I(te){return l&&te.alternate===null&&(te.flags|=2),te}function Y(te,Z,ae,Ae){return Z===null||Z.tag!==6?(Z=yd(ae,te.mode,Ae),Z.return=te,Z):(Z=m(Z,ae),Z.return=te,Z)}function ce(te,Z,ae,Ae){var Ze=ae.type;return Ze===p?Ge(te,Z,ae.props.children,Ae,ae.key):Z!==null&&(Z.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===E&&Hv(Ze)===Z.type)?(Ae=m(Z,ae.props),Ae.ref=Da(te,Z,ae),Ae.return=te,Ae):(Ae=zu(ae.type,ae.key,ae.props,null,te.mode,Ae),Ae.ref=Da(te,Z,ae),Ae.return=te,Ae)}function _e(te,Z,ae,Ae){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=wd(ae,te.mode,Ae),Z.return=te,Z):(Z=m(Z,ae.children||[]),Z.return=te,Z)}function Ge(te,Z,ae,Ae,Ze){return Z===null||Z.tag!==7?(Z=Wo(ae,te.mode,Ae,Ze),Z.return=te,Z):(Z=m(Z,ae),Z.return=te,Z)}function pt(te,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=yd(""+Z,te.mode,ae),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case c:return ae=zu(Z.type,Z.key,Z.props,null,te.mode,ae),ae.ref=Da(te,null,Z),ae.return=te,ae;case d:return Z=wd(Z,te.mode,ae),Z.return=te,Z;case E:var Ae=Z._init;return pt(te,Ae(Z._payload),ae)}if(re(Z)||D(Z))return Z=Wo(Z,te.mode,ae,null),Z.return=te,Z;au(te,Z)}return null}function $e(te,Z,ae,Ae){var Ze=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ze!==null?null:Y(te,Z,""+ae,Ae);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case c:return ae.key===Ze?ce(te,Z,ae,Ae):null;case d:return ae.key===Ze?_e(te,Z,ae,Ae):null;case E:return Ze=ae._init,$e(te,Z,Ze(ae._payload),Ae)}if(re(ae)||D(ae))return Ze!==null?null:Ge(te,Z,ae,Ae,null);au(te,ae)}return null}function Bt(te,Z,ae,Ae,Ze){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return te=te.get(ae)||null,Y(Z,te,""+Ae,Ze);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case c:return te=te.get(Ae.key===null?ae:Ae.key)||null,ce(Z,te,Ae,Ze);case d:return te=te.get(Ae.key===null?ae:Ae.key)||null,_e(Z,te,Ae,Ze);case E:var gt=Ae._init;return Bt(te,Z,ae,gt(Ae._payload),Ze)}if(re(Ae)||D(Ae))return te=te.get(ae)||null,Ge(Z,te,Ae,Ze,null);au(Z,Ae)}return null}function Je(te,Z,ae,Ae){for(var Ze=null,gt=null,ht=Z,At=Z=0,Un=null;ht!==null&&At<ae.length;At++){ht.index>At?(Un=ht,ht=null):Un=ht.sibling;var It=$e(te,ht,ae[At],Ae);if(It===null){ht===null&&(ht=Un);break}l&&ht&&It.alternate===null&&a(te,ht),Z=S(It,Z,At),gt===null?Ze=It:gt.sibling=It,gt=It,ht=Un}if(At===ae.length)return f(te,ht),Kt&&Fo(te,At),Ze;if(ht===null){for(;At<ae.length;At++)ht=pt(te,ae[At],Ae),ht!==null&&(Z=S(ht,Z,At),gt===null?Ze=ht:gt.sibling=ht,gt=ht);return Kt&&Fo(te,At),Ze}for(ht=h(te,ht);At<ae.length;At++)Un=Bt(ht,te,At,ae[At],Ae),Un!==null&&(l&&Un.alternate!==null&&ht.delete(Un.key===null?At:Un.key),Z=S(Un,Z,At),gt===null?Ze=Un:gt.sibling=Un,gt=Un);return l&&ht.forEach(function(to){return a(te,to)}),Kt&&Fo(te,At),Ze}function Vn(te,Z,ae,Ae){var Ze=D(ae);if(typeof Ze!="function")throw Error(s(150));if(ae=Ze.call(ae),ae==null)throw Error(s(151));for(var gt=Ze=null,ht=Z,At=Z=0,Un=null,It=ae.next();ht!==null&&!It.done;At++,It=ae.next()){ht.index>At?(Un=ht,ht=null):Un=ht.sibling;var to=$e(te,ht,It.value,Ae);if(to===null){ht===null&&(ht=Un);break}l&&ht&&to.alternate===null&&a(te,ht),Z=S(to,Z,At),gt===null?Ze=to:gt.sibling=to,gt=to,ht=Un}if(It.done)return f(te,ht),Kt&&Fo(te,At),Ze;if(ht===null){for(;!It.done;At++,It=ae.next())It=pt(te,It.value,Ae),It!==null&&(Z=S(It,Z,At),gt===null?Ze=It:gt.sibling=It,gt=It);return Kt&&Fo(te,At),Ze}for(ht=h(te,ht);!It.done;At++,It=ae.next())It=Bt(ht,te,At,It.value,Ae),It!==null&&(l&&It.alternate!==null&&ht.delete(It.key===null?At:It.key),Z=S(It,Z,At),gt===null?Ze=It:gt.sibling=It,gt=It);return l&&ht.forEach(function(_S){return a(te,_S)}),Kt&&Fo(te,At),Ze}function Hr(te,Z,ae,Ae){if(typeof ae=="object"&&ae!==null&&ae.type===p&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case c:e:{for(var Ze=ae.key,gt=Z;gt!==null;){if(gt.key===Ze){if(Ze=ae.type,Ze===p){if(gt.tag===7){f(te,gt.sibling),Z=m(gt,ae.props.children),Z.return=te,te=Z;break e}}else if(gt.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===E&&Hv(Ze)===gt.type){f(te,gt.sibling),Z=m(gt,ae.props),Z.ref=Da(te,gt,ae),Z.return=te,te=Z;break e}f(te,gt);break}else a(te,gt);gt=gt.sibling}ae.type===p?(Z=Wo(ae.props.children,te.mode,Ae,ae.key),Z.return=te,te=Z):(Ae=zu(ae.type,ae.key,ae.props,null,te.mode,Ae),Ae.ref=Da(te,Z,ae),Ae.return=te,te=Ae)}return I(te);case d:e:{for(gt=ae.key;Z!==null;){if(Z.key===gt)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){f(te,Z.sibling),Z=m(Z,ae.children||[]),Z.return=te,te=Z;break e}else{f(te,Z);break}else a(te,Z);Z=Z.sibling}Z=wd(ae,te.mode,Ae),Z.return=te,te=Z}return I(te);case E:return gt=ae._init,Hr(te,Z,gt(ae._payload),Ae)}if(re(ae))return Je(te,Z,ae,Ae);if(D(ae))return Vn(te,Z,ae,Ae);au(te,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Z!==null&&Z.tag===6?(f(te,Z.sibling),Z=m(Z,ae),Z.return=te,te=Z):(f(te,Z),Z=yd(ae,te.mode,Ae),Z.return=te,te=Z),I(te)):f(te,Z)}return Hr}var Sl=Wv(!0),bv=Wv(!1),Ra={},zr=vt(Ra),La=vt(Ra),_l=vt(Ra);function pi(l){if(l===Ra)throw Error(s(174));return l}function Ff(l,a){ut(_l,a),ut(La,l),ut(zr,Ra),l=me(a),nt(zr),ut(zr,l)}function El(){nt(zr),nt(La),nt(_l)}function Vv(l){var a=pi(_l.current),f=pi(zr.current);a=j(f,l.type,a),f!==a&&(ut(La,l),ut(zr,a))}function Nf(l){La.current===l&&(nt(zr),nt(La))}var tn=vt(0);function su(l){for(var a=l;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||jn(f)||qn(f)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break;for(;a.sibling===null;){if(a.return===null||a.return===l)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var zf=[];function Bf(){for(var l=0;l<zf.length;l++){var a=zf[l];Ce?a._workInProgressVersionPrimary=null:a._workInProgressVersionSecondary=null}zf.length=0}var uu=u.ReactCurrentDispatcher,Br=u.ReactCurrentBatchConfig,xl=0,sn=null,Hn=null,Pn=null,cu=!1,Aa=!1,Ia=0,Qw=0;function Wn(){throw Error(s(321))}function jf(l,a){if(a===null)return!1;for(var f=0;f<a.length&&f<l.length;f++)if(!xr(l[f],a[f]))return!1;return!0}function Gf(l,a,f,h,m,S){if(xl=S,sn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,uu.current=l===null||l.memoizedState===null?Kw:Jw,l=f(h,m),Aa){S=0;do{if(Aa=!1,Ia=0,25<=S)throw Error(s(301));S+=1,Pn=Hn=null,a.updateQueue=null,uu.current=qw,l=f(h,m)}while(Aa)}if(uu.current=vu,a=Hn!==null&&Hn.next!==null,xl=0,Pn=Hn=sn=null,cu=!1,a)throw Error(s(300));return l}function Hf(){var l=Ia!==0;return Ia=0,l}function Ai(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?sn.memoizedState=Pn=l:Pn=Pn.next=l,Pn}function hi(){if(Hn===null){var l=sn.alternate;l=l!==null?l.memoizedState:null}else l=Hn.next;var a=Pn===null?sn.memoizedState:Pn.next;if(a!==null)Pn=a,Hn=l;else{if(l===null)throw Error(s(310));Hn=l,l={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},Pn===null?sn.memoizedState=Pn=l:Pn=Pn.next=l}return Pn}function No(l,a){return typeof a=="function"?a(l):a}function fu(l){var a=hi(),f=a.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var h=Hn,m=h.baseQueue,S=f.pending;if(S!==null){if(m!==null){var I=m.next;m.next=S.next,S.next=I}h.baseQueue=m=S,f.pending=null}if(m!==null){S=m.next,h=h.baseState;var Y=I=null,ce=null,_e=S;do{var Ge=_e.lane;if((xl&Ge)===Ge)ce!==null&&(ce=ce.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),h=_e.hasEagerState?_e.eagerState:l(h,_e.action);else{var pt={lane:Ge,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};ce===null?(Y=ce=pt,I=h):ce=ce.next=pt,sn.lanes|=Ge,Cl|=Ge}_e=_e.next}while(_e!==null&&_e!==S);ce===null?I=h:ce.next=Y,xr(h,a.memoizedState)||(Mr=!0),a.memoizedState=h,a.baseState=I,a.baseQueue=ce,f.lastRenderedState=h}if(l=f.interleaved,l!==null){m=l;do S=m.lane,sn.lanes|=S,Cl|=S,m=m.next;while(m!==l)}else m===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function du(l){var a=hi(),f=a.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var h=f.dispatch,m=f.pending,S=a.memoizedState;if(m!==null){f.pending=null;var I=m=m.next;do S=l(S,I.action),I=I.next;while(I!==m);xr(S,a.memoizedState)||(Mr=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),f.lastRenderedState=S}return[S,h]}function Qv(){}function Yv(l,a){var f=sn,h=hi(),m=a(),S=!xr(h.memoizedState,m);if(S&&(h.memoizedState=m,Mr=!0),h=h.queue,Fa(Kv.bind(null,f,h,l),[l]),h.getSnapshot!==a||S||Pn!==null&&Pn.memoizedState.tag&1){if(f.flags|=2048,Oa(9,Zv.bind(null,f,h,m,a),void 0,null),gn===null)throw Error(s(349));xl&30||Xv(f,a,m)}return m}function Xv(l,a,f){l.flags|=16384,l={getSnapshot:a,value:f},a=sn.updateQueue,a===null?(a={lastEffect:null,stores:null},sn.updateQueue=a,a.stores=[l]):(f=a.stores,f===null?a.stores=[l]:f.push(l))}function Zv(l,a,f,h){a.value=f,a.getSnapshot=h,Jv(a)&&jr(l,1,-1)}function Kv(l,a,f){return f(function(){Jv(a)&&jr(l,1,-1)})}function Jv(l){var a=l.getSnapshot;l=l.value;try{var f=a();return!xr(l,f)}catch{return!0}}function Wf(l){var a=Ai();return typeof l=="function"&&(l=l()),a.memoizedState=a.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:l},a.queue=l,l=l.dispatch=Zw.bind(null,sn,l),[a.memoizedState,l]}function Oa(l,a,f,h){return l={tag:l,create:a,destroy:f,deps:h,next:null},a=sn.updateQueue,a===null?(a={lastEffect:null,stores:null},sn.updateQueue=a,a.lastEffect=l.next=l):(f=a.lastEffect,f===null?a.lastEffect=l.next=l:(h=f.next,f.next=l,l.next=h,a.lastEffect=l)),l}function qv(){return hi().memoizedState}function pu(l,a,f,h){var m=Ai();sn.flags|=l,m.memoizedState=Oa(1|a,f,void 0,h===void 0?null:h)}function hu(l,a,f,h){var m=hi();h=h===void 0?null:h;var S=void 0;if(Hn!==null){var I=Hn.memoizedState;if(S=I.destroy,h!==null&&jf(h,I.deps)){m.memoizedState=Oa(a,f,S,h);return}}sn.flags|=l,m.memoizedState=Oa(1|a,f,S,h)}function bf(l,a){return pu(8390656,8,l,a)}function Fa(l,a){return hu(2048,8,l,a)}function $v(l,a){return hu(4,2,l,a)}function em(l,a){return hu(4,4,l,a)}function tm(l,a){if(typeof a=="function")return l=l(),a(l),function(){a(null)};if(a!=null)return l=l(),a.current=l,function(){a.current=null}}function nm(l,a,f){return f=f!=null?f.concat([l]):null,hu(4,4,tm.bind(null,a,l),f)}function Vf(){}function rm(l,a){var f=hi();a=a===void 0?null:a;var h=f.memoizedState;return h!==null&&a!==null&&jf(a,h[1])?h[0]:(f.memoizedState=[l,a],l)}function im(l,a){var f=hi();a=a===void 0?null:a;var h=f.memoizedState;return h!==null&&a!==null&&jf(a,h[1])?h[0]:(l=l(),f.memoizedState=[l,a],l)}function Yw(l,a){var f=xt;xt=f!==0&&4>f?f:4,l(!0);var h=Br.transition;Br.transition={};try{l(!1),a()}finally{xt=f,Br.transition=h}}function om(){return hi().memoizedState}function Xw(l,a,f){var h=qi(l);f={lane:h,action:f,hasEagerState:!1,eagerState:null,next:null},lm(l)?am(a,f):(sm(l,a,f),f=ir(),l=jr(l,h,f),l!==null&&um(l,a,h))}function Zw(l,a,f){var h=qi(l),m={lane:h,action:f,hasEagerState:!1,eagerState:null,next:null};if(lm(l))am(a,m);else{sm(l,a,m);var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var I=a.lastRenderedState,Y=S(I,f);if(m.hasEagerState=!0,m.eagerState=Y,xr(Y,I))return}catch{}finally{}f=ir(),l=jr(l,h,f),l!==null&&um(l,a,h)}}function lm(l){var a=l.alternate;return l===sn||a!==null&&a===sn}function am(l,a){Aa=cu=!0;var f=l.pending;f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a}function sm(l,a,f){gn!==null&&l.mode&1&&!(yt&2)?(l=a.interleaved,l===null?(f.next=f,kr===null?kr=[a]:kr.push(a)):(f.next=l.next,l.next=f),a.interleaved=f):(l=a.pending,l===null?f.next=f:(f.next=l.next,l.next=f),a.pending=f)}function um(l,a,f){if(f&4194240){var h=a.lanes;h&=l.pendingLanes,f|=h,a.lanes=f,fi(l,f)}}var vu={readContext:pn,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},Kw={readContext:pn,useCallback:function(l,a){return Ai().memoizedState=[l,a===void 0?null:a],l},useContext:pn,useEffect:bf,useImperativeHandle:function(l,a,f){return f=f!=null?f.concat([l]):null,pu(4194308,4,tm.bind(null,a,l),f)},useLayoutEffect:function(l,a){return pu(4194308,4,l,a)},useInsertionEffect:function(l,a){return pu(4,2,l,a)},useMemo:function(l,a){var f=Ai();return a=a===void 0?null:a,l=l(),f.memoizedState=[l,a],l},useReducer:function(l,a,f){var h=Ai();return a=f!==void 0?f(a):a,h.memoizedState=h.baseState=a,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:a},h.queue=l,l=l.dispatch=Xw.bind(null,sn,l),[h.memoizedState,l]},useRef:function(l){var a=Ai();return l={current:l},a.memoizedState=l},useState:Wf,useDebugValue:Vf,useDeferredValue:function(l){var a=Wf(l),f=a[0],h=a[1];return bf(function(){var m=Br.transition;Br.transition={};try{h(l)}finally{Br.transition=m}},[l]),f},useTransition:function(){var l=Wf(!1),a=l[0];return l=Yw.bind(null,l[1]),Ai().memoizedState=l,[a,l]},useMutableSource:function(){},useSyncExternalStore:function(l,a,f){var h=sn,m=Ai();if(Kt){if(f===void 0)throw Error(s(407));f=f()}else{if(f=a(),gn===null)throw Error(s(349));xl&30||Xv(h,a,f)}m.memoizedState=f;var S={value:f,getSnapshot:a};return m.queue=S,bf(Kv.bind(null,h,S,l),[l]),h.flags|=2048,Oa(9,Zv.bind(null,h,S,f,a),void 0,null),f},useId:function(){var l=Ai(),a=gn.identifierPrefix;if(Kt){var f=Li,h=Ri;f=(h&~(1<<32-Gt(h)-1)).toString(32)+f,a=":"+a+"R"+f,f=Ia++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=Qw++,a=":"+a+"r"+f.toString(32)+":";return l.memoizedState=a},unstable_isNewReconciler:!1},Jw={readContext:pn,useCallback:rm,useContext:pn,useEffect:Fa,useImperativeHandle:nm,useInsertionEffect:$v,useLayoutEffect:em,useMemo:im,useReducer:fu,useRef:qv,useState:function(){return fu(No)},useDebugValue:Vf,useDeferredValue:function(l){var a=fu(No),f=a[0],h=a[1];return Fa(function(){var m=Br.transition;Br.transition={};try{h(l)}finally{Br.transition=m}},[l]),f},useTransition:function(){var l=fu(No)[0],a=hi().memoizedState;return[l,a]},useMutableSource:Qv,useSyncExternalStore:Yv,useId:om,unstable_isNewReconciler:!1},qw={readContext:pn,useCallback:rm,useContext:pn,useEffect:Fa,useImperativeHandle:nm,useInsertionEffect:$v,useLayoutEffect:em,useMemo:im,useReducer:du,useRef:qv,useState:function(){return du(No)},useDebugValue:Vf,useDeferredValue:function(l){var a=du(No),f=a[0],h=a[1];return Fa(function(){var m=Br.transition;Br.transition={};try{h(l)}finally{Br.transition=m}},[l]),f},useTransition:function(){var l=du(No)[0],a=hi().memoizedState;return[l,a]},useMutableSource:Qv,useSyncExternalStore:Yv,useId:om,unstable_isNewReconciler:!1};function Qf(l,a){try{var f="",h=a;do f+=Io(h),h=h.return;while(h);var m=f}catch(S){m=`
Error generating stack: `+S.message+`
`+S.stack}return{value:l,source:a,stack:m}}function Yf(l,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var $w=typeof WeakMap=="function"?WeakMap:Map;function cm(l,a,f){f=Di(-1,f),f.tag=3,f.payload={element:null};var h=a.value;return f.callback=function(){Ru||(Ru=!0,fd=h),Yf(l,a)},f}function fm(l,a,f){f=Di(-1,f),f.tag=3;var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var m=a.value;f.payload=function(){return h(m)},f.callback=function(){Yf(l,a)}}var S=l.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){Yf(l,a),typeof h!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),f}function dm(l,a,f){var h=l.pingCache;if(h===null){h=l.pingCache=new $w;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(f)||(m.add(f),l=pS.bind(null,l,a,f),a.then(l,l))}function pm(l){do{var a;if((a=l.tag===13)&&(a=l.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return l;l=l.return}while(l!==null);return null}function hm(l,a,f,h,m){return l.mode&1?(l.flags|=65536,l.lanes=m,l):(l===a?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=Di(-1,1),a.tag=2,Zi(f,a))),f.lanes|=1),l)}function vi(l){l.flags|=4}function vm(l,a){if(l!==null&&l.child===a.child)return!0;if(a.flags&16)return!1;for(l=a.child;l!==null;){if(l.flags&12854||l.subtreeFlags&12854)return!1;l=l.sibling}return!0}var Na,za,mu,gu;if(fe)Na=function(l,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)B(l,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},za=function(){},mu=function(l,a,f,h,m){if(l=l.memoizedProps,l!==h){var S=a.stateNode,I=pi(zr.current);f=$(S,f,l,h,m,I),(a.updateQueue=f)&&vi(a)}},gu=function(l,a,f,h){f!==h&&vi(a)};else if(he){Na=function(l,a,f,h){for(var m=a.child;m!==null;){if(m.tag===5){var S=m.stateNode;f&&h&&(S=Tt(S,m.type,m.memoizedProps,m)),B(l,S)}else if(m.tag===6)S=m.stateNode,f&&h&&(S=jt(S,m.memoizedProps,m)),B(l,S);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)S=m.child,S!==null&&(S.return=m),Na(l,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===a)break;for(;m.sibling===null;){if(m.return===null||m.return===a)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};var mm=function(l,a,f,h){for(var m=a.child;m!==null;){if(m.tag===5){var S=m.stateNode;f&&h&&(S=Tt(S,m.type,m.memoizedProps,m)),Ct(l,S)}else if(m.tag===6)S=m.stateNode,f&&h&&(S=jt(S,m.memoizedProps,m)),Ct(l,S);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)S=m.child,S!==null&&(S.return=m),mm(l,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===a)break;for(;m.sibling===null;){if(m.return===null||m.return===a)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};za=function(l,a){var f=a.stateNode;if(!vm(l,a)){l=f.containerInfo;var h=ct(l);mm(h,a,!1,!1),f.pendingChildren=h,vi(a),_t(l,h)}},mu=function(l,a,f,h,m){var S=l.stateNode,I=l.memoizedProps;if((l=vm(l,a))&&I===h)a.stateNode=S;else{var Y=a.stateNode,ce=pi(zr.current),_e=null;I!==h&&(_e=$(Y,f,I,h,m,ce)),l&&_e===null?a.stateNode=S:(S=Dt(S,_e,f,I,h,a,l,Y),V(S,f,h,m,ce)&&vi(a),a.stateNode=S,l?vi(a):Na(S,a,!1,!1))}},gu=function(l,a,f,h){f!==h?(l=pi(_l.current),f=pi(zr.current),a.stateNode=ee(h,l,f,a),vi(a)):a.stateNode=l.stateNode}}else za=function(){},mu=function(){},gu=function(){};function Ba(l,a){if(!Kt)switch(l.tailMode){case"hidden":a=l.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?a||l.tail===null?l.tail=null:l.tail.sibling=null:h.sibling=null}}function bn(l){var a=l.alternate!==null&&l.alternate.child===l.child,f=0,h=0;if(a)for(var m=l.child;m!==null;)f|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=l,m=m.sibling;else for(m=l.child;m!==null;)f|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=l,m=m.sibling;return l.subtreeFlags|=h,l.childLanes=f,a}function eS(l,a,f){var h=a.pendingProps;switch(Lf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(a),null;case 1:return Xt(a.type)&&Zt(),bn(a),null;case 3:return h=a.stateNode,El(),nt(ft),nt(Ot),Bf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(Ua(a)?vi(a):l===null||l.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ti!==null&&(hd(ti),ti=null))),za(l,a),bn(a),null;case 5:Nf(a),f=pi(_l.current);var m=a.type;if(l!==null&&a.stateNode!=null)mu(l,a,m,h,f),l.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(s(166));return bn(a),null}if(l=pi(zr.current),Ua(a)){if(!Fe)throw Error(s(175));l=k(a.stateNode,a.type,a.memoizedProps,f,l,a,!Pa),a.updateQueue=l,l!==null&&vi(a)}else{var S=L(m,h,f,l,a);Na(S,a,!1,!1),a.stateNode=S,V(S,m,h,f,l)&&vi(a)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return bn(a),null;case 6:if(l&&a.stateNode!=null)gu(l,a,l.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(s(166));if(l=pi(_l.current),f=pi(zr.current),Ua(a)){if(!Fe)throw Error(s(176));if(l=a.stateNode,h=a.memoizedProps,(f=P(l,h,a,!Pa))&&(m=Cr,m!==null))switch(S=(m.mode&1)!==0,m.tag){case 3:xe(m.stateNode.containerInfo,l,h,S);break;case 5:ke(m.type,m.memoizedProps,m.stateNode,l,h,S)}f&&vi(a)}else a.stateNode=ee(h,l,f,a)}return bn(a),null;case 13:if(nt(tn),h=a.memoizedState,Kt&&Tr!==null&&a.mode&1&&!(a.flags&128)){for(l=Tr;l;)l=_n(l);return wl(),a.flags|=98560,a}if(h!==null&&h.dehydrated!==null){if(h=Ua(a),l===null){if(!h)throw Error(s(318));if(!Fe)throw Error(s(344));if(l=a.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));H(l,a)}else wl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;return bn(a),null}return ti!==null&&(hd(ti),ti=null),a.flags&128?(a.lanes=f,a):(h=h!==null,f=!1,l===null?Ua(a):f=l.memoizedState!==null,h&&!f&&(a.child.flags|=8192,a.mode&1&&(l===null||tn.current&1?En===0&&(En=3):md())),a.updateQueue!==null&&(a.flags|=4),bn(a),null);case 4:return El(),za(l,a),l===null&&Ue(a.stateNode.containerInfo),bn(a),null;case 10:return Mn(a.type._context),bn(a),null;case 17:return Xt(a.type)&&Zt(),bn(a),null;case 19:if(nt(tn),m=a.memoizedState,m===null)return bn(a),null;if(h=(a.flags&128)!==0,S=m.rendering,S===null)if(h)Ba(m,!1);else{if(En!==0||l!==null&&l.flags&128)for(l=a.child;l!==null;){if(S=su(l),S!==null){for(a.flags|=128,Ba(m,!1),l=S.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),a.subtreeFlags=0,l=f,h=a.child;h!==null;)f=h,m=l,f.flags&=14680066,S=f.alternate,S===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=S.childLanes,f.lanes=S.lanes,f.child=S.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=S.memoizedProps,f.memoizedState=S.memoizedState,f.updateQueue=S.updateQueue,f.type=S.type,m=S.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),h=h.sibling;return ut(tn,tn.current&1|2),a.child}l=l.sibling}m.tail!==null&&en()>cd&&(a.flags|=128,h=!0,Ba(m,!1),a.lanes=4194304)}else{if(!h)if(l=su(S),l!==null){if(a.flags|=128,h=!0,l=l.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),Ba(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Kt)return bn(a),null}else 2*en()-m.renderingStartTime>cd&&f!==1073741824&&(a.flags|=128,h=!0,Ba(m,!1),a.lanes=4194304);m.isBackwards?(S.sibling=a.child,a.child=S):(l=m.last,l!==null?l.sibling=S:a.child=S,m.last=S)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=en(),a.sibling=null,l=tn.current,ut(tn,h?l&1|2:l&1),a):(bn(a),null);case 22:case 23:return vd(),h=a.memoizedState!==null,l!==null&&l.memoizedState!==null!==h&&(a.flags|=8192),h&&a.mode&1?Pr&1073741824&&(bn(a),fe&&a.subtreeFlags&6&&(a.flags|=8192)):bn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}var tS=u.ReactCurrentOwner,Mr=!1;function rr(l,a,f,h){a.child=l===null?bv(a,null,f,h):Sl(a,l.child,f,h)}function gm(l,a,f,h,m){f=f.render;var S=a.ref;return dn(a,m),h=Gf(l,a,f,h,S,m),f=Hf(),l!==null&&!Mr?(a.updateQueue=l.updateQueue,a.flags&=-2053,l.lanes&=~m,Ii(l,a,m)):(Kt&&f&&Rf(a),a.flags|=1,rr(l,a,h,m),a.child)}function ym(l,a,f,h,m){if(l===null){var S=f.type;return typeof S=="function"&&!gd(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=S,wm(l,a,S,h,m)):(l=zu(f.type,null,h,a,a.mode,m),l.ref=a.ref,l.return=a,a.child=l)}if(S=l.child,!(l.lanes&m)){var I=S.memoizedProps;if(f=f.compare,f=f!==null?f:Ao,f(I,h)&&l.ref===a.ref)return Ii(l,a,m)}return a.flags|=1,l=eo(S,h),l.ref=a.ref,l.return=a,a.child=l}function wm(l,a,f,h,m){if(l!==null&&Ao(l.memoizedProps,h)&&l.ref===a.ref)if(Mr=!1,(l.lanes&m)!==0)l.flags&131072&&(Mr=!0);else return a.lanes=l.lanes,Ii(l,a,m);return Xf(l,a,f,h,m)}function Sm(l,a,f){var h=a.pendingProps,m=h.children,S=l!==null?l.memoizedState:null;if(h.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null},ut(kl,Pr),Pr|=f;else if(f&1073741824)a.memoizedState={baseLanes:0,cachePool:null},h=S!==null?S.baseLanes:f,ut(kl,Pr),Pr|=h;else return l=S!==null?S.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:l,cachePool:null},a.updateQueue=null,ut(kl,Pr),Pr|=l,null;else S!==null?(h=S.baseLanes|f,a.memoizedState=null):h=f,ut(kl,Pr),Pr|=h;return rr(l,a,m,f),a.child}function _m(l,a){var f=a.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function Xf(l,a,f,h,m){var S=Xt(f)?Nt:Ot.current;return S=an(a,S),dn(a,m),f=Gf(l,a,f,h,S,m),h=Hf(),l!==null&&!Mr?(a.updateQueue=l.updateQueue,a.flags&=-2053,l.lanes&=~m,Ii(l,a,m)):(Kt&&h&&Rf(a),a.flags|=1,rr(l,a,f,m),a.child)}function Em(l,a,f,h,m){if(Xt(f)){var S=!0;Rt(a)}else S=!1;if(dn(a,m),a.stateNode===null)l!==null&&(l.alternate=null,a.alternate=null,a.flags|=2),Fv(a,f,h),Df(a,f,h,m),h=!0;else if(l===null){var I=a.stateNode,Y=a.memoizedProps;I.props=Y;var ce=I.context,_e=f.contextType;typeof _e=="object"&&_e!==null?_e=pn(_e):(_e=Xt(f)?Nt:Ot.current,_e=an(a,_e));var Ge=f.getDerivedStateFromProps,pt=typeof Ge=="function"||typeof I.getSnapshotBeforeUpdate=="function";pt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(Y!==h||ce!==_e)&&Nv(a,I,h,_e),Xi=!1;var $e=a.memoizedState;I.state=$e,ru(a,h,I,m),ce=a.memoizedState,Y!==h||$e!==ce||ft.current||Xi?(typeof Ge=="function"&&(Uf(a,f,Ge,h),ce=a.memoizedState),(Y=Xi||Ov(a,f,Y,h,$e,ce,_e))?(pt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=ce),I.props=h,I.state=ce,I.context=_e,h=Y):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{I=a.stateNode,Rv(l,a),Y=a.memoizedProps,_e=a.type===a.elementType?Y:tr(a.type,Y),I.props=_e,pt=a.pendingProps,$e=I.context,ce=f.contextType,typeof ce=="object"&&ce!==null?ce=pn(ce):(ce=Xt(f)?Nt:Ot.current,ce=an(a,ce));var Bt=f.getDerivedStateFromProps;(Ge=typeof Bt=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(Y!==pt||$e!==ce)&&Nv(a,I,h,ce),Xi=!1,$e=a.memoizedState,I.state=$e,ru(a,h,I,m);var Je=a.memoizedState;Y!==pt||$e!==Je||ft.current||Xi?(typeof Bt=="function"&&(Uf(a,f,Bt,h),Je=a.memoizedState),(_e=Xi||Ov(a,f,_e,h,$e,Je,ce)||!1)?(Ge||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,Je,ce),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,Je,ce)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||Y===l.memoizedProps&&$e===l.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&$e===l.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Je),I.props=h,I.state=Je,I.context=ce,h=_e):(typeof I.componentDidUpdate!="function"||Y===l.memoizedProps&&$e===l.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&$e===l.memoizedState||(a.flags|=1024),h=!1)}return Zf(l,a,f,h,S,m)}function Zf(l,a,f,h,m,S){_m(l,a);var I=(a.flags&128)!==0;if(!h&&!I)return m&&dt(a,f,!1),Ii(l,a,S);h=a.stateNode,tS.current=a;var Y=I&&typeof f.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,l!==null&&I?(a.child=Sl(a,l.child,null,S),a.child=Sl(a,null,Y,S)):rr(l,a,Y,S),a.memoizedState=h.state,m&&dt(a,f,!0),a.child}function xm(l){var a=l.stateNode;a.pendingContext?Pt(l,a.pendingContext,a.pendingContext!==a.context):a.context&&Pt(l,a.context,!1),Ff(l,a.containerInfo)}function km(l,a,f,h,m){return wl(),Of(m),a.flags|=256,rr(l,a,f,h),a.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function wu(l){return{baseLanes:l,cachePool:null}}function Cm(l,a,f){var h=a.pendingProps,m=tn.current,S=!1,I=(a.flags&128)!==0,Y;if((Y=I)||(Y=l!==null&&l.memoizedState===null?!1:(m&2)!==0),Y?(S=!0,a.flags&=-129):(l===null||l.memoizedState!==null)&&(m|=1),ut(tn,m&1),l===null)return If(a),l=a.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(a.mode&1?qn(l)?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(m=h.children,l=h.fallback,S?(h=a.mode,S=a.child,m={mode:"hidden",children:m},!(h&1)&&S!==null?(S.childLanes=0,S.pendingProps=m):S=Bu(m,h,0,null),l=Wo(l,h,f,null),S.return=a,l.return=a,S.sibling=l,a.child=S,a.child.memoizedState=wu(f),a.memoizedState=yu,l):Kf(a,m));if(m=l.memoizedState,m!==null){if(Y=m.dehydrated,Y!==null){if(I)return a.flags&256?(a.flags&=-257,Su(l,a,f,Error(s(422)))):a.memoizedState!==null?(a.child=l.child,a.flags|=128,null):(S=h.fallback,m=a.mode,h=Bu({mode:"visible",children:h.children},m,0,null),S=Wo(S,m,f,null),S.flags|=2,h.return=a,S.return=a,h.sibling=S,a.child=h,a.mode&1&&Sl(a,l.child,null,f),a.child.memoizedState=wu(f),a.memoizedState=yu,S);if(!(a.mode&1))a=Su(l,a,f,null);else if(qn(Y))a=Su(l,a,f,Error(s(419)));else if(h=(f&l.childLanes)!==0,Mr||h){if(h=gn,h!==null){switch(f&-f){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}h=S&(h.suspendedLanes|f)?0:S,h!==0&&h!==m.retryLane&&(m.retryLane=h,jr(l,h,-1))}md(),a=Su(l,a,f,Error(s(421)))}else jn(Y)?(a.flags|=128,a.child=l.child,a=hS.bind(null,l),Gn(Y,a),a=null):(f=m.treeContext,Fe&&(Tr=$r(Y),Cr=a,Kt=!0,ti=null,Pa=!1,f!==null&&(Fr[Nr++]=Ri,Fr[Nr++]=Li,Fr[Nr++]=Oo,Ri=f.id,Li=f.overflow,Oo=a)),a=Kf(a,a.pendingProps.children),a.flags|=4096);return a}return S?(h=Mm(l,a,h.children,h.fallback,f),S=a.child,m=l.child.memoizedState,S.memoizedState=m===null?wu(f):{baseLanes:m.baseLanes|f,cachePool:null},S.childLanes=l.childLanes&~f,a.memoizedState=yu,h):(f=Tm(l,a,h.children,f),a.memoizedState=null,f)}return S?(h=Mm(l,a,h.children,h.fallback,f),S=a.child,m=l.child.memoizedState,S.memoizedState=m===null?wu(f):{baseLanes:m.baseLanes|f,cachePool:null},S.childLanes=l.childLanes&~f,a.memoizedState=yu,h):(f=Tm(l,a,h.children,f),a.memoizedState=null,f)}function Kf(l,a){return a=Bu({mode:"visible",children:a},l.mode,0,null),a.return=l,l.child=a}function Tm(l,a,f,h){var m=l.child;return l=m.sibling,f=eo(m,{mode:"visible",children:f}),!(a.mode&1)&&(f.lanes=h),f.return=a,f.sibling=null,l!==null&&(h=a.deletions,h===null?(a.deletions=[l],a.flags|=16):h.push(l)),a.child=f}function Mm(l,a,f,h,m){var S=a.mode;l=l.child;var I=l.sibling,Y={mode:"hidden",children:f};return!(S&1)&&a.child!==l?(f=a.child,f.childLanes=0,f.pendingProps=Y,a.deletions=null):(f=eo(l,Y),f.subtreeFlags=l.subtreeFlags&14680064),I!==null?h=eo(I,h):(h=Wo(h,S,m,null),h.flags|=2),h.return=a,f.return=a,f.sibling=h,a.child=f,h}function Su(l,a,f,h){return h!==null&&Of(h),Sl(a,l.child,null,f),l=Kf(a,a.pendingProps.children),l.flags|=2,a.memoizedState=null,l}function Pm(l,a,f){l.lanes|=a;var h=l.alternate;h!==null&&(h.lanes|=a),nr(l.return,a,f)}function Jf(l,a,f,h,m){var S=l.memoizedState;S===null?l.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:f,tailMode:m}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=f,S.tailMode=m)}function Um(l,a,f){var h=a.pendingProps,m=h.revealOrder,S=h.tail;if(rr(l,a,h.children,f),h=tn.current,h&2)h=h&1|2,a.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=a.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Pm(l,f,a);else if(l.tag===19)Pm(l,f,a);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}h&=1}if(ut(tn,h),!(a.mode&1))a.memoizedState=null;else switch(m){case"forwards":for(f=a.child,m=null;f!==null;)l=f.alternate,l!==null&&su(l)===null&&(m=f),f=f.sibling;f=m,f===null?(m=a.child,a.child=null):(m=f.sibling,f.sibling=null),Jf(a,!1,m,f,S);break;case"backwards":for(f=null,m=a.child,a.child=null;m!==null;){if(l=m.alternate,l!==null&&su(l)===null){a.child=m;break}l=m.sibling,m.sibling=f,f=m,m=l}Jf(a,!0,f,null,S);break;case"together":Jf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ii(l,a,f){if(l!==null&&(a.dependencies=l.dependencies),Cl|=a.lanes,!(f&a.childLanes))return null;if(l!==null&&a.child!==l.child)throw Error(s(153));if(a.child!==null){for(l=a.child,f=eo(l,l.pendingProps),a.child=f,f.return=a;l.sibling!==null;)l=l.sibling,f=f.sibling=eo(l,l.pendingProps),f.return=a;f.sibling=null}return a.child}function nS(l,a,f){switch(a.tag){case 3:xm(a),wl();break;case 5:Vv(a);break;case 1:Xt(a.type)&&Rt(a);break;case 4:Ff(a,a.stateNode.containerInfo);break;case 10:tu(a,a.type._context,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(ut(tn,tn.current&1),a.flags|=128,null):f&a.child.childLanes?Cm(l,a,f):(ut(tn,tn.current&1),l=Ii(l,a,f),l!==null?l.sibling:null);ut(tn,tn.current&1);break;case 19:if(h=(f&a.childLanes)!==0,l.flags&128){if(h)return Um(l,a,f);a.flags|=128}var m=a.memoizedState;if(m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ut(tn,tn.current),h)break;return null;case 22:case 23:return a.lanes=0,Sm(l,a,f)}return Ii(l,a,f)}function rS(l,a){switch(Lf(a),a.tag){case 1:return Xt(a.type)&&Zt(),l=a.flags,l&65536?(a.flags=l&-65537|128,a):null;case 3:return El(),nt(ft),nt(Ot),Bf(),l=a.flags,l&65536&&!(l&128)?(a.flags=l&-65537|128,a):null;case 5:return Nf(a),null;case 13:if(nt(tn),l=a.memoizedState,l!==null&&l.dehydrated!==null){if(a.alternate===null)throw Error(s(340));wl()}return l=a.flags,l&65536?(a.flags=l&-65537|128,a):null;case 19:return nt(tn),null;case 4:return El(),null;case 10:return Mn(a.type._context),null;case 22:case 23:return vd(),null;case 24:return null;default:return null}}var _u=!1,zo=!1,iS=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Eu(l,a){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(h){hr(l,a,h)}else f.current=null}function qf(l,a,f){try{f()}catch(h){hr(l,a,h)}}var Dm=!1;function oS(l,a){for(G(l.containerInfo),Re=a;Re!==null;)if(l=Re,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Re=a;else for(;Re!==null;){l=Re;try{var f=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var h=f.memoizedProps,m=f.memoizedState,S=l.stateNode,I=S.getSnapshotBeforeUpdate(l.elementType===l.type?h:tr(l.type,h),m);S.__reactInternalSnapshotBeforeUpdate=I}break;case 3:fe&&cn(l.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Y){hr(l,l.return,Y)}if(a=l.sibling,a!==null){a.return=l.return,Re=a;break}Re=l.return}return f=Dm,Dm=!1,f}function Bo(l,a,f){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&l)===l){var S=m.destroy;m.destroy=void 0,S!==void 0&&qf(a,f,S)}m=m.next}while(m!==h)}}function ja(l,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&l)===l){var h=f.create;f.destroy=h()}f=f.next}while(f!==a)}}function $f(l){var a=l.ref;if(a!==null){var f=l.stateNode;switch(l.tag){case 5:l=q(f);break;default:l=f}typeof a=="function"?a(l):a.current=l}}function Rm(l,a,f){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Ro,a)}catch{}switch(a.tag){case 0:case 11:case 14:case 15:if(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null)){var h=l=l.next;do{var m=h,S=m.destroy;m=m.tag,S!==void 0&&(m&2||m&4)&&qf(a,f,S),h=h.next}while(h!==l)}break;case 1:if(Eu(a,f),l=a.stateNode,typeof l.componentWillUnmount=="function")try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(I){hr(a,f,I)}break;case 5:Eu(a,f);break;case 4:fe?Nm(l,a,f):he&&he&&(a=a.stateNode.containerInfo,f=ct(a),qe(a,f))}}function Lm(l,a,f){for(var h=a;;)if(Rm(l,h,f),h.child===null||fe&&h.tag===4){if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}else h.child.return=h,h=h.child}function Am(l){var a=l.alternate;a!==null&&(l.alternate=null,Am(a)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(a=l.stateNode,a!==null&&ze(a)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Im(l){return l.tag===5||l.tag===3||l.tag===4}function Om(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Im(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Fm(l){if(fe){e:{for(var a=l.return;a!==null;){if(Im(a))break e;a=a.return}throw Error(s(160))}var f=a;switch(f.tag){case 5:a=f.stateNode,f.flags&32&&(pe(a),f.flags&=-33),f=Om(l),td(l,f,a);break;case 3:case 4:a=f.stateNode.containerInfo,f=Om(l),ed(l,f,a);break;default:throw Error(s(161))}}}function ed(l,a,f){var h=l.tag;if(h===5||h===6)l=l.stateNode,a?Ke(f,l,a):Xe(f,l);else if(h!==4&&(l=l.child,l!==null))for(ed(l,a,f),l=l.sibling;l!==null;)ed(l,a,f),l=l.sibling}function td(l,a,f){var h=l.tag;if(h===5||h===6)l=l.stateNode,a?ot(f,l,a):He(f,l);else if(h!==4&&(l=l.child,l!==null))for(td(l,a,f),l=l.sibling;l!==null;)td(l,a,f),l=l.sibling}function Nm(l,a,f){for(var h=a,m=!1,S,I;;){if(!m){m=h.return;e:for(;;){if(m===null)throw Error(s(160));switch(S=m.stateNode,m.tag){case 5:I=!1;break e;case 3:S=S.containerInfo,I=!0;break e;case 4:S=S.containerInfo,I=!0;break e}m=m.return}m=!0}if(h.tag===5||h.tag===6)Lm(l,h,f),I?b(S,h.stateNode):Ye(S,h.stateNode);else if(h.tag===18)I?ge(S,h.stateNode):Se(S,h.stateNode);else if(h.tag===4){if(h.child!==null){S=h.stateNode.containerInfo,I=!0,h.child.return=h,h=h.child;continue}}else if(Rm(l,h,f),h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return,h.tag===4&&(m=!1)}h.sibling.return=h.return,h=h.sibling}}function nd(l,a){if(fe){switch(a.tag){case 0:case 11:case 14:case 15:Bo(3,a,a.return),ja(3,a),Bo(5,a,a.return);return;case 1:return;case 5:var f=a.stateNode;if(f!=null){var h=a.memoizedProps;l=l!==null?l.memoizedProps:h;var m=a.type,S=a.updateQueue;a.updateQueue=null,S!==null&&Ft(f,S,m,l,h,a)}return;case 6:if(a.stateNode===null)throw Error(s(162));f=a.memoizedProps,it(a.stateNode,l!==null?l.memoizedProps:f,f);return;case 3:Fe&&l!==null&&l.memoizedState.isDehydrated&&le(a.stateNode.containerInfo);return;case 12:return;case 13:xu(a);return;case 19:xu(a);return;case 17:return}throw Error(s(163))}switch(a.tag){case 0:case 11:case 14:case 15:Bo(3,a,a.return),ja(3,a),Bo(5,a,a.return);return;case 12:return;case 13:xu(a);return;case 19:xu(a);return;case 3:Fe&&l!==null&&l.memoizedState.isDehydrated&&le(a.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(a.tag){case 1:case 5:case 6:break e;case 3:case 4:a=a.stateNode,qe(a.containerInfo,a.pendingChildren);break e}throw Error(s(163))}}function xu(l){var a=l.updateQueue;if(a!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new iS),a.forEach(function(h){var m=vS.bind(null,l,h);f.has(h)||(f.add(h),h.then(m,m))})}}function lS(l,a){for(Re=a;Re!==null;){a=Re;var f=a.deletions;if(f!==null)for(var h=0;h<f.length;h++){var m=f[h];try{var S=l;fe?Nm(S,m,a):Lm(S,m,a);var I=m.alternate;I!==null&&(I.return=null),m.return=null}catch(Ze){hr(m,a,Ze)}}if(f=a.child,a.subtreeFlags&12854&&f!==null)f.return=a,Re=f;else for(;Re!==null;){a=Re;try{var Y=a.flags;if(Y&32&&fe&&pe(a.stateNode),Y&512){var ce=a.alternate;if(ce!==null){var _e=ce.ref;_e!==null&&(typeof _e=="function"?_e(null):_e.current=null)}}if(Y&8192)switch(a.tag){case 13:if(a.memoizedState!==null){var Ge=a.alternate;(Ge===null||Ge.memoizedState===null)&&(ud=en())}break;case 22:var pt=a.memoizedState!==null,$e=a.alternate,Bt=$e!==null&&$e.memoizedState!==null;if(f=a,fe){e:if(h=f,m=pt,S=null,fe)for(var Je=h;;){if(Je.tag===5){if(S===null){S=Je;var Vn=Je.stateNode;m?Te(Vn):ue(Je.stateNode,Je.memoizedProps)}}else if(Je.tag===6){if(S===null){var Hr=Je.stateNode;m?Ve(Hr):lt(Hr,Je.memoizedProps)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===h)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===h)break;for(;Je.sibling===null;){if(Je.return===null||Je.return===h)break e;S===Je&&(S=null),Je=Je.return}S===Je&&(S=null),Je.sibling.return=Je.return,Je=Je.sibling}}if(pt&&!Bt&&f.mode&1){Re=f;for(var te=f.child;te!==null;){for(f=Re=te;Re!==null;){h=Re;var Z=h.child;switch(h.tag){case 0:case 11:case 14:case 15:Bo(4,h,h.return);break;case 1:Eu(h,h.return);var ae=h.stateNode;if(typeof ae.componentWillUnmount=="function"){var Ae=h.return;try{ae.props=h.memoizedProps,ae.state=h.memoizedState,ae.componentWillUnmount()}catch(Ze){hr(h,Ae,Ze)}}break;case 5:Eu(h,h.return);break;case 22:if(h.memoizedState!==null){jm(f);continue}}Z!==null?(Z.return=h,Re=Z):jm(f)}te=te.sibling}}}switch(Y&4102){case 2:Fm(a),a.flags&=-3;break;case 6:Fm(a),a.flags&=-3,nd(a.alternate,a);break;case 4096:a.flags&=-4097;break;case 4100:a.flags&=-4097,nd(a.alternate,a);break;case 4:nd(a.alternate,a)}}catch(Ze){hr(a,a.return,Ze)}if(f=a.sibling,f!==null){f.return=a.return,Re=f;break}Re=a.return}}}function aS(l,a,f){Re=l,zm(l)}function zm(l,a,f){for(var h=(l.mode&1)!==0;Re!==null;){var m=Re,S=m.child;if(m.tag===22&&h){var I=m.memoizedState!==null||_u;if(!I){var Y=m.alternate,ce=Y!==null&&Y.memoizedState!==null||zo;Y=_u;var _e=zo;if(_u=I,(zo=ce)&&!_e)for(Re=m;Re!==null;)I=Re,ce=I.child,I.tag===22&&I.memoizedState!==null?Gm(m):ce!==null?(ce.return=I,Re=ce):Gm(m);for(;S!==null;)Re=S,zm(S),S=S.sibling;Re=m,_u=Y,zo=_e}Bm(l)}else m.subtreeFlags&8772&&S!==null?(S.return=m,Re=S):Bm(l)}}function Bm(l){for(;Re!==null;){var a=Re;if(a.flags&8772){var f=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:zo||ja(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!zo)if(f===null)h.componentDidMount();else{var m=a.elementType===a.type?f.memoizedProps:tr(a.type,f.memoizedProps);h.componentDidUpdate(m,f.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&Av(a,S,h);break;case 3:var I=a.updateQueue;if(I!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=q(a.child.stateNode);break;case 1:f=a.child.stateNode}Av(a,I,f)}break;case 5:var Y=a.stateNode;f===null&&a.flags&4&&Ut(Y,a.type,a.memoizedProps,a);break;case 6:break;case 4:break;case 12:break;case 13:if(Fe&&a.memoizedState===null){var ce=a.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var Ge=_e.dehydrated;Ge!==null&&se(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}zo||a.flags&512&&$f(a)}catch(pt){hr(a,a.return,pt)}}if(a===l){Re=null;break}if(f=a.sibling,f!==null){f.return=a.return,Re=f;break}Re=a.return}}function jm(l){for(;Re!==null;){var a=Re;if(a===l){Re=null;break}var f=a.sibling;if(f!==null){f.return=a.return,Re=f;break}Re=a.return}}function Gm(l){for(;Re!==null;){var a=Re;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{ja(4,a)}catch(ce){hr(a,f,ce)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var m=a.return;try{h.componentDidMount()}catch(ce){hr(a,m,ce)}}var S=a.return;try{$f(a)}catch(ce){hr(a,S,ce)}break;case 5:var I=a.return;try{$f(a)}catch(ce){hr(a,I,ce)}}}catch(ce){hr(a,a.return,ce)}if(a===l){Re=null;break}var Y=a.sibling;if(Y!==null){Y.return=a.return,Re=Y;break}Re=a.return}}var ku=0,Cu=1,Tu=2,Mu=3,Pu=4;if(typeof Symbol=="function"&&Symbol.for){var Ga=Symbol.for;ku=Ga("selector.component"),Cu=Ga("selector.has_pseudo_class"),Tu=Ga("selector.role"),Mu=Ga("selector.test_id"),Pu=Ga("selector.text")}function rd(l){var a=be(l);if(a!=null){if(typeof a.memoizedProps["data-testname"]!="string")throw Error(s(364));return a}if(l=ve(l),l===null)throw Error(s(362));return l.stateNode.current}function id(l,a){switch(a.$$typeof){case ku:if(l.type===a.value)return!0;break;case Cu:e:{a=a.value,l=[l,0];for(var f=0;f<l.length;){var h=l[f++],m=l[f++],S=a[m];if(h.tag!==5||!Ie(h)){for(;S!=null&&id(h,S);)m++,S=a[m];if(m===a.length){a=!0;break e}else for(h=h.child;h!==null;)l.push(h,m),h=h.sibling}}a=!1}return a;case Tu:if(l.tag===5&&Pe(l.stateNode,a.value))return!0;break;case Pu:if((l.tag===5||l.tag===6)&&(l=De(l),l!==null&&0<=l.indexOf(a.value)))return!0;break;case Mu:if(l.tag===5&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===a.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function od(l){switch(l.$$typeof){case ku:return"<"+(A(l.value)||"Unknown")+">";case Cu:return":has("+(od(l)||"")+")";case Tu:return'[role="'+l.value+'"]';case Pu:return'"'+l.value+'"';case Mu:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function Hm(l,a){var f=[];l=[l,0];for(var h=0;h<l.length;){var m=l[h++],S=l[h++],I=a[S];if(m.tag!==5||!Ie(m)){for(;I!=null&&id(m,I);)S++,I=a[S];if(S===a.length)f.push(m);else for(m=m.child;m!==null;)l.push(m,S),m=m.sibling}}return f}function ld(l,a){if(!Le)throw Error(s(363));l=rd(l),l=Hm(l,a),a=[],l=Array.from(l);for(var f=0;f<l.length;){var h=l[f++];if(h.tag===5)Ie(h)||a.push(h.stateNode);else for(h=h.child;h!==null;)l.push(h),h=h.sibling}return a}var sS=Math.ceil,Uu=u.ReactCurrentDispatcher,ad=u.ReactCurrentOwner,hn=u.ReactCurrentBatchConfig,yt=0,gn=null,yn=null,Ln=0,Pr=0,kl=vt(0),En=0,Ha=null,Cl=0,Du=0,sd=0,Wa=null,dr=null,ud=0,cd=1/0;function Tl(){cd=en()+500}var Ru=!1,fd=null,Ki=null,Lu=!1,Ji=null,Au=0,ba=0,dd=null,Iu=-1,Ou=0;function ir(){return yt&6?en():Iu!==-1?Iu:Iu=en()}function qi(l){return l.mode&1?yt&2&&Ln!==0?Ln&-Ln:Lo.transition!==null?(Ou===0&&(l=Ci,Ci<<=1,!(Ci&4194240)&&(Ci=64),Ou=l),Ou):(l=xt,l!==0?l:je()):1}function jr(l,a,f){if(50<ba)throw ba=0,dd=null,Error(s(185));var h=Fu(l,a);return h===null?null:(ci(h,a,f),(!(yt&2)||h!==gn)&&(h===gn&&(!(yt&2)&&(Du|=a),En===4&&$i(h,Ln)),pr(h,f),a===1&&yt===0&&!(l.mode&1)&&(Tl(),di&&fr())),h)}function Fu(l,a){l.lanes|=a;var f=l.alternate;for(f!==null&&(f.lanes|=a),f=l,l=l.return;l!==null;)l.childLanes|=a,f=l.alternate,f!==null&&(f.childLanes|=a),f=l,l=l.return;return f.tag===3?f.stateNode:null}function pr(l,a){var f=l.callbackNode;_a(l,a);var h=Uo(l,l===gn?Ln:0);if(h===0)f!==null&&hl(f),l.callbackNode=null,l.callbackPriority=0;else if(a=h&-h,l.callbackPriority!==a){if(f!=null&&hl(f),a===1)l.tag===0?Ma(bm.bind(null,l)):Ta(bm.bind(null,l)),ye?Ne(function(){yt===0&&fr()}):Ui(Do,fr),f=null;else{switch(Ea(h)){case 1:f=Do;break;case 4:f=$s;break;case 16:f=$n;break;case 536870912:f=ka;break;default:f=$n}f=$m(f,Wm.bind(null,l))}l.callbackPriority=a,l.callbackNode=f}}function Wm(l,a){if(Iu=-1,Ou=0,yt&6)throw Error(s(327));var f=l.callbackNode;if(Ho()&&l.callbackNode!==f)return null;var h=Uo(l,l===gn?Ln:0);if(h===0)return null;if(h&30||h&l.expiredLanes||a)a=Nu(l,h);else{a=h;var m=yt;yt|=2;var S=Ym();(gn!==l||Ln!==a)&&(Tl(),jo(l,a));do try{fS();break}catch(Y){Qm(l,Y)}while(1);ml(),Uu.current=S,yt=m,yn!==null?a=0:(gn=null,Ln=0,a=En)}if(a!==0){if(a===2&&(m=Pi(l),m!==0&&(h=m,a=pd(l,m))),a===1)throw f=Ha,jo(l,0),$i(l,h),pr(l,en()),f;if(a===6)$i(l,h);else{if(m=l.current.alternate,!(h&30)&&!uS(m)&&(a=Nu(l,h),a===2&&(S=Pi(l),S!==0&&(h=S,a=pd(l,S))),a===1))throw f=Ha,jo(l,0),$i(l,h),pr(l,en()),f;switch(l.finishedWork=m,l.finishedLanes=h,a){case 0:case 1:throw Error(s(345));case 2:Go(l,dr);break;case 3:if($i(l,h),(h&130023424)===h&&(a=ud+500-en(),10<a)){if(Uo(l,0)!==0)break;if(m=l.suspendedLanes,(m&h)!==h){ir(),l.pingedLanes|=l.suspendedLanes&m;break}l.timeoutHandle=oe(Go.bind(null,l,dr),a);break}Go(l,dr);break;case 4:if($i(l,h),(h&4194240)===h)break;for(a=l.eventTimes,m=-1;0<h;){var I=31-Gt(h);S=1<<I,I=a[I],I>m&&(m=I),h&=~S}if(h=m,h=en()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*sS(h/1960))-h,10<h){l.timeoutHandle=oe(Go.bind(null,l,dr),h);break}Go(l,dr);break;case 5:Go(l,dr);break;default:throw Error(s(329))}}}return pr(l,en()),l.callbackNode===f?Wm.bind(null,l):null}function pd(l,a){var f=Wa;return l.current.memoizedState.isDehydrated&&(jo(l,a).flags|=256),l=Nu(l,a),l!==2&&(a=dr,dr=f,a!==null&&hd(a)),l}function hd(l){dr===null?dr=l:dr.push.apply(dr,l)}function uS(l){for(var a=l;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var h=0;h<f.length;h++){var m=f[h],S=m.getSnapshot;m=m.value;try{if(!xr(S(),m))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===l)break;for(;a.sibling===null;){if(a.return===null||a.return===l)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $i(l,a){for(a&=~sd,a&=~Du,l.suspendedLanes|=a,l.pingedLanes&=~a,l=l.expirationTimes;0<a;){var f=31-Gt(a),h=1<<f;l[f]=-1,a&=~h}}function bm(l){if(yt&6)throw Error(s(327));Ho();var a=Uo(l,0);if(!(a&1))return pr(l,en()),null;var f=Nu(l,a);if(l.tag!==0&&f===2){var h=Pi(l);h!==0&&(a=h,f=pd(l,h))}if(f===1)throw f=Ha,jo(l,0),$i(l,a),pr(l,en()),f;if(f===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=a,Go(l,dr),pr(l,en()),null}function Vm(l){Ji!==null&&Ji.tag===0&&!(yt&6)&&Ho();var a=yt;yt|=1;var f=hn.transition,h=xt;try{if(hn.transition=null,xt=1,l)return l()}finally{xt=h,hn.transition=f,yt=a,!(yt&6)&&fr()}}function vd(){Pr=kl.current,nt(kl)}function jo(l,a){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==Me&&(l.timeoutHandle=Me,de(f)),yn!==null)for(f=yn.return;f!==null;){var h=f;switch(Lf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Zt();break;case 3:El(),nt(ft),nt(Ot),Bf();break;case 5:Nf(h);break;case 4:El();break;case 13:nt(tn);break;case 19:nt(tn);break;case 10:Mn(h.type._context);break;case 22:case 23:vd()}f=f.return}if(gn=l,yn=l=eo(l.current,null),Ln=Pr=a,En=0,Ha=null,sd=Du=Cl=0,dr=Wa=null,kr!==null){for(a=0;a<kr.length;a++)if(f=kr[a],h=f.interleaved,h!==null){f.interleaved=null;var m=h.next,S=f.pending;if(S!==null){var I=S.next;S.next=m,h.next=I}f.pending=h}kr=null}return l}function Qm(l,a){do{var f=yn;try{if(ml(),uu.current=vu,cu){for(var h=sn.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}cu=!1}if(xl=0,Pn=Hn=sn=null,Aa=!1,Ia=0,ad.current=null,f===null||f.return===null){En=1,Ha=a,yn=null;break}e:{var S=l,I=f.return,Y=f,ce=a;if(a=Ln,Y.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var _e=ce,Ge=Y,pt=Ge.tag;if(!(Ge.mode&1)&&(pt===0||pt===11||pt===15)){var $e=Ge.alternate;$e?(Ge.updateQueue=$e.updateQueue,Ge.memoizedState=$e.memoizedState,Ge.lanes=$e.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var Bt=pm(I);if(Bt!==null){Bt.flags&=-257,hm(Bt,I,Y,S,a),Bt.mode&1&&dm(S,_e,a),a=Bt,ce=_e;var Je=a.updateQueue;if(Je===null){var Vn=new Set;Vn.add(ce),a.updateQueue=Vn}else Je.add(ce);break e}else{if(!(a&1)){dm(S,_e,a),md();break e}ce=Error(s(426))}}else if(Kt&&Y.mode&1){var Hr=pm(I);if(Hr!==null){!(Hr.flags&65536)&&(Hr.flags|=256),hm(Hr,I,Y,S,a),Of(ce);break e}}S=ce,En!==4&&(En=2),Wa===null?Wa=[S]:Wa.push(S),ce=Qf(ce,Y),Y=I;do{switch(Y.tag){case 3:Y.flags|=65536,a&=-a,Y.lanes|=a;var te=cm(Y,ce,a);Lv(Y,te);break e;case 1:S=ce;var Z=Y.type,ae=Y.stateNode;if(!(Y.flags&128)&&(typeof Z.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Ki===null||!Ki.has(ae)))){Y.flags|=65536,a&=-a,Y.lanes|=a;var Ae=fm(Y,S,a);Lv(Y,Ae);break e}}Y=Y.return}while(Y!==null)}Zm(f)}catch(Ze){a=Ze,yn===f&&f!==null&&(yn=f=f.return);continue}break}while(1)}function Ym(){var l=Uu.current;return Uu.current=vu,l===null?vu:l}function md(){(En===0||En===3||En===2)&&(En=4),gn===null||!(Cl&268435455)&&!(Du&268435455)||$i(gn,Ln)}function Nu(l,a){var f=yt;yt|=2;var h=Ym();gn===l&&Ln===a||jo(l,a);do try{cS();break}catch(m){Qm(l,m)}while(1);if(ml(),yt=f,Uu.current=h,yn!==null)throw Error(s(261));return gn=null,Ln=0,En}function cS(){for(;yn!==null;)Xm(yn)}function fS(){for(;yn!==null&&!xa();)Xm(yn)}function Xm(l){var a=qm(l.alternate,l,Pr);l.memoizedProps=l.pendingProps,a===null?Zm(l):yn=a,ad.current=null}function Zm(l){var a=l;do{var f=a.alternate;if(l=a.return,a.flags&32768){if(f=rS(f,a),f!==null){f.flags&=32767,yn=f;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{En=6,yn=null;return}}else if(f=eS(f,a,Pr),f!==null){yn=f;return}if(a=a.sibling,a!==null){yn=a;return}yn=a=l}while(a!==null);En===0&&(En=5)}function Go(l,a){var f=xt,h=hn.transition;try{hn.transition=null,xt=1,dS(l,a,f)}finally{hn.transition=h,xt=f}return null}function dS(l,a,f){do Ho();while(Ji!==null);if(yt&6)throw Error(s(327));var h=l.finishedWork,m=l.finishedLanes;if(h===null)return null;if(l.finishedWork=null,l.finishedLanes=0,h===l.current)throw Error(s(177));l.callbackNode=null,l.callbackPriority=0;var S=h.lanes|h.childLanes;if(Qi(l,S),l===gn&&(yn=gn=null,Ln=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||Lu||(Lu=!0,$m($n,function(){return Ho(),null})),S=(h.flags&15990)!==0,h.subtreeFlags&15990||S){S=hn.transition,hn.transition=null;var I=xt;xt=1;var Y=yt;yt|=4,ad.current=null,oS(l,h),lS(l,h),O(l.containerInfo),l.current=h,aS(h),qs(),yt=Y,xt=I,hn.transition=S}else l.current=h;if(Lu&&(Lu=!1,Ji=l,Au=m),S=l.pendingLanes,S===0&&(Ki=null),Ca(h.stateNode),pr(l,en()),a!==null)for(f=l.onRecoverableError,h=0;h<a.length;h++)f(a[h]);if(Ru)throw Ru=!1,l=fd,fd=null,l;return Au&1&&l.tag!==0&&Ho(),S=l.pendingLanes,S&1?l===dd?ba++:(ba=0,dd=l):ba=0,fr(),null}function Ho(){if(Ji!==null){var l=Ea(Au),a=hn.transition,f=xt;try{if(hn.transition=null,xt=16>l?16:l,Ji===null)var h=!1;else{if(l=Ji,Ji=null,Au=0,yt&6)throw Error(s(331));var m=yt;for(yt|=4,Re=l.current;Re!==null;){var S=Re,I=S.child;if(Re.flags&16){var Y=S.deletions;if(Y!==null){for(var ce=0;ce<Y.length;ce++){var _e=Y[ce];for(Re=_e;Re!==null;){var Ge=Re;switch(Ge.tag){case 0:case 11:case 15:Bo(8,Ge,S)}var pt=Ge.child;if(pt!==null)pt.return=Ge,Re=pt;else for(;Re!==null;){Ge=Re;var $e=Ge.sibling,Bt=Ge.return;if(Am(Ge),Ge===_e){Re=null;break}if($e!==null){$e.return=Bt,Re=$e;break}Re=Bt}}}var Je=S.alternate;if(Je!==null){var Vn=Je.child;if(Vn!==null){Je.child=null;do{var Hr=Vn.sibling;Vn.sibling=null,Vn=Hr}while(Vn!==null)}}Re=S}}if(S.subtreeFlags&2064&&I!==null)I.return=S,Re=I;else e:for(;Re!==null;){if(S=Re,S.flags&2048)switch(S.tag){case 0:case 11:case 15:Bo(9,S,S.return)}var te=S.sibling;if(te!==null){te.return=S.return,Re=te;break e}Re=S.return}}var Z=l.current;for(Re=Z;Re!==null;){I=Re;var ae=I.child;if(I.subtreeFlags&2064&&ae!==null)ae.return=I,Re=ae;else e:for(I=Z;Re!==null;){if(Y=Re,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:ja(9,Y)}}catch(Ze){hr(Y,Y.return,Ze)}if(Y===I){Re=null;break e}var Ae=Y.sibling;if(Ae!==null){Ae.return=Y.return,Re=Ae;break e}Re=Y.return}}if(yt=m,fr(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Ro,l)}catch{}h=!0}return h}finally{xt=f,hn.transition=a}}return!1}function Km(l,a,f){a=Qf(f,a),a=cm(l,a,1),Zi(l,a),a=ir(),l=Fu(l,1),l!==null&&(ci(l,1,a),pr(l,a))}function hr(l,a,f){if(l.tag===3)Km(l,l,f);else for(;a!==null;){if(a.tag===3){Km(a,l,f);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ki===null||!Ki.has(h))){l=Qf(f,l),l=fm(a,l,1),Zi(a,l),l=ir(),a=Fu(a,1),a!==null&&(ci(a,1,l),pr(a,l));break}}a=a.return}}function pS(l,a,f){var h=l.pingCache;h!==null&&h.delete(a),a=ir(),l.pingedLanes|=l.suspendedLanes&f,gn===l&&(Ln&f)===f&&(En===4||En===3&&(Ln&130023424)===Ln&&500>en()-ud?jo(l,0):sd|=f),pr(l,a)}function Jm(l,a){a===0&&(l.mode&1?(a=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):a=1);var f=ir();l=Fu(l,a),l!==null&&(ci(l,a,f),pr(l,f))}function hS(l){var a=l.memoizedState,f=0;a!==null&&(f=a.retryLane),Jm(l,f)}function vS(l,a){var f=0;switch(l.tag){case 13:var h=l.stateNode,m=l.memoizedState;m!==null&&(f=m.retryLane);break;case 19:h=l.stateNode;break;default:throw Error(s(314))}h!==null&&h.delete(a),Jm(l,f)}var qm;qm=function(l,a,f){if(l!==null)if(l.memoizedProps!==a.pendingProps||ft.current)Mr=!0;else{if(!(l.lanes&f)&&!(a.flags&128))return Mr=!1,nS(l,a,f);Mr=!!(l.flags&131072)}else Mr=!1,Kt&&a.flags&1048576&&zv(a,lu,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;l!==null&&(l.alternate=null,a.alternate=null,a.flags|=2),l=a.pendingProps;var m=an(a,Ot.current);dn(a,f),m=Gf(null,a,h,l,m,f);var S=Hf();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Xt(h)?(S=!0,Rt(a)):S=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Pf(a),m.updater=iu,a.stateNode=m,m._reactInternals=a,Df(a,h,l,f),a=Zf(null,a,h,!0,S,f)):(a.tag=0,Kt&&S&&Rf(a),rr(null,a,m,f),a=a.child),a;case 16:h=a.elementType;e:{switch(l!==null&&(l.alternate=null,a.alternate=null,a.flags|=2),l=a.pendingProps,m=h._init,h=m(h._payload),a.type=h,m=a.tag=gS(h),l=tr(h,l),m){case 0:a=Xf(null,a,h,l,f);break e;case 1:a=Em(null,a,h,l,f);break e;case 11:a=gm(null,a,h,l,f);break e;case 14:a=ym(null,a,h,tr(h.type,l),f);break e}throw Error(s(306,h,""))}return a;case 0:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:tr(h,m),Xf(l,a,h,m,f);case 1:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:tr(h,m),Em(l,a,h,m,f);case 3:e:{if(xm(a),l===null)throw Error(s(387));h=a.pendingProps,S=a.memoizedState,m=S.element,Rv(l,a),ru(a,h,null,f);var I=a.memoizedState;if(h=I.element,Fe&&S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:I.cache,transitions:I.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){m=Error(s(423)),a=km(l,a,h,f,m);break e}else if(h!==m){m=Error(s(424)),a=km(l,a,h,f,m);break e}else for(Fe&&(Tr=mn(a.stateNode.containerInfo),Cr=a,Kt=!0,ti=null,Pa=!1),f=bv(a,null,h,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(wl(),h===m){a=Ii(l,a,f);break e}rr(l,a,h,f)}a=a.child}return a;case 5:return Vv(a),l===null&&If(a),h=a.type,m=a.pendingProps,S=l!==null?l.memoizedProps:null,I=m.children,J(h,m)?I=null:S!==null&&J(h,S)&&(a.flags|=32),_m(l,a),rr(l,a,I,f),a.child;case 6:return l===null&&If(a),null;case 13:return Cm(l,a,f);case 4:return Ff(a,a.stateNode.containerInfo),h=a.pendingProps,l===null?a.child=Sl(a,null,h,f):rr(l,a,h,f),a.child;case 11:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:tr(h,m),gm(l,a,h,m,f);case 7:return rr(l,a,a.pendingProps,f),a.child;case 8:return rr(l,a,a.pendingProps.children,f),a.child;case 12:return rr(l,a,a.pendingProps.children,f),a.child;case 10:e:{if(h=a.type._context,m=a.pendingProps,S=a.memoizedProps,I=m.value,tu(a,h,I),S!==null)if(xr(S.value,I)){if(S.children===m.children&&!ft.current){a=Ii(l,a,f);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var Y=S.dependencies;if(Y!==null){I=S.child;for(var ce=Y.firstContext;ce!==null;){if(ce.context===h){if(S.tag===1){ce=Di(-1,f&-f),ce.tag=2;var _e=S.updateQueue;if(_e!==null){_e=_e.shared;var Ge=_e.pending;Ge===null?ce.next=ce:(ce.next=Ge.next,Ge.next=ce),_e.pending=ce}}S.lanes|=f,ce=S.alternate,ce!==null&&(ce.lanes|=f),nr(S.return,f,a),Y.lanes|=f;break}ce=ce.next}}else if(S.tag===10)I=S.type===a.type?null:S.child;else if(S.tag===18){if(I=S.return,I===null)throw Error(s(341));I.lanes|=f,Y=I.alternate,Y!==null&&(Y.lanes|=f),nr(I,f,a),I=S.sibling}else I=S.child;if(I!==null)I.return=S;else for(I=S;I!==null;){if(I===a){I=null;break}if(S=I.sibling,S!==null){S.return=I.return,I=S;break}I=I.return}S=I}rr(l,a,m.children,f),a=a.child}return a;case 9:return m=a.type,h=a.pendingProps.children,dn(a,f),m=pn(m),h=h(m),a.flags|=1,rr(l,a,h,f),a.child;case 14:return h=a.type,m=tr(h,a.pendingProps),m=tr(h.type,m),ym(l,a,h,m,f);case 15:return wm(l,a,a.type,a.pendingProps,f);case 17:return h=a.type,m=a.pendingProps,m=a.elementType===h?m:tr(h,m),l!==null&&(l.alternate=null,a.alternate=null,a.flags|=2),a.tag=1,Xt(h)?(l=!0,Rt(a)):l=!1,dn(a,f),Fv(a,h,m),Df(a,h,m,f),Zf(null,a,h,!0,l,f);case 19:return Um(l,a,f);case 22:return Sm(l,a,f)}throw Error(s(156,a.tag))};function $m(l,a){return Ui(l,a)}function mS(l,a,f,h){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(l,a,f,h){return new mS(l,a,f,h)}function gd(l){return l=l.prototype,!(!l||!l.isReactComponent)}function gS(l){if(typeof l=="function")return gd(l)?1:0;if(l!=null){if(l=l.$$typeof,l===C)return 11;if(l===w)return 14}return 2}function eo(l,a){var f=l.alternate;return f===null?(f=Gr(l.tag,a,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=a,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&14680064,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,a=l.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function zu(l,a,f,h,m,S){var I=2;if(h=l,typeof l=="function")gd(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case p:return Wo(f.children,m,S,a);case v:I=8,m|=8;break;case g:return l=Gr(12,f,a,m|2),l.elementType=g,l.lanes=S,l;case T:return l=Gr(13,f,a,m),l.elementType=T,l.lanes=S,l;case _:return l=Gr(19,f,a,m),l.elementType=_,l.lanes=S,l;case M:return Bu(f,m,S,a);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case y:I=10;break e;case x:I=9;break e;case C:I=11;break e;case w:I=14;break e;case E:I=16,h=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return a=Gr(I,f,a,m),a.elementType=l,a.type=h,a.lanes=S,a}function Wo(l,a,f,h){return l=Gr(7,l,h,a),l.lanes=f,l}function Bu(l,a,f,h){return l=Gr(22,l,h,a),l.elementType=M,l.lanes=f,l.stateNode={},l}function yd(l,a,f){return l=Gr(6,l,null,a),l.lanes=f,l}function wd(l,a,f){return a=Gr(4,l.children!==null?l.children:[],l.key,a),a.lanes=f,a.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},a}function yS(l,a,f,h,m){this.tag=a,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=h,this.onRecoverableError=m,Fe&&(this.mutableSourceEagerHydrationData=null)}function e0(l,a,f,h,m,S,I,Y,ce){return l=new yS(l,a,f,Y,ce),a===1?(a=1,S===!0&&(a|=8)):a=0,S=Gr(3,null,null,a),l.current=S,S.stateNode=l,S.memoizedState={element:h,isDehydrated:f,cache:null,transitions:null},Pf(S),l}function t0(l){if(!l)return mt;l=l._reactInternals;e:{if(N(l)!==l||l.tag!==1)throw Error(s(170));var a=l;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Xt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(l.tag===1){var f=l.type;if(Xt(f))return $t(l,f,a)}return a}function n0(l){var a=l._reactInternals;if(a===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=z(a),l===null?null:l.stateNode}function r0(l,a){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<a?f:a}}function Sd(l,a){r0(l,a),(l=l.alternate)&&r0(l,a)}function wS(l){return l=z(l),l===null?null:l.stateNode}function SS(){return null}return n.attemptContinuousHydration=function(l){if(l.tag===13){var a=ir();jr(l,134217728,a),Sd(l,134217728)}},n.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var a=ir(),f=qi(l);jr(l,f,a),Sd(l,f)}},n.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var a=l.stateNode;if(a.current.memoizedState.isDehydrated){var f=Mi(a.pendingLanes);f!==0&&(fi(a,f|1),pr(a,en()),!(yt&6)&&(Tl(),fr()))}break;case 13:var h=ir();Vm(function(){return jr(l,1,h)}),Sd(l,1)}},n.batchedUpdates=function(l,a){var f=yt;yt|=1;try{return l(a)}finally{yt=f,yt===0&&(Tl(),di&&fr())}},n.createComponentSelector=function(l){return{$$typeof:ku,value:l}},n.createContainer=function(l,a,f,h,m,S,I){return e0(l,a,!1,null,f,h,m,S,I)},n.createHasPseudoClassSelector=function(l){return{$$typeof:Cu,value:l}},n.createHydrationContainer=function(l,a,f,h,m,S,I,Y,ce){return l=e0(f,h,!0,l,m,S,I,Y,ce),l.context=t0(null),f=l.current,h=ir(),m=qi(f),S=Di(h,m),S.callback=a??null,Zi(f,S),l.current.lanes=m,ci(l,m,h),pr(l,h),l},n.createPortal=function(l,a,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:h==null?null:""+h,children:l,containerInfo:a,implementation:f}},n.createRoleSelector=function(l){return{$$typeof:Tu,value:l}},n.createTestNameSelector=function(l){return{$$typeof:Mu,value:l}},n.createTextSelector=function(l){return{$$typeof:Pu,value:l}},n.deferredUpdates=function(l){var a=xt,f=hn.transition;try{return hn.transition=null,xt=16,l()}finally{xt=a,hn.transition=f}},n.discreteUpdates=function(l,a,f,h,m){var S=xt,I=hn.transition;try{return hn.transition=null,xt=1,l(a,f,h,m)}finally{xt=S,hn.transition=I,yt===0&&Tl()}},n.findAllNodes=ld,n.findBoundingRects=function(l,a){if(!Le)throw Error(s(363));a=ld(l,a),l=[];for(var f=0;f<a.length;f++)l.push(tt(a[f]));for(a=l.length-1;0<a;a--){f=l[a];for(var h=f.x,m=h+f.width,S=f.y,I=S+f.height,Y=a-1;0<=Y;Y--)if(a!==Y){var ce=l[Y],_e=ce.x,Ge=_e+ce.width,pt=ce.y,$e=pt+ce.height;if(h>=_e&&S>=pt&&m<=Ge&&I<=$e){l.splice(a,1);break}else if(h!==_e||f.width!==ce.width||$e<S||pt>I){if(!(S!==pt||f.height!==ce.height||Ge<h||_e>m)){_e>h&&(ce.width+=_e-h,ce.x=h),Ge<m&&(ce.width=m-_e),l.splice(a,1);break}}else{pt>S&&(ce.height+=pt-S,ce.y=S),$e<I&&(ce.height=I-pt),l.splice(a,1);break}}}return l},n.findHostInstance=n0,n.findHostInstanceWithNoPortals=function(l){return l=Q(l),l=l!==null?W(l):null,l===null?null:l.stateNode},n.findHostInstanceWithWarning=function(l){return n0(l)},n.flushControlled=function(l){var a=yt;yt|=1;var f=hn.transition,h=xt;try{hn.transition=null,xt=1,l()}finally{xt=h,hn.transition=f,yt=a,yt===0&&(Tl(),fr())}},n.flushPassiveEffects=Ho,n.flushSync=Vm,n.focusWithin=function(l,a){if(!Le)throw Error(s(363));for(l=rd(l),a=Hm(l,a),a=Array.from(a),l=0;l<a.length;){var f=a[l++];if(!Ie(f)){if(f.tag===5&&St(f.stateNode))return!0;for(f=f.child;f!==null;)a.push(f),f=f.sibling}}return!1},n.getCurrentUpdatePriority=function(){return xt},n.getFindAllNodesFailureDescription=function(l,a){if(!Le)throw Error(s(363));var f=0,h=[];l=[rd(l),0];for(var m=0;m<l.length;){var S=l[m++],I=l[m++],Y=a[I];if((S.tag!==5||!Ie(S))&&(id(S,Y)&&(h.push(od(Y)),I++,I>f&&(f=I)),I<a.length))for(S=S.child;S!==null;)l.push(S,I),S=S.sibling}if(f<a.length){for(l=[];f<a.length;f++)l.push(od(a[f]));return`findAllNodes was able to match part of the selector:
  `+(h.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},n.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return q(l.child.stateNode);default:return l.child.stateNode}},n.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:wS,findFiberByHostInstance:l.findFiberByHostInstance||SS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled||!a.supportsFiber)l=!0;else{try{Ro=a.inject(l),Er=a}catch{}l=!!a.checkDCE}}return l},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(l,a,f,h){if(!Le)throw Error(s(363));l=ld(l,a);var m=Oe(l,f,h).disconnect;return{disconnect:function(){m()}}},n.registerMutableSourceForHydration=function(l,a){var f=a._getVersion;f=f(a._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[a,f]:l.mutableSourceEagerHydrationData.push(a,f)},n.runWithPriority=function(l,a){var f=xt;try{return xt=l,a()}finally{xt=f}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(l,a,f,h){var m=a.current,S=ir(),I=qi(m);return f=t0(f),a.context===null?a.context=f:a.pendingContext=f,a=Di(S,I),a.payload={element:l},h=h===void 0?null:h,h!==null&&(a.callback=h),Zi(m,a),l=jr(m,I,S),l!==null&&nu(l,m,I),I},n};H2.exports=Ox;var Fx=H2.exports;const Nx=lf(Fx),mv={},V2=t=>void Object.assign(mv,t);function zx(t,e){function n(p,{args:v=[],attach:g,...y},x){let C=`${p[0].toUpperCase()}${p.slice(1)}`,T;if(p==="primitive"){if(y.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=y.object;T=Al(_,{type:p,root:x,attach:g,primitive:!0})}else{const _=mv[C];if(!_)throw new Error(`R3F: ${C} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(v))throw new Error("R3F: The args prop must be an array!");T=Al(new _(...v),{type:p,root:x,attach:g,memoizedProps:{args:v}})}return T.__r3f.attach===void 0&&(T.isBufferGeometry?T.__r3f.attach="geometry":T.isMaterial&&(T.__r3f.attach="material")),C!=="inject"&&Jd(T,y),T}function r(p,v){let g=!1;if(v){var y,x;(y=v.__r3f)!=null&&y.attach?Kd(p,v,v.__r3f.attach):v.isObject3D&&p.isObject3D&&(p.add(v),g=!0),g||(x=p.__r3f)==null||x.objects.push(v),v.__r3f||Al(v,{}),v.__r3f.parent=p,ch(v),Il(v)}}function i(p,v,g){let y=!1;if(v){var x,C;if((x=v.__r3f)!=null&&x.attach)Kd(p,v,v.__r3f.attach);else if(v.isObject3D&&p.isObject3D){v.parent=p,v.dispatchEvent({type:"added"}),p.dispatchEvent({type:"childadded",child:v});const T=p.children.filter(w=>w!==v),_=T.indexOf(g);p.children=[...T.slice(0,_),v,...T.slice(_)],y=!0}y||(C=p.__r3f)==null||C.objects.push(v),v.__r3f||Al(v,{}),v.__r3f.parent=p,ch(v),Il(v)}}function o(p,v,g=!1){p&&[...p].forEach(y=>s(v,y,g))}function s(p,v,g){if(v){var y,x,C;if(v.__r3f&&(v.__r3f.parent=null),(y=p.__r3f)!=null&&y.objects&&(p.__r3f.objects=p.__r3f.objects.filter(M=>M!==v)),(x=v.__r3f)!=null&&x.attach)k1(p,v,v.__r3f.attach);else if(v.isObject3D&&p.isObject3D){var T;p.remove(v),(T=v.__r3f)!=null&&T.root&&Qx(Mc(v),v)}const w=(C=v.__r3f)==null?void 0:C.primitive,E=!w&&(g===void 0?v.dispose!==null:g);if(!w){var _;o((_=v.__r3f)==null?void 0:_.objects,v,E),o(v.children,v,E)}if(delete v.__r3f,E&&v.dispose&&v.type!=="Scene"){const M=()=>{try{v.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?sh.unstable_scheduleCallback(sh.unstable_IdlePriority,M):M()}Il(p)}}function u(p,v,g,y){var x;const C=(x=p.__r3f)==null?void 0:x.parent;if(!C)return;const T=n(v,g,p.__r3f.root);if(p.children){for(const _ of p.children)_.__r3f&&r(T,_);p.children=p.children.filter(_=>!_.__r3f)}p.__r3f.objects.forEach(_=>r(T,_)),p.__r3f.objects=[],p.__r3f.autoRemovedBeforeAppend||s(C,p),T.parent&&(T.__r3f.autoRemovedBeforeAppend=!0),r(C,T),T.raycast&&T.__r3f.eventCount&&Mc(T).getState().internal.interaction.push(T),[y,y.alternate].forEach(_=>{_!==null&&(_.stateNode=T,_.ref&&(typeof _.ref=="function"?_.ref(T):_.ref.current=T))})}const c=()=>{};return{reconciler:Nx({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(p,v)=>{if(!v)return;const g=p.getState().scene;g.__r3f&&(g.__r3f.root=p,r(g,v))},removeChildFromContainer:(p,v)=>{v&&s(p.getState().scene,v)},insertInContainerBefore:(p,v,g)=>{if(!v||!g)return;const y=p.getState().scene;y.__r3f&&i(y,v,g)},getRootHostContext:()=>null,getChildHostContext:p=>p,finalizeInitialChildren(p){var v;return!!((v=p==null?void 0:p.__r3f)!=null?v:{}).handlers},prepareUpdate(p,v,g,y){var x;if(((x=p==null?void 0:p.__r3f)!=null?x:{}).primitive&&y.object&&y.object!==p)return[!0];{const{args:T=[],children:_,...w}=y,{args:E=[],children:M,...R}=g;if(!Array.isArray(T))throw new Error("R3F: the args prop must be an array!");if(T.some((A,U)=>A!==E[U]))return[!0];const D=q2(p,w,R,!0);return D.changes.length?[!1,D]:null}},commitUpdate(p,[v,g],y,x,C,T){v?u(p,y,C,T):Jd(p,g)},commitMount(p,v,g,y){var x;const C=(x=p.__r3f)!=null?x:{};p.raycast&&C.handlers&&C.eventCount&&Mc(p).getState().internal.interaction.push(p)},getPublicInstance:p=>p,prepareForCommit:()=>null,preparePortalMount:p=>Al(p.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(p){var v;const{attach:g,parent:y}=(v=p.__r3f)!=null?v:{};g&&y&&k1(y,p,g),p.isObject3D&&(p.visible=!1),Il(p)},unhideInstance(p,v){var g;const{attach:y,parent:x}=(g=p.__r3f)!=null?g:{};y&&x&&Kd(x,p,y),(p.isObject3D&&v.visible==null||v.visible)&&(p.visible=!0),Il(p)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():Kl.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Ht.fun(performance.now)?performance.now:Ht.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Ht.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ht.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Jd}}var S1,_1;const Zd=t=>"colorSpace"in t||"outputColorSpace"in t,Q2=()=>{var t;return(t=mv.ColorManagement)!=null?t:null},Y2=t=>t&&t.isOrthographicCamera,Bx=t=>t&&t.hasOwnProperty("current"),Qs=typeof window<"u"&&((S1=window.document)!=null&&S1.createElement||((_1=window.navigator)==null?void 0:_1.product)==="ReactNative")?K.useLayoutEffect:K.useEffect;function X2(t){const e=K.useRef(t);return Qs(()=>void(e.current=t),[t]),e}function jx({set:t}){return Qs(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Z2 extends K.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Z2.getDerivedStateFromError=()=>({error:!0});const K2="__default",E1=new Map,Gx=t=>t&&!!t.memoized&&!!t.changes;function J2(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const $a=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Mc(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Ht={obj:t=>t===Object(t)&&!Ht.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Ht.str(t)||Ht.num(t)||Ht.boo(t))return t===e;const o=Ht.obj(t);if(o&&r==="reference")return t===e;const s=Ht.arr(t);if(s&&n==="reference")return t===e;if((s||o)&&t===e)return!0;let u;for(u in t)if(!(u in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(u in i?e:t)if(!Ht.equ(t[u],e[u],{strict:i,objects:"reference"}))return!1}else for(u in i?e:t)if(t[u]!==e[u])return!1;if(Ht.und(u)){if(s&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Hx(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Wx(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Al(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function uh(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,s)=>o[s],t),{target:n,key:i}}else return{target:n,key:e}}const x1=/-\d+$/;function Kd(t,e,n){if(Ht.str(n)){if(x1.test(n)){const o=n.replace(x1,""),{target:s,key:u}=uh(t,o);Array.isArray(s[u])||(s[u]=[])}const{target:r,key:i}=uh(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function k1(t,e,n){var r,i;if(Ht.str(n)){const{target:o,key:s}=uh(t,n),u=e.__r3f.previousAttach;u===void 0?delete o[s]:o[s]=u}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function q2(t,{children:e,key:n,ref:r,...i},{children:o,key:s,ref:u,...c}={},d=!1){const p=t.__r3f,v=Object.entries(i),g=[];if(d){const x=Object.keys(c);for(let C=0;C<x.length;C++)i.hasOwnProperty(x[C])||v.unshift([x[C],K2+"remove"])}v.forEach(([x,C])=>{var T;if((T=t.__r3f)!=null&&T.primitive&&x==="object"||Ht.equ(C,c[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return g.push([x,C,!0,[]]);let _=[];x.includes("-")&&(_=x.split("-")),g.push([x,C,!1,_]);for(const w in i){const E=i[w];w.startsWith(`${x}-`)&&g.push([w,E,!1,w.split("-")])}});const y={...i};return p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.args&&(y.args=p.memoizedProps.args),p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.attach&&(y.attach=p.memoizedProps.attach),{memoized:y,changes:g}}const bx=typeof process<"u"&&!1;function Jd(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:s,changes:u}=Gx(e)?e:q2(t,e),c=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=s);for(let g=0;g<u.length;g++){let[y,x,C,T]=u[g];if(Zd(t)){const M="srgb",R="srgb-linear";y==="encoding"?(y="colorSpace",x=x===3001?M:R):y==="outputEncoding"&&(y="outputColorSpace",x=x===3001?M:R)}let _=t,w=_[y];if(T.length&&(w=T.reduce((E,M)=>E[M],t),!(w&&w.set))){const[E,...M]=T.reverse();_=M.reverse().reduce((R,D)=>R[D],t),y=E}if(x===K2+"remove")if(_.constructor){let E=E1.get(_.constructor);E||(E=new _.constructor,E1.set(_.constructor,E)),x=E[y]}else x=0;if(C&&r)x?r.handlers[y]=x:delete r.handlers[y],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof _d)){if(Array.isArray(x))w.fromArray?w.fromArray(x):w.set(...x);else if(w.copy&&x&&x.constructor&&(bx?w.constructor.name===x.constructor.name:w.constructor===x.constructor))w.copy(x);else if(x!==void 0){var d;const E=(d=w)==null?void 0:d.isColor;!E&&w.setScalar?w.setScalar(x):w instanceof _d&&x instanceof _d?w.mask=x.mask:w.set(x),!Q2()&&o&&!o.linear&&E&&w.convertSRGBToLinear()}}else{var p;if(_[y]=x,(p=_[y])!=null&&p.isTexture&&_[y].format===oa&&_[y].type===Rc&&o){const E=_[y];Zd(E)&&Zd(o.gl)?E.colorSpace=o.gl.outputColorSpace:E.encoding=o.gl.outputEncoding}}Il(t)}if(r&&r.parent&&t.raycast&&c!==r.eventCount){const g=Mc(t).getState().internal,y=g.interaction.indexOf(t);y>-1&&g.interaction.splice(y,1),r.eventCount&&g.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(n=t.__r3f)!=null&&n.parent&&ch(t),t}function Il(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function ch(t){t.onUpdate==null||t.onUpdate(t)}function $2(t,e){t.manual||(Y2(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function rc(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Vx(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Kl.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Kl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Kl.ContinuousEventPriority;default:return Kl.DefaultEventPriority}}function ew(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Qx(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{ew(n.capturedMap,e,r,i)})}function Yx(t){function e(c){const{internal:d}=t.getState(),p=c.offsetX-d.initialClick[0],v=c.offsetY-d.initialClick[1];return Math.round(Math.sqrt(p*p+v*v))}function n(c){return c.filter(d=>["Move","Over","Enter","Out","Leave"].some(p=>{var v;return(v=d.__r3f)==null?void 0:v.handlers["onPointer"+p]}))}function r(c,d){const p=t.getState(),v=new Set,g=[],y=d?d(p.internal.interaction):p.internal.interaction;for(let _=0;_<y.length;_++){const w=$a(y[_]);w&&(w.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(c,p);function x(_){const w=$a(_);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var E;w.events.compute==null||w.events.compute(c,w,(E=w.previousRoot)==null?void 0:E.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(_,!0):[]}let C=y.flatMap(x).sort((_,w)=>{const E=$a(_.object),M=$a(w.object);return!E||!M?_.distance-w.distance:M.events.priority-E.events.priority||_.distance-w.distance}).filter(_=>{const w=rc(_);return v.has(w)?!1:(v.add(w),!0)});p.events.filter&&(C=p.events.filter(C,p));for(const _ of C){let w=_.object;for(;w;){var T;(T=w.__r3f)!=null&&T.eventCount&&g.push({..._,eventObject:w}),w=w.parent}}if("pointerId"in c&&p.internal.capturedMap.has(c.pointerId))for(let _ of p.internal.capturedMap.get(c.pointerId).values())v.has(rc(_.intersection))||g.push(_.intersection);return g}function i(c,d,p,v){const g=t.getState();if(c.length){const y={stopped:!1};for(const x of c){const C=$a(x.object)||g,{raycaster:T,pointer:_,camera:w,internal:E}=C,M=new wt(_.x,_.y,0).unproject(w),R=F=>{var Q,z;return(Q=(z=E.capturedMap.get(F))==null?void 0:z.has(x.eventObject))!=null?Q:!1},D=F=>{const Q={intersection:x,target:d.target};E.capturedMap.has(F)?E.capturedMap.get(F).set(x.eventObject,Q):E.capturedMap.set(F,new Map([[x.eventObject,Q]])),d.target.setPointerCapture(F)},A=F=>{const Q=E.capturedMap.get(F);Q&&ew(E.capturedMap,x.eventObject,Q,F)};let U={};for(let F in d){let Q=d[F];typeof Q!="function"&&(U[F]=Q)}let N={...x,...U,pointer:_,intersections:c,stopped:y.stopped,delta:p,unprojectedPoint:M,ray:T.ray,camera:w,stopPropagation(){const F="pointerId"in d&&E.capturedMap.get(d.pointerId);if((!F||F.has(x.eventObject))&&(N.stopped=y.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(Q=>Q.eventObject===x.eventObject))){const Q=c.slice(0,c.indexOf(x));o([...Q,x])}},target:{hasPointerCapture:R,setPointerCapture:D,releasePointerCapture:A},currentTarget:{hasPointerCapture:R,setPointerCapture:D,releasePointerCapture:A},nativeEvent:d};if(v(N),y.stopped===!0)break}}return c}function o(c){const{internal:d}=t.getState();for(const p of d.hovered.values())if(!c.length||!c.find(v=>v.object===p.object&&v.index===p.index&&v.instanceId===p.instanceId)){const g=p.eventObject.__r3f,y=g==null?void 0:g.handlers;if(d.hovered.delete(rc(p)),g!=null&&g.eventCount){const x={...p,intersections:c};y.onPointerOut==null||y.onPointerOut(x),y.onPointerLeave==null||y.onPointerLeave(x)}}}function s(c,d){for(let p=0;p<d.length;p++){const v=d[p].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(c)}}function u(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return d=>{const{internal:p}=t.getState();"pointerId"in d&&p.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(d.pointerId)&&(p.capturedMap.delete(d.pointerId),o([]))})}}return function(p){const{onPointerMissed:v,internal:g}=t.getState();g.lastEvent.current=p;const y=c==="onPointerMove",x=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",T=r(p,y?n:void 0),_=x?e(p):0;c==="onPointerDown"&&(g.initialClick=[p.offsetX,p.offsetY],g.initialHits=T.map(E=>E.eventObject)),x&&!T.length&&_<=2&&(s(p,g.interaction),v&&v(p)),y&&o(T);function w(E){const M=E.eventObject,R=M.__r3f,D=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(y){if(D.onPointerOver||D.onPointerEnter||D.onPointerOut||D.onPointerLeave){const A=rc(E),U=g.hovered.get(A);U?U.stopped&&E.stopPropagation():(g.hovered.set(A,E),D.onPointerOver==null||D.onPointerOver(E),D.onPointerEnter==null||D.onPointerEnter(E))}D.onPointerMove==null||D.onPointerMove(E)}else{const A=D[c];A?(!x||g.initialHits.includes(M))&&(s(p,g.interaction.filter(U=>!g.initialHits.includes(U))),A(E)):x&&g.initialHits.includes(M)&&s(p,g.interaction.filter(U=>!g.initialHits.includes(U)))}}i(T,p,_,w)}}return{handlePointer:u}}const Xx=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],tw=t=>!!(t!=null&&t.render),gv=K.createContext(null),Zx=(t,e)=>{const n=z2((u,c)=>{const d=new wt,p=new wt,v=new wt;function g(_=c().camera,w=p,E=c().size){const{width:M,height:R,top:D,left:A}=E,U=M/R;w.isVector3?v.copy(w):v.set(...w);const N=_.getWorldPosition(d).distanceTo(v);if(Y2(_))return{width:M/_.zoom,height:R/_.zoom,top:D,left:A,factor:1,distance:N,aspect:U};{const F=_.fov*Math.PI/180,Q=2*Math.tan(F/2)*N,z=Q*(M/R);return{width:z,height:Q,top:D,left:A,factor:M/z,distance:N,aspect:U}}}let y;const x=_=>u(w=>({performance:{...w.performance,current:_}})),C=new wn;return{set:u,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(c(),_),advance:(_,w)=>e(_,w,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new PS,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=c();y&&clearTimeout(y),_.performance.current!==_.performance.min&&x(_.performance.min),y=setTimeout(()=>x(c().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:_=>u(w=>({...w,events:{...w.events,..._}})),setSize:(_,w,E,M,R)=>{const D=c().camera,A={width:_,height:w,top:M||0,left:R||0,updateStyle:E};u(U=>({size:A,viewport:{...U.viewport,...g(D,p,A)}}))},setDpr:_=>u(w=>{const E=J2(_);return{viewport:{...w.viewport,dpr:E,initialDpr:w.viewport.initialDpr||E}}}),setFrameloop:(_="always")=>{const w=c().clock;w.stop(),w.elapsedTime=0,_!=="never"&&(w.start(),w.elapsedTime=0),u(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:K.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,w,E)=>{const M=c().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:_,priority:w,store:E}),M.subscribers=M.subscribers.sort((R,D)=>R.priority-D.priority),()=>{const R=c().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(w>0?1:0),R.subscribers=R.subscribers.filter(D=>D.ref!==_))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:u,size:c,viewport:d,gl:p,set:v}=n.getState();if(c.width!==i.width||c.height!==i.height||d.dpr!==o){var g;i=c,o=d.dpr,$2(u,c),p.setPixelRatio(d.dpr);const y=(g=c.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(c.width,c.height,y)}u!==s&&(s=u,v(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(u)}})))}),n.subscribe(u=>t(u)),n};let ic,Kx=new Set,Jx=new Set,qx=new Set;function qd(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function es(t,e){switch(t){case"before":return qd(Kx,e);case"after":return qd(Jx,e);case"tail":return qd(qx,e)}}let $d,ep;function tp(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),$d=e.internal.subscribers,ic=0;ic<$d.length;ic++)ep=$d[ic],ep.ref.current(ep.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function $x(t){let e=!1,n=!1,r,i,o;function s(d){i=requestAnimationFrame(s),e=!0,r=0,es("before",d),n=!0;for(const v of t.values()){var p;o=v.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((p=o.gl.xr)!=null&&p.isPresenting)&&(r+=tp(d,o))}if(n=!1,es("after",d),r===0)return es("tail",d),e=!1,cancelAnimationFrame(i)}function u(d,p=1){var v;if(!d)return t.forEach(g=>u(g.store.getState(),p));(v=d.gl.xr)!=null&&v.isPresenting||!d.internal.active||d.frameloop==="never"||(p>1?d.internal.frames=Math.min(60,d.internal.frames+p):n?d.internal.frames=2:d.internal.frames=1,e||(e=!0,requestAnimationFrame(s)))}function c(d,p=!0,v,g){if(p&&es("before",d),v)tp(d,v,g);else for(const y of t.values())tp(d,y.store.getState());p&&es("after",d)}return{loop:s,invalidate:u,advance:c}}function yv(){const t=K.useContext(gv);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function kn(t=n=>n,e){return yv()(t,e)}function wa(t,e=0){const n=yv(),r=n.getState().internal.subscribe,i=X2(t);return Qs(()=>r(i,e,n),[e,r,n]),null}const C1=new WeakMap;function nw(t,e){return function(n,...r){let i=C1.get(n);return i||(i=new n,C1.set(n,i)),t&&t(i),Promise.all(r.map(o=>new Promise((s,u)=>i.load(o,c=>{c.scene&&Object.assign(c,Hx(c.scene)),s(c)},e,c=>u(new Error(`Could not load ${o}: ${c==null?void 0:c.message}`))))))}}function pa(t,e,n,r){const i=Array.isArray(e)?e:[e],o=G2(nw(n,r),[t,...i],{equal:Ht.equ});return Array.isArray(e)?o:o[0]}pa.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return Ax(nw(n),[t,...r])};pa.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Ix([t,...n])};const ha=new Map,{invalidate:T1,advance:M1}=$x(ha),{reconciler:zs,applyProps:lo}=zx(ha,Vx),Dl={objects:"shallow",strict:!1},e3=(t,e)=>{const n=typeof t=="function"?t(e):t;return tw(n)?n:new mg({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function t3(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:s,updateStyle:u=n}=e;return{width:r,height:i,top:o,left:s,updateStyle:u}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:s}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:s,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function n3(t){const e=ha.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||Zx(T1,M1),s=n||zs.createContainer(o,Kl.ConcurrentRoot,null,!1,null,"",i,null);e||ha.set(t,{fiber:s,store:o});let u,c=!1,d;return{configure(p={}){let{gl:v,size:g,scene:y,events:x,onCreated:C,shadows:T=!1,linear:_=!1,flat:w=!1,legacy:E=!1,orthographic:M=!1,frameloop:R="always",dpr:D=[1,2],performance:A,raycaster:U,camera:N,onPointerMissed:F}=p,Q=o.getState(),z=Q.gl;Q.gl||Q.set({gl:z=e3(v,t)});let X=Q.raycaster;X||Q.set({raycaster:X=new vg});const{params:W,...re}=U||{};if(Ht.equ(re,X,Dl)||lo(X,{...re}),Ht.equ(W,X.params,Dl)||lo(X,{params:{...X.params,...W}}),!Q.camera||Q.camera===d&&!Ht.equ(d,N,Dl)){d=N;const O=N instanceof kS,L=O?N:M?new qo(0,0,0,0,.1,1e3):new Jl(75,0,.1,1e3);O||(L.position.z=5,N&&(lo(L,N),("aspect"in N||"left"in N||"right"in N||"bottom"in N||"top"in N)&&(L.manual=!0,L.updateProjectionMatrix())),!Q.camera&&!(N!=null&&N.rotation)&&L.lookAt(0,0,0)),Q.set({camera:L}),X.camera=L}if(!Q.scene){let O;y!=null&&y.isScene?O=y:(O=new wh,y&&lo(O,y)),Q.set({scene:Al(O)})}if(!Q.xr){var q;const O=(V,$)=>{const J=o.getState();J.frameloop!=="never"&&M1(V,!0,J,$)},L=()=>{const V=o.getState();V.gl.xr.enabled=V.gl.xr.isPresenting,V.gl.xr.setAnimationLoop(V.gl.xr.isPresenting?O:null),V.gl.xr.isPresenting||T1(V)},B={connect(){const V=o.getState().gl;V.xr.addEventListener("sessionstart",L),V.xr.addEventListener("sessionend",L)},disconnect(){const V=o.getState().gl;V.xr.removeEventListener("sessionstart",L),V.xr.removeEventListener("sessionend",L)}};typeof((q=z.xr)==null?void 0:q.addEventListener)=="function"&&B.connect(),Q.set({xr:B})}if(z.shadowMap){const O=z.shadowMap.enabled,L=z.shadowMap.type;if(z.shadowMap.enabled=!!T,Ht.boo(T))z.shadowMap.type=Ed;else if(Ht.str(T)){var me;const B={basic:CS,percentage:TS,soft:Ed,variance:MS};z.shadowMap.type=(me=B[T])!=null?me:Ed}else Ht.obj(T)&&Object.assign(z.shadowMap,T);(O!==z.shadowMap.enabled||L!==z.shadowMap.type)&&(z.shadowMap.needsUpdate=!0)}const j=Q2();j&&("enabled"in j?j.enabled=!E:"legacyMode"in j&&(j.legacyMode=E)),c||lo(z,{outputEncoding:_?3e3:3001,toneMapping:w?ES:xS}),Q.legacy!==E&&Q.set(()=>({legacy:E})),Q.linear!==_&&Q.set(()=>({linear:_})),Q.flat!==w&&Q.set(()=>({flat:w})),v&&!Ht.fun(v)&&!tw(v)&&!Ht.equ(v,z,Dl)&&lo(z,v),x&&!Q.events.handlers&&Q.set({events:x(o)});const G=t3(t,g);return Ht.equ(G,Q.size,Dl)||Q.setSize(G.width,G.height,G.updateStyle,G.top,G.left),D&&Q.viewport.dpr!==J2(D)&&Q.setDpr(D),Q.frameloop!==R&&Q.setFrameloop(R),Q.onPointerMissed||Q.set({onPointerMissed:F}),A&&!Ht.equ(A,Q.performance,Dl)&&Q.set(O=>({performance:{...O.performance,...A}})),u=C,c=!0,this},render(p){return c||this.configure(),zs.updateContainer(lr.jsx(r3,{store:o,children:p,onCreated:u,rootElement:t}),s,null,()=>{}),o},unmount(){rw(t)}}}function r3({store:t,children:e,onCreated:n,rootElement:r}){return Qs(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),lr.jsx(gv.Provider,{value:t,children:e})}function rw(t,e){const n=ha.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),zs.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,u,c;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(u=i.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),Wx(i),ha.delete(t),e&&e(t)}catch{}},500)})}}function i3(t,e,n){return lr.jsx(o3,{children:t,container:e,state:n},e.uuid)}function o3({state:t={},children:e,container:n}){const{events:r,size:i,...o}=t,s=yv(),[u]=K.useState(()=>new vg),[c]=K.useState(()=>new wn),d=K.useCallback((v,g)=>{const y={...v};Object.keys(v).forEach(C=>{(Xx.includes(C)||v[C]!==g[C]&&g[C])&&delete y[C]});let x;if(g&&i){const C=g.camera;x=v.viewport.getCurrentViewport(C,new wt,i),C!==v.camera&&$2(C,i)}return{...y,scene:n,raycaster:u,pointer:c,mouse:c,previousRoot:s,events:{...v.events,...g==null?void 0:g.events,...r},size:{...v.size,...i},viewport:{...v.viewport,...x},...o}},[t]),[p]=K.useState(()=>{const v=s.getState();return z2((y,x)=>({...v,scene:n,raycaster:u,pointer:c,mouse:c,previousRoot:s,events:{...v.events,...r},size:{...v.size,...i},...o,set:y,get:x,setEvents:C=>y(T=>({...T,events:{...T.events,...C}}))}))});return K.useEffect(()=>{const v=s.subscribe(g=>p.setState(y=>d(g,y)));return()=>{v()}},[d]),K.useEffect(()=>{p.setState(v=>d(s.getState(),v))},[d]),K.useEffect(()=>()=>{p.destroy()},[]),lr.jsx(lr.Fragment,{children:zs.createPortal(lr.jsx(gv.Provider,{value:p,children:e}),p,null)})}zs.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:K.version});const np={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function l3(t){const{handlePointer:e}=Yx(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(np).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,u])=>{const[c,d]=np[s];n.addEventListener(c,u,{passive:d})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[u]=np[o];r.connected.removeEventListener(u,s)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}function P1(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function a3({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,s]=K.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=K.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),c=t?typeof t=="number"?t:t.scroll:null,d=t?typeof t=="number"?t:t.resize:null,p=K.useRef(!1);K.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[v,g,y]=K.useMemo(()=>{const _=()=>{if(!u.current.element)return;const{left:w,top:E,width:M,height:R,bottom:D,right:A,x:U,y:N}=u.current.element.getBoundingClientRect(),F={left:w,top:E,width:M,height:R,bottom:D,right:A,x:U,y:N};u.current.element instanceof HTMLElement&&r&&(F.height=u.current.element.offsetHeight,F.width=u.current.element.offsetWidth),Object.freeze(F),p.current&&!f3(u.current.lastBounds,F)&&s(u.current.lastBounds=F)};return[_,d?P1(_,d):_,c?P1(_,c):_]},[s,r,c,d]);function x(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function C(){u.current.element&&(u.current.resizeObserver=new i(y),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const T=_=>{!_||_===u.current.element||(x(),u.current.element=_,u.current.scrollContainers=iw(_),C())};return u3(y,!!e),s3(g),K.useEffect(()=>{x(),C()},[e,y,g]),K.useEffect(()=>x,[]),[T,o,v]}function s3(t){K.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function u3(t,e){K.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function iw(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...iw(t.parentElement)]}const c3=["x","y","top","bottom","left","right","width","height"],f3=(t,e)=>c3.every(n=>t[n]===e[n]);var d3=Object.defineProperty,p3=Object.defineProperties,h3=Object.getOwnPropertyDescriptors,U1=Object.getOwnPropertySymbols,v3=Object.prototype.hasOwnProperty,m3=Object.prototype.propertyIsEnumerable,D1=(t,e,n)=>e in t?d3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R1=(t,e)=>{for(var n in e||(e={}))v3.call(e,n)&&D1(t,n,e[n]);if(U1)for(var n of U1(e))m3.call(e,n)&&D1(t,n,e[n]);return t},g3=(t,e)=>p3(t,h3(e)),L1,A1;typeof window<"u"&&((L1=window.document)!=null&&L1.createElement||((A1=window.navigator)==null?void 0:A1.product)==="ReactNative")?K.useLayoutEffect:K.useEffect;function ow(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=ow(r,e,n);if(i)return i;r=e?null:r.sibling}}function lw(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const I1=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=I1;return}return I1.apply(this,arguments)};const wv=lw(K.createContext(null));class aw extends K.Component{render(){return K.createElement(wv.Provider,{value:this._reactInternals},this.props.children)}}function y3(){const t=K.useContext(wv);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=K.useId();return K.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=ow(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function w3(){const t=y3(),[e]=K.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==wv&&!e.has(i)&&e.set(i,K.useContext(lw(i)))}n=n.return}return e}function S3(){const t=w3();return K.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>K.createElement(e,null,K.createElement(n.Provider,g3(R1({},r),{value:t.get(n)}))),e=>K.createElement(aw,R1({},e))),[t])}const _3=K.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:s=l3,eventSource:u,eventPrefix:c,shadows:d,linear:p,flat:v,legacy:g,orthographic:y,frameloop:x,dpr:C,performance:T,raycaster:_,camera:w,scene:E,onPointerMissed:M,onCreated:R,...D},A){K.useMemo(()=>V2(US),[]);const U=S3(),[N,F]=a3({scroll:!0,debounce:{scroll:50,resize:0},...r}),Q=K.useRef(null),z=K.useRef(null);K.useImperativeHandle(A,()=>Q.current);const X=X2(M),[W,re]=K.useState(!1),[q,me]=K.useState(!1);if(W)throw W;if(q)throw q;const j=K.useRef(null);Qs(()=>{const O=Q.current;F.width>0&&F.height>0&&O&&(j.current||(j.current=n3(O)),j.current.configure({gl:o,events:s,shadows:d,linear:p,flat:v,legacy:g,orthographic:y,frameloop:x,dpr:C,performance:T,raycaster:_,camera:w,scene:E,size:F,onPointerMissed:(...L)=>X.current==null?void 0:X.current(...L),onCreated:L=>{L.events.connect==null||L.events.connect(u?Bx(u)?u.current:u:z.current),c&&L.setEvents({compute:(B,V)=>{const $=B[c+"X"],J=B[c+"Y"];V.pointer.set($/V.size.width*2-1,-(J/V.size.height)*2+1),V.raycaster.setFromCamera(V.pointer,V.camera)}}),R==null||R(L)}}),j.current.render(lr.jsx(U,{children:lr.jsx(Z2,{set:me,children:lr.jsx(K.Suspense,{fallback:lr.jsx(jx,{set:re}),children:e??null})})})))}),K.useEffect(()=>{const O=Q.current;if(O)return()=>rw(O)},[]);const G=u?"none":"auto";return lr.jsx("div",{ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...i},...D,children:lr.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:lr.jsx("canvas",{ref:Q,style:{display:"block"},children:n})})})}),xC=K.forwardRef(function(e,n){return lr.jsx(aw,{children:lr.jsx(_3,{...e,ref:n})})});function ki(){return ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ki.apply(null,arguments)}const Ys=new wt,Sv=new wt,E3=new wt,O1=new wn;function x3(t,e,n){const r=Ys.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,o=n.height/2;return[r.x*i+i,-(r.y*o)+o]}function k3(t,e){const n=Ys.setFromMatrixPosition(t.matrixWorld),r=Sv.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),o=e.getWorldDirection(E3);return i.angleTo(o)>Math.PI/2}function C3(t,e,n,r){const i=Ys.setFromMatrixPosition(t.matrixWorld),o=i.clone();o.project(e),O1.set(o.x,o.y),n.setFromCamera(O1,e);const s=n.intersectObjects(r,!0);if(s.length){const u=s[0].distance;return i.distanceTo(n.ray.origin)<u}return!0}function T3(t,e){if(e instanceof qo)return e.zoom;if(e instanceof Jl){const n=Ys.setFromMatrixPosition(t.matrixWorld),r=Sv.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,o=n.distanceTo(r);return 1/(2*Math.tan(i/2)*o)}else return 1}function M3(t,e,n){if(e instanceof Jl||e instanceof qo){const r=Ys.setFromMatrixPosition(t.matrixWorld),i=Sv.setFromMatrixPosition(e.matrixWorld),o=r.distanceTo(i),s=(n[1]-n[0])/(e.far-e.near),u=n[1]-s*e.far;return Math.round(s*o+u)}}const fh=t=>Math.abs(t)<1e-10?0:t;function sw(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=fh(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const P3=(t=>e=>sw(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),U3=(t=>(e,n)=>sw(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function D3(t){return t&&typeof t=="object"&&"current"in t}const kC=K.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:o,fullscreen:s,portal:u,distanceFactor:c,sprite:d=!1,transform:p=!1,occlude:v,onOcclude:g,castShadow:y,receiveShadow:x,material:C,geometry:T,zIndexRange:_=[16777271,0],calculatePosition:w=x3,as:E="div",wrapperClass:M,pointerEvents:R="auto",...D},A)=>{const{gl:U,camera:N,scene:F,size:Q,raycaster:z,events:X,viewport:W}=kn(),[re]=K.useState(()=>document.createElement(E)),q=K.useRef(),me=K.useRef(null),j=K.useRef(0),G=K.useRef([0,0]),O=K.useRef(null),L=K.useRef(null),B=(u==null?void 0:u.current)||X.connected||U.domElement.parentNode,V=K.useRef(null),$=K.useRef(!1),J=K.useMemo(()=>v&&v!=="blending"||Array.isArray(v)&&v.length&&D3(v[0]),[v]);K.useLayoutEffect(()=>{const Ce=U.domElement;v&&v==="blending"?(Ce.style.zIndex=`${Math.floor(_[0]/2)}`,Ce.style.position="absolute",Ce.style.pointerEvents="none"):(Ce.style.zIndex=null,Ce.style.position=null,Ce.style.pointerEvents=null)},[v]),K.useLayoutEffect(()=>{if(me.current){const Ce=q.current=F2(re);if(F.updateMatrixWorld(),p)re.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const fe=w(me.current,N,Q);re.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${fe[0]}px,${fe[1]}px,0);transform-origin:0 0;`}return B&&(i?B.prepend(re):B.appendChild(re)),()=>{B&&B.removeChild(re),Ce.unmount()}}},[B,p]),K.useLayoutEffect(()=>{M&&(re.className=M)},[M]);const ee=K.useMemo(()=>p?{position:"absolute",top:0,left:0,width:Q.width,height:Q.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none",...s&&{top:-Q.height/2,left:-Q.width/2,width:Q.width,height:Q.height},...n},[n,o,s,Q,p]),oe=K.useMemo(()=>({position:"absolute",pointerEvents:R}),[R]);K.useLayoutEffect(()=>{if($.current=!1,p){var Ce;(Ce=q.current)==null||Ce.render(K.createElement("div",{ref:O,style:ee},K.createElement("div",{ref:L,style:oe},K.createElement("div",{ref:A,className:r,style:n,children:t}))))}else{var fe;(fe=q.current)==null||fe.render(K.createElement("div",{ref:A,style:ee,className:r,children:t}))}});const de=K.useRef(!0);wa(Ce=>{if(me.current){N.updateMatrixWorld(),me.current.updateWorldMatrix(!0,!1);const fe=p?G.current:w(me.current,N,Q);if(p||Math.abs(j.current-N.zoom)>e||Math.abs(G.current[0]-fe[0])>e||Math.abs(G.current[1]-fe[1])>e){const he=k3(me.current,N);let Fe=!1;J&&(Array.isArray(v)?Fe=v.map(ze=>ze.current):v!=="blending"&&(Fe=[F]));const be=de.current;if(Fe){const ze=C3(me.current,N,z,Fe);de.current=ze&&!he}else de.current=!he;be!==de.current&&(g?g(!de.current):re.style.display=de.current?"block":"none");const Ue=Math.floor(_[0]/2),je=v?J?[_[0],Ue]:[Ue-1,0]:_;if(re.style.zIndex=`${M3(me.current,N,je)}`,p){const[ze,ye]=[Q.width/2,Q.height/2],Ne=N.projectionMatrix.elements[5]*ye,{isOrthographicCamera:Le,top:ve,left:tt,bottom:De,right:Ie}=N,Pe=P3(N.matrixWorldInverse),St=Le?`scale(${Ne})translate(${fh(-(Ie+tt)/2)}px,${fh((ve+De)/2)}px)`:`translateZ(${Ne}px)`;let Oe=me.current.matrixWorld;d&&(Oe=N.matrixWorldInverse.clone().transpose().copyPosition(Oe).scale(me.current.scale),Oe.elements[3]=Oe.elements[7]=Oe.elements[11]=0,Oe.elements[15]=1),re.style.width=Q.width+"px",re.style.height=Q.height+"px",re.style.perspective=Le?"":`${Ne}px`,O.current&&L.current&&(O.current.style.transform=`${St}${Pe}translate(${ze}px,${ye}px)`,L.current.style.transform=U3(Oe,1/((c||10)/400)))}else{const ze=c===void 0?1:T3(me.current,N)*c;re.style.transform=`translate3d(${fe[0]}px,${fe[1]}px,0) scale(${ze})`}G.current=fe,j.current=N.zoom}}if(!J&&V.current&&!$.current)if(p){if(O.current){const fe=O.current.children[0];if(fe!=null&&fe.clientWidth&&fe!=null&&fe.clientHeight){const{isOrthographicCamera:he}=N;if(he||T)D.scale&&(Array.isArray(D.scale)?D.scale instanceof wt?V.current.scale.copy(D.scale.clone().divideScalar(1)):V.current.scale.set(1/D.scale[0],1/D.scale[1],1/D.scale[2]):V.current.scale.setScalar(1/D.scale));else{const Fe=(c||10)/400,be=fe.clientWidth*Fe,Ue=fe.clientHeight*Fe;V.current.scale.set(be,Ue,1)}$.current=!0}}}else{const fe=re.children[0];if(fe!=null&&fe.clientWidth&&fe!=null&&fe.clientHeight){const he=1/W.factor,Fe=fe.clientWidth*he,be=fe.clientHeight*he;V.current.scale.set(Fe,be,1),$.current=!0}V.current.lookAt(Ce.camera.position)}});const Me=K.useMemo(()=>({vertexShader:p?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[p]);return K.createElement("group",ki({},D,{ref:me}),v&&!J&&K.createElement("mesh",{castShadow:y,receiveShadow:x,ref:V},T||K.createElement("planeGeometry",null),C||K.createElement("shaderMaterial",{side:Sh,vertexShader:Me.vertexShader,fragmentShader:Me.fragmentShader})))});function R3(t,e,n){return Math.max(e,Math.min(t,n))}const Zn={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function F1(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function N1(t,e,n,r=.15){return r===0?R3(t,e,n):t<e?-F1(e-t,n-e,r)+e:t>n?+F1(t-n,n-e,r)+n:t}function L3(t,[e,n],[r,i]){const[[o,s],[u,c]]=t;return[N1(e,o,s,r),N1(n,u,c,i)]}function A3(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I3(t){var e=A3(t,"string");return typeof e=="symbol"?e:String(e)}function vr(t,e,n){return e=I3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const uw={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function B1(t){return t?t[0].toUpperCase()+t.slice(1):""}const O3=["enter","leave"];function F3(t=!1,e){return t&&!O3.includes(e)}function N3(t,e="",n=!1){const r=uw[t],i=r&&r[e]||e;return"on"+B1(t)+B1(i)+(F3(n,i)?"Capture":"")}const z3=["gotpointercapture","lostpointercapture"];function B3(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=z3.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function j3(t,e=""){const n=uw[t],r=n&&n[e]||e;return t+r}function xf(t){return"touches"in t}function cw(t){return xf(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function G3(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function H3(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function fw(t){return xf(t)?H3(t)[0]:t}function W3(t){return G3(t).map(e=>e.identifier)}function rp(t){const e=fw(t);return xf(t)?e.identifier:e.pointerId}function j1(t){const e=fw(t);return[e.clientX,e.clientY]}function b3(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return e}function of(t,...e){return typeof t=="function"?t(...e):t}function V3(){}function Q3(...t){return t.length===0?V3:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function G1(t,e){return Object.assign({},e,t||{})}const Y3=32;class X3{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?of(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let o=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,b3(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,o=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const D=n._delta.map(Math.abs);Zn.addTo(n._distance,D)}this.axisIntent&&this.axisIntent(e);const[s,u]=n._movement,[c,d]=r.threshold,{_step:p,values:v}=n;if(r.hasCustomTransform?(p[0]===!1&&(p[0]=Math.abs(s)>=c&&v[0]),p[1]===!1&&(p[1]=Math.abs(u)>=d&&v[1])):(p[0]===!1&&(p[0]=Math.abs(s)>=c&&Math.sign(s)*c),p[1]===!1&&(p[1]=Math.abs(u)>=d&&Math.sign(u)*d)),n.intentional=p[0]!==!1||p[1]!==!1,!n.intentional)return;const g=[0,0];if(r.hasCustomTransform){const[D,A]=v;g[0]=p[0]!==!1?D-p[0]:0,g[1]=p[1]!==!1?A-p[1]:0}else g[0]=p[0]!==!1?s-p[0]:0,g[1]=p[1]!==!1?u-p[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(g);const y=n.offset,x=n._active&&!n._blocked||n.active;x&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=of(r.bounds,n)),this.setup&&this.setup()),n.movement=g,this.computeOffset()));const[C,T]=n.offset,[[_,w],[E,M]]=n._bounds;n.overflow=[C<_?-1:C>w?1:0,T<E?-1:T>M?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const R=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=L3(n._bounds,n.offset,R),n.delta=Zn.sub(n.offset,y),this.computeMovement(),x&&(!n.last||o>Y3)){n.delta=Zn.sub(n.offset,y);const D=n.delta.map(Math.abs);Zn.addTo(n.distance,D),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&o>0&&(n.velocity=[D[0]/o,D[1]/o],n.timeDelta=o)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(rn(rn(rn({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Z3([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class K3 extends X3{constructor(...e){super(...e),vr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Zn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Zn.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[cw(e)]:r.axisThreshold;n.axis=Z3(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const J3=t=>t,H1=.15,dw={enabled(t=!0){return t},eventOptions(t,e,n){return rn(rn({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[H1,H1];case!1:return[0,0];default:return Zn.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Zn.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||J3},threshold(t){return Zn.toVector(t,0)}},q3=0,Xs=rn(rn({},dw),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=q3){return t},bounds(t={}){if(typeof t=="function")return o=>Xs.bounds(t(o));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),W1={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class $3 extends K3{constructor(...e){super(...e),vr(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=Xs.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=rp(e),r._pointerActive=!0,this.computeValues(j1(e)),this.computeInitial(),n.preventScrollAxis&&cw(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=rp(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const o=j1(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Zn.sub(o,n._values),this.computeValues(o)),Zn.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=rp(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[o,s]=n._distance;if(n.tap=o<=r.tapsThreshold&&s<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[u,c]=n._delta,[d,p]=n._movement,[v,g]=r.swipe.velocity,[y,x]=r.swipe.distance,C=r.swipe.duration;if(n.elapsedTime<C){const T=Math.abs(u/n.timeDelta),_=Math.abs(c/n.timeDelta);T>v&&Math.abs(d)>y&&(n.swipe[0]=Math.sign(u)),_>g&&Math.abs(p)>x&&(n.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,ek(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=W1[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Zn.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in W1&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function ek(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const Zs=typeof window<"u"&&window.document&&window.document.createElement;function pw(){return Zs&&"ontouchstart"in window}function tk(){return pw()||Zs&&window.navigator.maxTouchPoints>1}function nk(){return Zs&&"onpointerdown"in window}function rk(){return Zs&&"exitPointerLock"in window.document}function ik(){try{return"constructor"in GestureEvent}catch{return!1}}const Vr={isBrowser:Zs,gesture:ik(),touch:pw(),touchscreen:tk(),pointer:nk(),pointerLock:rk()},ok=250,lk=180,ak=.5,sk=50,uk=250,ck=10,b1={mouse:0,touch:0,pen:8},fk=rn(rn({},Xs),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Vr.pointerLock,Vr.touch&&n?"touch":this.pointerLock?"mouse":Vr.pointer&&!i?"pointer":Vr.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?ok:void 0,!(!Vr.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const o=Zn.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,o},swipe({velocity:t=ak,distance:e=sk,duration:n=uk}={}){return{velocity:this.transform(Zn.toVector(t)),distance:this.transform(Zn.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return lk;case!1:return 0;default:return t}},axisThreshold(t){return t?rn(rn({},b1),t):b1},keyboardDisplacement(t=ck){return t}});rn(rn({},dw),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Vr.touch&&Vr.gesture)return"gesture";if(Vr.touch&&r)return"touch";if(Vr.touchscreen){if(Vr.pointer)return"pointer";if(Vr.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=s=>{const u=G1(of(n,s),{min:-1/0,max:1/0});return[u.min,u.max]},o=s=>{const u=G1(of(r,s),{min:-1/0,max:1/0});return[u.min,u.max]};return typeof n!="function"&&typeof r!="function"?[i(),o()]:s=>[i(s),o(s)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Zn.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});rn(rn({},Xs),{},{mouseOnly:(t=!0)=>t});rn(rn({},Xs),{},{mouseOnly:(t=!0)=>t});const hw=new Map,dh=new Map;function dk(t){hw.set(t.key,t.engine),dh.set(t.key,t.resolver)}const pk={key:"drag",engine:$3,resolver:fk};function hk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vk(t,e){if(t==null)return{};var n=hk(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const mk={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Vr.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},gk=["target","eventOptions","window","enabled","transform"];function Pc(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=Pc(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function yk(t,e,n={}){const r=t,{target:i,eventOptions:o,window:s,enabled:u,transform:c}=r,d=vk(r,gk);if(n.shared=Pc({target:i,eventOptions:o,window:s,enabled:u,transform:c},mk),e){const p=dh.get(e);n[e]=Pc(rn({shared:n.shared},d),p)}else for(const p in d){const v=dh.get(p);v&&(n[p]=Pc(rn({shared:n.shared},d[p]),v))}return n}class vw{constructor(e,n){vr(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,o){const s=this._listeners,u=j3(n,r),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=rn(rn({},c),o);e.addEventListener(u,i,d);const p=()=>{e.removeEventListener(u,i,d),s.delete(p)};return s.add(p),p}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class wk{constructor(){vr(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class Sk{constructor(e){vr(this,"gestures",new Set),vr(this,"_targetEventStore",new vw(this)),vr(this,"gestureEventStores",{}),vr(this,"gestureTimeoutStores",{}),vr(this,"handlers",{}),vr(this,"config",{}),vr(this,"pointerIds",new Set),vr(this,"touchIds",new Set),vr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),_k(this,e)}setEventIds(e){if(xf(e))return this.touchIds=new Set(W3(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=yk(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const s of this.gestures){const u=this.config[s],c=V1(r,u.eventOptions,!!i);if(u.enabled){const d=hw.get(s);new d(this,e,s).bind(c)}}const o=V1(r,n.eventOptions,!!i);for(const s in this.nativeHandlers)o(s,"",u=>this.nativeHandlers[s](rn(rn({},this.state.shared),{},{event:u,args:e})),void 0,!0)}for(const o in r)r[o]=Q3(...r[o]);if(!i)return r;for(const o in r){const{device:s,capture:u,passive:c}=B3(o);this._targetEventStore.add(i,s,"",r[o],{capture:u,passive:c})}}}}function Rl(t,e){t.gestures.add(e),t.gestureEventStores[e]=new vw(t,e),t.gestureTimeoutStores[e]=new wk}function _k(t,e){e.drag&&Rl(t,"drag"),e.wheel&&Rl(t,"wheel"),e.scroll&&Rl(t,"scroll"),e.move&&Rl(t,"move"),e.pinch&&Rl(t,"pinch"),e.hover&&Rl(t,"hover")}const V1=(t,e,n)=>(r,i,o,s={},u=!1)=>{var c,d;const p=(c=s.capture)!==null&&c!==void 0?c:e.capture,v=(d=s.passive)!==null&&d!==void 0?d:e.passive;let g=u?r:N3(r,i,p);n&&v&&(g+="Passive"),t[g]=t[g]||[],t[g].push(o)};function Ek(t,e={},n,r){const i=mc.useMemo(()=>new Sk(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),mc.useEffect(i.effect.bind(i)),mc.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function CC(t,e){return dk(pk),Ek({drag:t},e||{},"drag")}let ts;function TC(){var t;if(ts!==void 0)return ts;try{let e;const n=document.createElement("canvas");return ts=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),ts}catch{return ts=!1}}const kf=(()=>parseInt(gg.replace(/\D+/g,"")))(),mw=kf>=125?"uv1":"uv2";var Qr=Uint8Array,po=Uint16Array,ph=Uint32Array,gw=new Qr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yw=new Qr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xk=new Qr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ww=function(t,e){for(var n=new po(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ph(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},Sw=ww(gw,2),_w=Sw[0],kk=Sw[1];_w[28]=258,kk[258]=28;var Ck=ww(yw,0),Tk=Ck[0],hh=new po(32768);for(var Qt=0;Qt<32768;++Qt){var ro=(Qt&43690)>>>1|(Qt&21845)<<1;ro=(ro&52428)>>>2|(ro&13107)<<2,ro=(ro&61680)>>>4|(ro&3855)<<4,hh[Qt]=((ro&65280)>>>8|(ro&255)<<8)>>>1}var ys=function(t,e,n){for(var r=t.length,i=0,o=new po(e);i<r;++i)++o[t[i]-1];var s=new po(e);for(i=0;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var u;if(n){u=new po(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var d=i<<4|t[i],p=e-t[i],v=s[t[i]-1]++<<p,g=v|(1<<p)-1;v<=g;++v)u[hh[v]>>>c]=d}else for(u=new po(r),i=0;i<r;++i)t[i]&&(u[i]=hh[s[t[i]-1]++]>>>15-t[i]);return u},Ks=new Qr(288);for(var Qt=0;Qt<144;++Qt)Ks[Qt]=8;for(var Qt=144;Qt<256;++Qt)Ks[Qt]=9;for(var Qt=256;Qt<280;++Qt)Ks[Qt]=7;for(var Qt=280;Qt<288;++Qt)Ks[Qt]=8;var Ew=new Qr(32);for(var Qt=0;Qt<32;++Qt)Ew[Qt]=5;var Mk=ys(Ks,9,1),Pk=ys(Ew,5,1),ip=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ri=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},op=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Uk=function(t){return(t/8|0)+(t&7&&1)},Dk=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof po?po:t instanceof ph?ph:Qr)(n-e);return r.set(t.subarray(e,n)),r},Rk=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Qr(0);var i=!e||n,o=!n||n.i;n||(n={}),e||(e=new Qr(r*3));var s=function(ee){var oe=e.length;if(ee>oe){var de=new Qr(Math.max(oe*2,ee));de.set(e),e=de}},u=n.f||0,c=n.p||0,d=n.b||0,p=n.l,v=n.d,g=n.m,y=n.n,x=r*8;do{if(!p){n.f=u=ri(t,c,1);var C=ri(t,c+1,3);if(c+=3,C)if(C==1)p=Mk,v=Pk,g=9,y=5;else if(C==2){var E=ri(t,c,31)+257,M=ri(t,c+10,15)+4,R=E+ri(t,c+5,31)+1;c+=14;for(var D=new Qr(R),A=new Qr(19),U=0;U<M;++U)A[xk[U]]=ri(t,c+U*3,7);c+=M*3;for(var N=ip(A),F=(1<<N)-1,Q=ys(A,N,1),U=0;U<R;){var z=Q[ri(t,c,F)];c+=z&15;var T=z>>>4;if(T<16)D[U++]=T;else{var X=0,W=0;for(T==16?(W=3+ri(t,c,3),c+=2,X=D[U-1]):T==17?(W=3+ri(t,c,7),c+=3):T==18&&(W=11+ri(t,c,127),c+=7);W--;)D[U++]=X}}var re=D.subarray(0,E),q=D.subarray(E);g=ip(re),y=ip(q),p=ys(re,g,1),v=ys(q,y,1)}else throw"invalid block type";else{var T=Uk(c)+4,_=t[T-4]|t[T-3]<<8,w=T+_;if(w>r){if(o)throw"unexpected EOF";break}i&&s(d+_),e.set(t.subarray(T,w),d),n.b=d+=_,n.p=c=w*8;continue}if(c>x){if(o)throw"unexpected EOF";break}}i&&s(d+131072);for(var me=(1<<g)-1,j=(1<<y)-1,G=c;;G=c){var X=p[op(t,c)&me],O=X>>>4;if(c+=X&15,c>x){if(o)throw"unexpected EOF";break}if(!X)throw"invalid length/literal";if(O<256)e[d++]=O;else if(O==256){G=c,p=null;break}else{var L=O-254;if(O>264){var U=O-257,B=gw[U];L=ri(t,c,(1<<B)-1)+_w[U],c+=B}var V=v[op(t,c)&j],$=V>>>4;if(!V)throw"invalid distance";c+=V&15;var q=Tk[$];if($>3){var B=yw[$];q+=op(t,c)&(1<<B)-1,c+=B}if(c>x){if(o)throw"unexpected EOF";break}i&&s(d+131072);for(var J=d+L;d<J;d+=4)e[d]=e[d-q],e[d+1]=e[d+1-q],e[d+2]=e[d+2-q],e[d+3]=e[d+3-q];d=J}}n.l=p,n.p=G,n.b=d,p&&(u=1,n.m=g,n.d=v,n.n=y)}while(!u);return d==e.length?e:Dk(e,0,d)},Lk=new Qr(0),Ak=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function oc(t,e){return Rk((Ak(t),t.subarray(2,-4)),e)}var Ik=typeof TextDecoder<"u"&&new TextDecoder,Ok=0;try{Ik.decode(Lk,{stream:!0}),Ok=1}catch{}const Fk=t=>t&&t.isCubeTexture;class Nk extends Co{constructor(e,n){var r,i;const o=Fk(e),u=((i=o?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,c=Math.floor(Math.log2(u)),d=Math.pow(2,c),p=3*Math.max(d,16*7),v=4*d,g=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/p}`,`#define CUBEUV_TEXEL_HEIGHT ${1/v}`,`#define CUBEUV_MAX_MIP ${c}.0`],y=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,x=g.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${kf>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,C={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},T=new DS(1,16),_=new rl({uniforms:C,fragmentShader:x,vertexShader:y,side:Sh});super(T,_)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var zk=Object.defineProperty,Bk=(t,e,n)=>e in t?zk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jk=(t,e,n)=>(Bk(t,typeof e!="symbol"?e+"":e,n),n);class Gk{constructor(){jk(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}var Hk=Object.defineProperty,Wk=(t,e,n)=>e in t?Hk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,et=(t,e,n)=>(Wk(t,typeof e!="symbol"?e+"":e,n),n);const lc=new RS,Q1=new LS,bk=Math.cos(70*(Math.PI/180)),Y1=(t,e)=>(t%e+e)%e;let Vk=class extends Gk{constructor(e,n){super(),et(this,"object"),et(this,"domElement"),et(this,"enabled",!0),et(this,"target",new wt),et(this,"minDistance",0),et(this,"maxDistance",1/0),et(this,"minZoom",0),et(this,"maxZoom",1/0),et(this,"minPolarAngle",0),et(this,"maxPolarAngle",Math.PI),et(this,"minAzimuthAngle",-1/0),et(this,"maxAzimuthAngle",1/0),et(this,"enableDamping",!1),et(this,"dampingFactor",.05),et(this,"enableZoom",!0),et(this,"zoomSpeed",1),et(this,"enableRotate",!0),et(this,"rotateSpeed",1),et(this,"enablePan",!0),et(this,"panSpeed",1),et(this,"screenSpacePanning",!0),et(this,"keyPanSpeed",7),et(this,"zoomToCursor",!1),et(this,"autoRotate",!1),et(this,"autoRotateSpeed",2),et(this,"reverseOrbit",!1),et(this,"reverseHorizontalOrbit",!1),et(this,"reverseVerticalOrbit",!1),et(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),et(this,"mouseButtons",{LEFT:Ml.ROTATE,MIDDLE:Ml.DOLLY,RIGHT:Ml.PAN}),et(this,"touches",{ONE:Pl.ROTATE,TWO:Pl.DOLLY_PAN}),et(this,"target0"),et(this,"position0"),et(this,"zoom0"),et(this,"_domElementKeyEvents",null),et(this,"getPolarAngle"),et(this,"getAzimuthalAngle"),et(this,"setPolarAngle"),et(this,"setAzimuthalAngle"),et(this,"getDistance"),et(this,"getZoomScale"),et(this,"listenToKeyEvents"),et(this,"stopListenToKeyEvents"),et(this,"saveState"),et(this,"reset"),et(this,"update"),et(this,"connect"),et(this,"dispose"),et(this,"dollyIn"),et(this,"dollyOut"),et(this,"getScale"),et(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=b=>{let pe=Y1(b,2*Math.PI),Te=p.phi;Te<0&&(Te+=2*Math.PI),pe<0&&(pe+=2*Math.PI);let Ve=Math.abs(pe-Te);2*Math.PI-Ve<Ve&&(pe<Te?pe+=2*Math.PI:Te+=2*Math.PI),v.phi=pe-Te,r.update()},this.setAzimuthalAngle=b=>{let pe=Y1(b,2*Math.PI),Te=p.theta;Te<0&&(Te+=2*Math.PI),pe<0&&(pe+=2*Math.PI);let Ve=Math.abs(pe-Te);2*Math.PI-Ve<Ve&&(pe<Te?pe+=2*Math.PI:Te+=2*Math.PI),v.theta=pe-Te,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=b=>{b.addEventListener("keydown",He),this._domElementKeyEvents=b},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",He),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),c=u.NONE},this.update=(()=>{const b=new wt,pe=new wt(0,1,0),Te=new i0().setFromUnitVectors(e.up,pe),Ve=Te.clone().invert(),ue=new wt,lt=new i0,cn=2*Math.PI;return function(){const ct=r.object.position;Te.setFromUnitVectors(e.up,pe),Ve.copy(Te).invert(),b.copy(ct).sub(r.target),b.applyQuaternion(Te),p.setFromVector3(b),r.autoRotate&&c===u.NONE&&W(z()),r.enableDamping?(p.theta+=v.theta*r.dampingFactor,p.phi+=v.phi*r.dampingFactor):(p.theta+=v.theta,p.phi+=v.phi);let Ct=r.minAzimuthAngle,_t=r.maxAzimuthAngle;isFinite(Ct)&&isFinite(_t)&&(Ct<-Math.PI?Ct+=cn:Ct>Math.PI&&(Ct-=cn),_t<-Math.PI?_t+=cn:_t>Math.PI&&(_t-=cn),Ct<=_t?p.theta=Math.max(Ct,Math.min(_t,p.theta)):p.theta=p.theta>(Ct+_t)/2?Math.max(Ct,p.theta):Math.min(_t,p.theta)),p.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,p.phi)),p.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(y,r.dampingFactor):r.target.add(y),r.zoomToCursor&&N||r.object.isOrthographicCamera?p.radius=V(p.radius):p.radius=V(p.radius*g),b.setFromSpherical(p),b.applyQuaternion(Ve),ct.copy(r.target).add(b),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(v.theta*=1-r.dampingFactor,v.phi*=1-r.dampingFactor,y.multiplyScalar(1-r.dampingFactor)):(v.set(0,0,0),y.set(0,0,0));let qe=!1;if(r.zoomToCursor&&N){let Tt=null;if(r.object instanceof Jl&&r.object.isPerspectiveCamera){const jt=b.length();Tt=V(jt*g);const bt=jt-Tt;r.object.position.addScaledVector(A,bt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const jt=new wt(U.x,U.y,0);jt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix(),qe=!0;const bt=new wt(U.x,U.y,0);bt.unproject(r.object),r.object.position.sub(bt).add(jt),r.object.updateMatrixWorld(),Tt=b.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Tt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Tt).add(r.object.position):(lc.origin.copy(r.object.position),lc.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(lc.direction))<bk?e.lookAt(r.target):(Q1.setFromNormalAndCoplanarPoint(r.object.up,r.target),lc.intersectPlane(Q1,r.target))))}else r.object instanceof qo&&r.object.isOrthographicCamera&&(qe=g!==1,qe&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix()));return g=1,N=!1,qe||ue.distanceToSquared(r.object.position)>d||8*(1-lt.dot(r.object.quaternion))>d?(r.dispatchEvent(i),ue.copy(r.object.position),lt.copy(r.object.quaternion),qe=!1,!0):!1}})(),this.connect=b=>{r.domElement=b,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ut),r.domElement.addEventListener("pointerdown",tt),r.domElement.addEventListener("pointercancel",Ie),r.domElement.addEventListener("wheel",Oe)},this.dispose=()=>{var b,pe,Te,Ve,ue,lt;r.domElement&&(r.domElement.style.touchAction="auto"),(b=r.domElement)==null||b.removeEventListener("contextmenu",Ut),(pe=r.domElement)==null||pe.removeEventListener("pointerdown",tt),(Te=r.domElement)==null||Te.removeEventListener("pointercancel",Ie),(Ve=r.domElement)==null||Ve.removeEventListener("wheel",Oe),(ue=r.domElement)==null||ue.ownerDocument.removeEventListener("pointermove",De),(lt=r.domElement)==null||lt.ownerDocument.removeEventListener("pointerup",Ie),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",He)};const r=this,i={type:"change"},o={type:"start"},s={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=u.NONE;const d=1e-6,p=new dp,v=new dp;let g=1;const y=new wt,x=new wn,C=new wn,T=new wn,_=new wn,w=new wn,E=new wn,M=new wn,R=new wn,D=new wn,A=new wt,U=new wn;let N=!1;const F=[],Q={};function z(){return 2*Math.PI/60/60*r.autoRotateSpeed}function X(){return Math.pow(.95,r.zoomSpeed)}function W(b){r.reverseOrbit||r.reverseHorizontalOrbit?v.theta+=b:v.theta-=b}function re(b){r.reverseOrbit||r.reverseVerticalOrbit?v.phi+=b:v.phi-=b}const q=(()=>{const b=new wt;return function(Te,Ve){b.setFromMatrixColumn(Ve,0),b.multiplyScalar(-Te),y.add(b)}})(),me=(()=>{const b=new wt;return function(Te,Ve){r.screenSpacePanning===!0?b.setFromMatrixColumn(Ve,1):(b.setFromMatrixColumn(Ve,0),b.crossVectors(r.object.up,b)),b.multiplyScalar(Te),y.add(b)}})(),j=(()=>{const b=new wt;return function(Te,Ve){const ue=r.domElement;if(ue&&r.object instanceof Jl&&r.object.isPerspectiveCamera){const lt=r.object.position;b.copy(lt).sub(r.target);let cn=b.length();cn*=Math.tan(r.object.fov/2*Math.PI/180),q(2*Te*cn/ue.clientHeight,r.object.matrix),me(2*Ve*cn/ue.clientHeight,r.object.matrix)}else ue&&r.object instanceof qo&&r.object.isOrthographicCamera?(q(Te*(r.object.right-r.object.left)/r.object.zoom/ue.clientWidth,r.object.matrix),me(Ve*(r.object.top-r.object.bottom)/r.object.zoom/ue.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function G(b){r.object instanceof Jl&&r.object.isPerspectiveCamera||r.object instanceof qo&&r.object.isOrthographicCamera?g=b:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function O(b){G(g/b)}function L(b){G(g*b)}function B(b){if(!r.zoomToCursor||!r.domElement)return;N=!0;const pe=r.domElement.getBoundingClientRect(),Te=b.clientX-pe.left,Ve=b.clientY-pe.top,ue=pe.width,lt=pe.height;U.x=Te/ue*2-1,U.y=-(Ve/lt)*2+1,A.set(U.x,U.y,1).unproject(r.object).sub(r.object.position).normalize()}function V(b){return Math.max(r.minDistance,Math.min(r.maxDistance,b))}function $(b){x.set(b.clientX,b.clientY)}function J(b){B(b),M.set(b.clientX,b.clientY)}function ee(b){_.set(b.clientX,b.clientY)}function oe(b){C.set(b.clientX,b.clientY),T.subVectors(C,x).multiplyScalar(r.rotateSpeed);const pe=r.domElement;pe&&(W(2*Math.PI*T.x/pe.clientHeight),re(2*Math.PI*T.y/pe.clientHeight)),x.copy(C),r.update()}function de(b){R.set(b.clientX,b.clientY),D.subVectors(R,M),D.y>0?O(X()):D.y<0&&L(X()),M.copy(R),r.update()}function Me(b){w.set(b.clientX,b.clientY),E.subVectors(w,_).multiplyScalar(r.panSpeed),j(E.x,E.y),_.copy(w),r.update()}function Ce(b){B(b),b.deltaY<0?L(X()):b.deltaY>0&&O(X()),r.update()}function fe(b){let pe=!1;switch(b.code){case r.keys.UP:j(0,r.keyPanSpeed),pe=!0;break;case r.keys.BOTTOM:j(0,-r.keyPanSpeed),pe=!0;break;case r.keys.LEFT:j(r.keyPanSpeed,0),pe=!0;break;case r.keys.RIGHT:j(-r.keyPanSpeed,0),pe=!0;break}pe&&(b.preventDefault(),r.update())}function he(){if(F.length==1)x.set(F[0].pageX,F[0].pageY);else{const b=.5*(F[0].pageX+F[1].pageX),pe=.5*(F[0].pageY+F[1].pageY);x.set(b,pe)}}function Fe(){if(F.length==1)_.set(F[0].pageX,F[0].pageY);else{const b=.5*(F[0].pageX+F[1].pageX),pe=.5*(F[0].pageY+F[1].pageY);_.set(b,pe)}}function be(){const b=F[0].pageX-F[1].pageX,pe=F[0].pageY-F[1].pageY,Te=Math.sqrt(b*b+pe*pe);M.set(0,Te)}function Ue(){r.enableZoom&&be(),r.enablePan&&Fe()}function je(){r.enableZoom&&be(),r.enableRotate&&he()}function ze(b){if(F.length==1)C.set(b.pageX,b.pageY);else{const Te=Ye(b),Ve=.5*(b.pageX+Te.x),ue=.5*(b.pageY+Te.y);C.set(Ve,ue)}T.subVectors(C,x).multiplyScalar(r.rotateSpeed);const pe=r.domElement;pe&&(W(2*Math.PI*T.x/pe.clientHeight),re(2*Math.PI*T.y/pe.clientHeight)),x.copy(C)}function ye(b){if(F.length==1)w.set(b.pageX,b.pageY);else{const pe=Ye(b),Te=.5*(b.pageX+pe.x),Ve=.5*(b.pageY+pe.y);w.set(Te,Ve)}E.subVectors(w,_).multiplyScalar(r.panSpeed),j(E.x,E.y),_.copy(w)}function Ne(b){const pe=Ye(b),Te=b.pageX-pe.x,Ve=b.pageY-pe.y,ue=Math.sqrt(Te*Te+Ve*Ve);R.set(0,ue),D.set(0,Math.pow(R.y/M.y,r.zoomSpeed)),O(D.y),M.copy(R)}function Le(b){r.enableZoom&&Ne(b),r.enablePan&&ye(b)}function ve(b){r.enableZoom&&Ne(b),r.enableRotate&&ze(b)}function tt(b){var pe,Te;r.enabled!==!1&&(F.length===0&&((pe=r.domElement)==null||pe.ownerDocument.addEventListener("pointermove",De),(Te=r.domElement)==null||Te.ownerDocument.addEventListener("pointerup",Ie)),Ft(b),b.pointerType==="touch"?Xe(b):Pe(b))}function De(b){r.enabled!==!1&&(b.pointerType==="touch"?it(b):St(b))}function Ie(b){var pe,Te,Ve;ot(b),F.length===0&&((pe=r.domElement)==null||pe.releasePointerCapture(b.pointerId),(Te=r.domElement)==null||Te.ownerDocument.removeEventListener("pointermove",De),(Ve=r.domElement)==null||Ve.ownerDocument.removeEventListener("pointerup",Ie)),r.dispatchEvent(s),c=u.NONE}function Pe(b){let pe;switch(b.button){case 0:pe=r.mouseButtons.LEFT;break;case 1:pe=r.mouseButtons.MIDDLE;break;case 2:pe=r.mouseButtons.RIGHT;break;default:pe=-1}switch(pe){case Ml.DOLLY:if(r.enableZoom===!1)return;J(b),c=u.DOLLY;break;case Ml.ROTATE:if(b.ctrlKey||b.metaKey||b.shiftKey){if(r.enablePan===!1)return;ee(b),c=u.PAN}else{if(r.enableRotate===!1)return;$(b),c=u.ROTATE}break;case Ml.PAN:if(b.ctrlKey||b.metaKey||b.shiftKey){if(r.enableRotate===!1)return;$(b),c=u.ROTATE}else{if(r.enablePan===!1)return;ee(b),c=u.PAN}break;default:c=u.NONE}c!==u.NONE&&r.dispatchEvent(o)}function St(b){if(r.enabled!==!1)switch(c){case u.ROTATE:if(r.enableRotate===!1)return;oe(b);break;case u.DOLLY:if(r.enableZoom===!1)return;de(b);break;case u.PAN:if(r.enablePan===!1)return;Me(b);break}}function Oe(b){r.enabled===!1||r.enableZoom===!1||c!==u.NONE&&c!==u.ROTATE||(b.preventDefault(),r.dispatchEvent(o),Ce(b),r.dispatchEvent(s))}function He(b){r.enabled===!1||r.enablePan===!1||fe(b)}function Xe(b){switch(Ke(b),F.length){case 1:switch(r.touches.ONE){case Pl.ROTATE:if(r.enableRotate===!1)return;he(),c=u.TOUCH_ROTATE;break;case Pl.PAN:if(r.enablePan===!1)return;Fe(),c=u.TOUCH_PAN;break;default:c=u.NONE}break;case 2:switch(r.touches.TWO){case Pl.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ue(),c=u.TOUCH_DOLLY_PAN;break;case Pl.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;je(),c=u.TOUCH_DOLLY_ROTATE;break;default:c=u.NONE}break;default:c=u.NONE}c!==u.NONE&&r.dispatchEvent(o)}function it(b){switch(Ke(b),c){case u.TOUCH_ROTATE:if(r.enableRotate===!1)return;ze(b),r.update();break;case u.TOUCH_PAN:if(r.enablePan===!1)return;ye(b),r.update();break;case u.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(b),r.update();break;case u.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ve(b),r.update();break;default:c=u.NONE}}function Ut(b){r.enabled!==!1&&b.preventDefault()}function Ft(b){F.push(b)}function ot(b){delete Q[b.pointerId];for(let pe=0;pe<F.length;pe++)if(F[pe].pointerId==b.pointerId){F.splice(pe,1);return}}function Ke(b){let pe=Q[b.pointerId];pe===void 0&&(pe=new wn,Q[b.pointerId]=pe),pe.set(b.pageX,b.pageY)}function Ye(b){const pe=b.pointerId===F[0].pointerId?F[1]:F[0];return Q[pe.pointerId]}this.dollyIn=(b=X())=>{L(b),r.update()},this.dollyOut=(b=X())=>{O(b),r.update()},this.getScale=()=>g,this.setScale=b=>{G(b),r.update()},this.getZoomScale=()=>X(),n!==void 0&&this.connect(n),this.update()}};const Qk={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},Yk={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class Xk extends yg{constructor(e){super(e),this.type=Yr}parse(e){const s=function(U,N){switch(U){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(N||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(N||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(N||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(N||""))}},p=`
`,v=function(U,N,F){N=N||1024;let z=U.pos,X=-1,W=0,re="",q=String.fromCharCode.apply(null,new Uint16Array(U.subarray(z,z+128)));for(;0>(X=q.indexOf(p))&&W<N&&z<U.byteLength;)re+=q,W+=q.length,z+=128,q+=String.fromCharCode.apply(null,new Uint16Array(U.subarray(z,z+128)));return-1<X?(F!==!1&&(U.pos+=W+X+1),re+q.slice(0,X)):!1},g=function(U){const N=/^#\?(\S+)/,F=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Q=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,z=/^\s*FORMAT=(\S+)\s*$/,X=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,W={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let re,q;for((U.pos>=U.byteLength||!(re=v(U)))&&s(1,"no header found"),(q=re.match(N))||s(3,"bad initial token"),W.valid|=1,W.programtype=q[1],W.string+=re+`
`;re=v(U),re!==!1;){if(W.string+=re+`
`,re.charAt(0)==="#"){W.comments+=re+`
`;continue}if((q=re.match(F))&&(W.gamma=parseFloat(q[1])),(q=re.match(Q))&&(W.exposure=parseFloat(q[1])),(q=re.match(z))&&(W.valid|=2,W.format=q[1]),(q=re.match(X))&&(W.valid|=4,W.height=parseInt(q[1],10),W.width=parseInt(q[2],10)),W.valid&2&&W.valid&4)break}return W.valid&2||s(3,"missing format specifier"),W.valid&4||s(3,"missing image size specifier"),W},y=function(U,N,F){const Q=N;if(Q<8||Q>32767||U[0]!==2||U[1]!==2||U[2]&128)return new Uint8Array(U);Q!==(U[2]<<8|U[3])&&s(3,"wrong scanline width");const z=new Uint8Array(4*N*F);z.length||s(4,"unable to allocate buffer space");let X=0,W=0;const re=4*Q,q=new Uint8Array(4),me=new Uint8Array(re);let j=F;for(;j>0&&W<U.byteLength;){W+4>U.byteLength&&s(1),q[0]=U[W++],q[1]=U[W++],q[2]=U[W++],q[3]=U[W++],(q[0]!=2||q[1]!=2||(q[2]<<8|q[3])!=Q)&&s(3,"bad rgbe scanline format");let G=0,O;for(;G<re&&W<U.byteLength;){O=U[W++];const B=O>128;if(B&&(O-=128),(O===0||G+O>re)&&s(3,"bad scanline data"),B){const V=U[W++];for(let $=0;$<O;$++)me[G++]=V}else me.set(U.subarray(W,W+O),G),G+=O,W+=O}const L=Q;for(let B=0;B<L;B++){let V=0;z[X]=me[B+V],V+=Q,z[X+1]=me[B+V],V+=Q,z[X+2]=me[B+V],V+=Q,z[X+3]=me[B+V],X+=4}j--}return z},x=function(U,N,F,Q){const z=U[N+3],X=Math.pow(2,z-128)/255;F[Q+0]=U[N+0]*X,F[Q+1]=U[N+1]*X,F[Q+2]=U[N+2]*X,F[Q+3]=1},C=function(U,N,F,Q){const z=U[N+3],X=Math.pow(2,z-128)/255;F[Q+0]=Fl.toHalfFloat(Math.min(U[N+0]*X,65504)),F[Q+1]=Fl.toHalfFloat(Math.min(U[N+1]*X,65504)),F[Q+2]=Fl.toHalfFloat(Math.min(U[N+2]*X,65504)),F[Q+3]=Fl.toHalfFloat(1)},T=new Uint8Array(e);T.pos=0;const _=g(T),w=_.width,E=_.height,M=y(T.subarray(T.pos),w,E);let R,D,A;switch(this.type){case Bi:A=M.length/4;const U=new Float32Array(A*4);for(let F=0;F<A;F++)x(M,F*4,U,F*4);R=U,D=Bi;break;case Yr:A=M.length/4;const N=new Uint16Array(A*4);for(let F=0;F<A;F++)C(M,F*4,N,F*4);R=N,D=Yr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:w,height:E,data:R,header:_.string,gamma:_.gamma,exposure:_.exposure,type:D}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(s,u){switch(s.type){case Bi:case Yr:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=Xr,s.magFilter=Xr,s.generateMipmaps=!1,s.flipY=!0;break}n&&n(s,u)}return super.load(e,o,r,i)}}const ns=kf>=152;class Zk extends yg{constructor(e){super(e),this.type=Yr}parse(e){const N=Math.pow(2.7182818,2.2);function F(k,P){for(var H=0,ne=0;ne<65536;++ne)(ne==0||k[ne>>3]&1<<(ne&7))&&(P[H++]=ne);for(var le=H-1;H<65536;)P[H++]=0;return le}function Q(k){for(var P=0;P<16384;P++)k[P]={},k[P].len=0,k[P].lit=0,k[P].p=null}const z={l:0,c:0,lc:0};function X(k,P,H,ne,le){for(;H<k;)P=P<<8|Ye(ne,le),H+=8;H-=k,z.l=P>>H&(1<<k)-1,z.c=P,z.lc=H}const W=new Array(59);function re(k){for(var P=0;P<=58;++P)W[P]=0;for(var P=0;P<65537;++P)W[k[P]]+=1;for(var H=0,P=58;P>0;--P){var ne=H+W[P]>>1;W[P]=H,H=ne}for(var P=0;P<65537;++P){var le=k[P];le>0&&(k[P]=le|W[le]++<<6)}}function q(k,P,H,ne,le,se,Se){for(var ge=H,Ee=0,xe=0;le<=se;le++){if(ge.value-H.value>ne)return!1;X(6,Ee,xe,k,ge);var ke=z.l;if(Ee=z.c,xe=z.lc,Se[le]=ke,ke==63){if(ge.value-H.value>ne)throw"Something wrong with hufUnpackEncTable";X(8,Ee,xe,k,ge);var ie=z.l+6;if(Ee=z.c,xe=z.lc,le+ie>se+1)throw"Something wrong with hufUnpackEncTable";for(;ie--;)Se[le++]=0;le--}else if(ke>=59){var ie=ke-59+2;if(le+ie>se+1)throw"Something wrong with hufUnpackEncTable";for(;ie--;)Se[le++]=0;le--}}re(Se)}function me(k){return k&63}function j(k){return k>>6}function G(k,P,H,ne){for(;P<=H;P++){var le=j(k[P]),se=me(k[P]);if(le>>se)throw"Invalid table entry";if(se>14){var Se=ne[le>>se-14];if(Se.len)throw"Invalid table entry";if(Se.lit++,Se.p){var ge=Se.p;Se.p=new Array(Se.lit);for(var Ee=0;Ee<Se.lit-1;++Ee)Se.p[Ee]=ge[Ee]}else Se.p=new Array(1);Se.p[Se.lit-1]=P}else if(se)for(var xe=0,Ee=1<<14-se;Ee>0;Ee--){var Se=ne[(le<<14-se)+xe];if(Se.len||Se.p)throw"Invalid table entry";Se.len=se,Se.lit=P,xe++}}return!0}const O={c:0,lc:0};function L(k,P,H,ne){k=k<<8|Ye(H,ne),P+=8,O.c=k,O.lc=P}const B={c:0,lc:0};function V(k,P,H,ne,le,se,Se,ge,Ee,xe){if(k==P){ne<8&&(L(H,ne,le,Se),H=O.c,ne=O.lc),ne-=8;var ke=H>>ne,ke=new Uint8Array([ke])[0];if(Ee.value+ke>xe)return!1;for(var ie=ge[Ee.value-1];ke-- >0;)ge[Ee.value++]=ie}else if(Ee.value<xe)ge[Ee.value++]=k;else return!1;B.c=H,B.lc=ne}function $(k){return k&65535}function J(k){var P=$(k);return P>32767?P-65536:P}const ee={a:0,b:0};function oe(k,P){var H=J(k),ne=J(P),le=ne,se=H+(le&1)+(le>>1),Se=se,ge=se-le;ee.a=Se,ee.b=ge}function de(k,P){var H=$(k),ne=$(P),le=H-(ne>>1)&65535,se=ne+le-32768&65535;ee.a=se,ee.b=le}function Me(k,P,H,ne,le,se,Se){for(var ge=Se<16384,Ee=H>le?le:H,xe=1,ke;xe<=Ee;)xe<<=1;for(xe>>=1,ke=xe,xe>>=1;xe>=1;){for(var ie=0,Mt=ie+se*(le-ke),Qe=se*xe,We=se*ke,rt=ne*xe,st=ne*ke,Et,vt,nt,ut;ie<=Mt;ie+=We){for(var mt=ie,Ot=ie+ne*(H-ke);mt<=Ot;mt+=st){var ft=mt+rt,Nt=mt+Qe,an=Nt+rt;ge?(oe(k[mt+P],k[Nt+P]),Et=ee.a,nt=ee.b,oe(k[ft+P],k[an+P]),vt=ee.a,ut=ee.b,oe(Et,vt),k[mt+P]=ee.a,k[ft+P]=ee.b,oe(nt,ut),k[Nt+P]=ee.a,k[an+P]=ee.b):(de(k[mt+P],k[Nt+P]),Et=ee.a,nt=ee.b,de(k[ft+P],k[an+P]),vt=ee.a,ut=ee.b,de(Et,vt),k[mt+P]=ee.a,k[ft+P]=ee.b,de(nt,ut),k[Nt+P]=ee.a,k[an+P]=ee.b)}if(H&xe){var Nt=mt+Qe;ge?oe(k[mt+P],k[Nt+P]):de(k[mt+P],k[Nt+P]),Et=ee.a,k[Nt+P]=ee.b,k[mt+P]=Et}}if(le&xe)for(var mt=ie,Ot=ie+ne*(H-ke);mt<=Ot;mt+=st){var ft=mt+rt;ge?oe(k[mt+P],k[ft+P]):de(k[mt+P],k[ft+P]),Et=ee.a,k[ft+P]=ee.b,k[mt+P]=Et}ke=xe,xe>>=1}return ie}function Ce(k,P,H,ne,le,se,Se,ge,Ee,xe){for(var ke=0,ie=0,Mt=ge,Qe=Math.trunc(le.value+(se+7)/8);le.value<Qe;)for(L(ke,ie,H,le),ke=O.c,ie=O.lc;ie>=14;){var We=ke>>ie-14&16383,rt=P[We];if(rt.len)ie-=rt.len,V(rt.lit,Se,ke,ie,H,ne,le,Ee,xe,Mt),ke=B.c,ie=B.lc;else{if(!rt.p)throw"hufDecode issues";var st;for(st=0;st<rt.lit;st++){for(var Et=me(k[rt.p[st]]);ie<Et&&le.value<Qe;)L(ke,ie,H,le),ke=O.c,ie=O.lc;if(ie>=Et&&j(k[rt.p[st]])==(ke>>ie-Et&(1<<Et)-1)){ie-=Et,V(rt.p[st],Se,ke,ie,H,ne,le,Ee,xe,Mt),ke=B.c,ie=B.lc;break}}if(st==rt.lit)throw"hufDecode issues"}}var vt=8-se&7;for(ke>>=vt,ie-=vt;ie>0;){var rt=P[ke<<14-ie&16383];if(rt.len)ie-=rt.len,V(rt.lit,Se,ke,ie,H,ne,le,Ee,xe,Mt),ke=B.c,ie=B.lc;else throw"hufDecode issues"}return!0}function fe(k,P,H,ne,le,se){var Se={value:0},ge=H.value,Ee=Ke(P,H),xe=Ke(P,H);H.value+=4;var ke=Ke(P,H);if(H.value+=4,Ee<0||Ee>=65537||xe<0||xe>=65537)throw"Something wrong with HUF_ENCSIZE";var ie=new Array(65537),Mt=new Array(16384);Q(Mt);var Qe=ne-(H.value-ge);if(q(k,P,H,Qe,Ee,xe,ie),ke>8*(ne-(H.value-ge)))throw"Something wrong with hufUncompress";G(ie,Ee,xe,Mt),Ce(ie,Mt,k,P,H,ke,xe,se,le,Se)}function he(k,P,H){for(var ne=0;ne<H;++ne)P[ne]=k[P[ne]]}function Fe(k){for(var P=1;P<k.length;P++){var H=k[P-1]+k[P]-128;k[P]=H}}function be(k,P){for(var H=0,ne=Math.floor((k.length+1)/2),le=0,se=k.length-1;!(le>se||(P[le++]=k[H++],le>se));)P[le++]=k[ne++]}function Ue(k){for(var P=k.byteLength,H=new Array,ne=0,le=new DataView(k);P>0;){var se=le.getInt8(ne++);if(se<0){var Se=-se;P-=Se+1;for(var ge=0;ge<Se;ge++)H.push(le.getUint8(ne++))}else{var Se=se;P-=2;for(var Ee=le.getUint8(ne++),ge=0;ge<Se+1;ge++)H.push(Ee)}}return H}function je(k,P,H,ne,le,se){var ft=new DataView(se.buffer),Se=H[k.idx[0]].width,ge=H[k.idx[0]].height,Ee=3,xe=Math.floor(Se/8),ke=Math.ceil(Se/8),ie=Math.ceil(ge/8),Mt=Se-(ke-1)*8,Qe=ge-(ie-1)*8,We={value:0},rt=new Array(Ee),st=new Array(Ee),Et=new Array(Ee),vt=new Array(Ee),nt=new Array(Ee);for(let Pt=0;Pt<Ee;++Pt)nt[Pt]=P[k.idx[Pt]],rt[Pt]=Pt<1?0:rt[Pt-1]+ke*ie,st[Pt]=new Float32Array(64),Et[Pt]=new Uint16Array(64),vt[Pt]=new Uint16Array(ke*64);for(let Pt=0;Pt<ie;++Pt){var ut=8;Pt==ie-1&&(ut=Qe);var mt=8;for(let Rt=0;Rt<ke;++Rt){Rt==ke-1&&(mt=Mt);for(let dt=0;dt<Ee;++dt)Et[dt].fill(0),Et[dt][0]=le[rt[dt]++],ze(We,ne,Et[dt]),ye(Et[dt],st[dt]),Ne(st[dt]);Le(st);for(let dt=0;dt<Ee;++dt)ve(st[dt],vt[dt],Rt*64)}let $t=0;for(let Rt=0;Rt<Ee;++Rt){const dt=H[k.idx[Rt]].type;for(let Gt=8*Pt;Gt<8*Pt+ut;++Gt){$t=nt[Rt][Gt];for(let cr=0;cr<xe;++cr){const fn=cr*64+(Gt&7)*8;ft.setUint16($t+0*2*dt,vt[Rt][fn+0],!0),ft.setUint16($t+1*2*dt,vt[Rt][fn+1],!0),ft.setUint16($t+2*2*dt,vt[Rt][fn+2],!0),ft.setUint16($t+3*2*dt,vt[Rt][fn+3],!0),ft.setUint16($t+4*2*dt,vt[Rt][fn+4],!0),ft.setUint16($t+5*2*dt,vt[Rt][fn+5],!0),ft.setUint16($t+6*2*dt,vt[Rt][fn+6],!0),ft.setUint16($t+7*2*dt,vt[Rt][fn+7],!0),$t+=8*2*dt}}if(xe!=ke)for(let Gt=8*Pt;Gt<8*Pt+ut;++Gt){const cr=nt[Rt][Gt]+8*xe*2*dt,fn=xe*64+(Gt&7)*8;for(let _r=0;_r<mt;++_r)ft.setUint16(cr+_r*2*dt,vt[Rt][fn+_r],!0)}}}for(var Ot=new Uint16Array(Se),ft=new DataView(se.buffer),Nt=0;Nt<Ee;++Nt){H[k.idx[Nt]].decoded=!0;var an=H[k.idx[Nt]].type;if(H[Nt].type==2)for(var Xt=0;Xt<ge;++Xt){const Pt=nt[Nt][Xt];for(var Zt=0;Zt<Se;++Zt)Ot[Zt]=ft.getUint16(Pt+Zt*2*an,!0);for(var Zt=0;Zt<Se;++Zt)ft.setFloat32(Pt+Zt*2*an,ue(Ot[Zt]),!0)}}}function ze(k,P,H){for(var ne,le=1;le<64;)ne=P[k.value],ne==65280?le=64:ne>>8==255?le+=ne&255:(H[le]=ne,le++),k.value++}function ye(k,P){P[0]=ue(k[0]),P[1]=ue(k[1]),P[2]=ue(k[5]),P[3]=ue(k[6]),P[4]=ue(k[14]),P[5]=ue(k[15]),P[6]=ue(k[27]),P[7]=ue(k[28]),P[8]=ue(k[2]),P[9]=ue(k[4]),P[10]=ue(k[7]),P[11]=ue(k[13]),P[12]=ue(k[16]),P[13]=ue(k[26]),P[14]=ue(k[29]),P[15]=ue(k[42]),P[16]=ue(k[3]),P[17]=ue(k[8]),P[18]=ue(k[12]),P[19]=ue(k[17]),P[20]=ue(k[25]),P[21]=ue(k[30]),P[22]=ue(k[41]),P[23]=ue(k[43]),P[24]=ue(k[9]),P[25]=ue(k[11]),P[26]=ue(k[18]),P[27]=ue(k[24]),P[28]=ue(k[31]),P[29]=ue(k[40]),P[30]=ue(k[44]),P[31]=ue(k[53]),P[32]=ue(k[10]),P[33]=ue(k[19]),P[34]=ue(k[23]),P[35]=ue(k[32]),P[36]=ue(k[39]),P[37]=ue(k[45]),P[38]=ue(k[52]),P[39]=ue(k[54]),P[40]=ue(k[20]),P[41]=ue(k[22]),P[42]=ue(k[33]),P[43]=ue(k[38]),P[44]=ue(k[46]),P[45]=ue(k[51]),P[46]=ue(k[55]),P[47]=ue(k[60]),P[48]=ue(k[21]),P[49]=ue(k[34]),P[50]=ue(k[37]),P[51]=ue(k[47]),P[52]=ue(k[50]),P[53]=ue(k[56]),P[54]=ue(k[59]),P[55]=ue(k[61]),P[56]=ue(k[35]),P[57]=ue(k[36]),P[58]=ue(k[48]),P[59]=ue(k[49]),P[60]=ue(k[57]),P[61]=ue(k[58]),P[62]=ue(k[62]),P[63]=ue(k[63])}function Ne(k){const P=.5*Math.cos(.7853975),H=.5*Math.cos(3.14159/16),ne=.5*Math.cos(3.14159/8),le=.5*Math.cos(3*3.14159/16),se=.5*Math.cos(5*3.14159/16),Se=.5*Math.cos(3*3.14159/8),ge=.5*Math.cos(7*3.14159/16);for(var Ee=new Array(4),xe=new Array(4),ke=new Array(4),ie=new Array(4),Mt=0;Mt<8;++Mt){var Qe=Mt*8;Ee[0]=ne*k[Qe+2],Ee[1]=Se*k[Qe+2],Ee[2]=ne*k[Qe+6],Ee[3]=Se*k[Qe+6],xe[0]=H*k[Qe+1]+le*k[Qe+3]+se*k[Qe+5]+ge*k[Qe+7],xe[1]=le*k[Qe+1]-ge*k[Qe+3]-H*k[Qe+5]-se*k[Qe+7],xe[2]=se*k[Qe+1]-H*k[Qe+3]+ge*k[Qe+5]+le*k[Qe+7],xe[3]=ge*k[Qe+1]-se*k[Qe+3]+le*k[Qe+5]-H*k[Qe+7],ke[0]=P*(k[Qe+0]+k[Qe+4]),ke[3]=P*(k[Qe+0]-k[Qe+4]),ke[1]=Ee[0]+Ee[3],ke[2]=Ee[1]-Ee[2],ie[0]=ke[0]+ke[1],ie[1]=ke[3]+ke[2],ie[2]=ke[3]-ke[2],ie[3]=ke[0]-ke[1],k[Qe+0]=ie[0]+xe[0],k[Qe+1]=ie[1]+xe[1],k[Qe+2]=ie[2]+xe[2],k[Qe+3]=ie[3]+xe[3],k[Qe+4]=ie[3]-xe[3],k[Qe+5]=ie[2]-xe[2],k[Qe+6]=ie[1]-xe[1],k[Qe+7]=ie[0]-xe[0]}for(var We=0;We<8;++We)Ee[0]=ne*k[16+We],Ee[1]=Se*k[16+We],Ee[2]=ne*k[48+We],Ee[3]=Se*k[48+We],xe[0]=H*k[8+We]+le*k[24+We]+se*k[40+We]+ge*k[56+We],xe[1]=le*k[8+We]-ge*k[24+We]-H*k[40+We]-se*k[56+We],xe[2]=se*k[8+We]-H*k[24+We]+ge*k[40+We]+le*k[56+We],xe[3]=ge*k[8+We]-se*k[24+We]+le*k[40+We]-H*k[56+We],ke[0]=P*(k[We]+k[32+We]),ke[3]=P*(k[We]-k[32+We]),ke[1]=Ee[0]+Ee[3],ke[2]=Ee[1]-Ee[2],ie[0]=ke[0]+ke[1],ie[1]=ke[3]+ke[2],ie[2]=ke[3]-ke[2],ie[3]=ke[0]-ke[1],k[0+We]=ie[0]+xe[0],k[8+We]=ie[1]+xe[1],k[16+We]=ie[2]+xe[2],k[24+We]=ie[3]+xe[3],k[32+We]=ie[3]-xe[3],k[40+We]=ie[2]-xe[2],k[48+We]=ie[1]-xe[1],k[56+We]=ie[0]-xe[0]}function Le(k){for(var P=0;P<64;++P){var H=k[0][P],ne=k[1][P],le=k[2][P];k[0][P]=H+1.5747*le,k[1][P]=H-.1873*ne-.4682*le,k[2][P]=H+1.8556*ne}}function ve(k,P,H){for(var ne=0;ne<64;++ne)P[H+ne]=Fl.toHalfFloat(tt(k[ne]))}function tt(k){return k<=1?Math.sign(k)*Math.pow(Math.abs(k),2.2):Math.sign(k)*Math.pow(N,Math.abs(k)-1)}function De(k){return new DataView(k.array.buffer,k.offset.value,k.size)}function Ie(k){var P=k.viewer.buffer.slice(k.offset.value,k.offset.value+k.size),H=new Uint8Array(Ue(P)),ne=new Uint8Array(H.length);return Fe(H),be(H,ne),new DataView(ne.buffer)}function Pe(k){var P=k.array.slice(k.offset.value,k.offset.value+k.size),H=oc(P),ne=new Uint8Array(H.length);return Fe(H),be(H,ne),new DataView(ne.buffer)}function St(k){for(var P=k.viewer,H={value:k.offset.value},ne=new Uint16Array(k.width*k.scanlineBlockSize*(k.channels*k.type)),le=new Uint8Array(8192),se=0,Se=new Array(k.channels),ge=0;ge<k.channels;ge++)Se[ge]={},Se[ge].start=se,Se[ge].end=Se[ge].start,Se[ge].nx=k.width,Se[ge].ny=k.lines,Se[ge].size=k.type,se+=Se[ge].nx*Se[ge].ny*Se[ge].size;var Ee=lt(P,H),xe=lt(P,H);if(xe>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ee<=xe)for(var ge=0;ge<xe-Ee+1;ge++)le[ge+Ee]=b(P,H);var ke=new Uint16Array(65536),ie=F(le,ke),Mt=Ke(P,H);fe(k.array,P,H,Mt,ne,se);for(var ge=0;ge<k.channels;++ge)for(var Qe=Se[ge],We=0;We<Se[ge].size;++We)Me(ne,Qe.start+We,Qe.nx,Qe.size,Qe.ny,Qe.nx*Qe.size,ie);he(ke,ne,se);for(var rt=0,st=new Uint8Array(ne.buffer.byteLength),Et=0;Et<k.lines;Et++)for(var vt=0;vt<k.channels;vt++){var Qe=Se[vt],nt=Qe.nx*Qe.size,ut=new Uint8Array(ne.buffer,Qe.end*2,nt*2);st.set(ut,rt),rt+=nt*2,Qe.end+=nt}return new DataView(st.buffer)}function Oe(k){var P=k.array.slice(k.offset.value,k.offset.value+k.size),H=oc(P);const ne=k.lines*k.channels*k.width,le=k.type==1?new Uint16Array(ne):new Uint32Array(ne);let se=0,Se=0;const ge=new Array(4);for(let Ee=0;Ee<k.lines;Ee++)for(let xe=0;xe<k.channels;xe++){let ke=0;switch(k.type){case 1:ge[0]=se,ge[1]=ge[0]+k.width,se=ge[1]+k.width;for(let ie=0;ie<k.width;++ie){const Mt=H[ge[0]++]<<8|H[ge[1]++];ke+=Mt,le[Se]=ke,Se++}break;case 2:ge[0]=se,ge[1]=ge[0]+k.width,ge[2]=ge[1]+k.width,se=ge[2]+k.width;for(let ie=0;ie<k.width;++ie){const Mt=H[ge[0]++]<<24|H[ge[1]++]<<16|H[ge[2]++]<<8;ke+=Mt,le[Se]=ke,Se++}break}}return new DataView(le.buffer)}function He(k){var P=k.viewer,H={value:k.offset.value},ne=new Uint8Array(k.width*k.lines*(k.channels*k.type*2)),le={version:pe(P,H),unknownUncompressedSize:pe(P,H),unknownCompressedSize:pe(P,H),acCompressedSize:pe(P,H),dcCompressedSize:pe(P,H),rleCompressedSize:pe(P,H),rleUncompressedSize:pe(P,H),rleRawSize:pe(P,H),totalAcUncompressedCount:pe(P,H),totalDcUncompressedCount:pe(P,H),acCompression:pe(P,H)};if(le.version<2)throw"EXRLoader.parse: "+_n.compression+" version "+le.version+" is unsupported";for(var se=new Array,Se=lt(P,H)-2;Se>0;){var ge=Xe(P.buffer,H),Ee=b(P,H),xe=Ee>>2&3,ke=(Ee>>4)-1,ie=new Int8Array([ke])[0],Mt=b(P,H);se.push({name:ge,index:ie,type:Mt,compression:xe}),Se-=ge.length+3}for(var Qe=_n.channels,We=new Array(k.channels),rt=0;rt<k.channels;++rt){var st=We[rt]={},Et=Qe[rt];st.name=Et.name,st.compression=0,st.decoded=!1,st.type=Et.pixelType,st.pLinear=Et.pLinear,st.width=k.width,st.height=k.lines}for(var vt={idx:new Array(3)},nt=0;nt<k.channels;++nt)for(var st=We[nt],rt=0;rt<se.length;++rt){var ut=se[rt];st.name==ut.name&&(st.compression=ut.compression,ut.index>=0&&(vt.idx[ut.index]=nt),st.offset=nt)}if(le.acCompressedSize>0)switch(le.acCompression){case 0:var ft=new Uint16Array(le.totalAcUncompressedCount);fe(k.array,P,H,le.acCompressedSize,ft,le.totalAcUncompressedCount);break;case 1:var mt=k.array.slice(H.value,H.value+le.totalAcUncompressedCount),Ot=oc(mt),ft=new Uint16Array(Ot.buffer);H.value+=le.totalAcUncompressedCount;break}if(le.dcCompressedSize>0){var Nt={array:k.array,offset:H,size:le.dcCompressedSize},an=new Uint16Array(Pe(Nt).buffer);H.value+=le.dcCompressedSize}if(le.rleRawSize>0){var mt=k.array.slice(H.value,H.value+le.rleCompressedSize),Ot=oc(mt),Xt=Ue(Ot.buffer);H.value+=le.rleCompressedSize}for(var Zt=0,Pt=new Array(We.length),rt=0;rt<Pt.length;++rt)Pt[rt]=new Array;for(var $t=0;$t<k.lines;++$t)for(var Rt=0;Rt<We.length;++Rt)Pt[Rt].push(Zt),Zt+=We[Rt].width*k.type*2;je(vt,Pt,We,ft,an,ne);for(var rt=0;rt<We.length;++rt){var st=We[rt];if(!st.decoded)switch(st.compression){case 2:for(var dt=0,Gt=0,$t=0;$t<k.lines;++$t){for(var cr=Pt[rt][dt],fn=0;fn<st.width;++fn){for(var _r=0;_r<2*st.type;++_r)ne[cr++]=Xt[Gt+_r*st.width*st.height];Gt++}dt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ne.buffer)}function Xe(k,P){for(var H=new Uint8Array(k),ne=0;H[P.value+ne]!=0;)ne+=1;var le=new TextDecoder().decode(H.slice(P.value,P.value+ne));return P.value=P.value+ne+1,le}function it(k,P,H){var ne=new TextDecoder().decode(new Uint8Array(k).slice(P.value,P.value+H));return P.value=P.value+H,ne}function Ut(k,P){var H=ot(k,P),ne=Ke(k,P);return[H,ne]}function Ft(k,P){var H=Ke(k,P),ne=Ke(k,P);return[H,ne]}function ot(k,P){var H=k.getInt32(P.value,!0);return P.value=P.value+4,H}function Ke(k,P){var H=k.getUint32(P.value,!0);return P.value=P.value+4,H}function Ye(k,P){var H=k[P.value];return P.value=P.value+1,H}function b(k,P){var H=k.getUint8(P.value);return P.value=P.value+1,H}const pe=function(k,P){let H;return"getBigInt64"in DataView.prototype?H=Number(k.getBigInt64(P.value,!0)):H=k.getUint32(P.value+4,!0)+Number(k.getUint32(P.value,!0)<<32),P.value+=8,H};function Te(k,P){var H=k.getFloat32(P.value,!0);return P.value+=4,H}function Ve(k,P){return Fl.toHalfFloat(Te(k,P))}function ue(k){var P=(k&31744)>>10,H=k&1023;return(k>>15?-1:1)*(P?P===31?H?NaN:1/0:Math.pow(2,P-15)*(1+H/1024):6103515625e-14*(H/1024))}function lt(k,P){var H=k.getUint16(P.value,!0);return P.value+=2,H}function cn(k,P){return ue(lt(k,P))}function Dt(k,P,H,ne){for(var le=H.value,se=[];H.value<le+ne-1;){var Se=Xe(P,H),ge=ot(k,H),Ee=b(k,H);H.value+=3;var xe=ot(k,H),ke=ot(k,H);se.push({name:Se,pixelType:ge,pLinear:Ee,xSampling:xe,ySampling:ke})}return H.value+=1,se}function ct(k,P){var H=Te(k,P),ne=Te(k,P),le=Te(k,P),se=Te(k,P),Se=Te(k,P),ge=Te(k,P),Ee=Te(k,P),xe=Te(k,P);return{redX:H,redY:ne,greenX:le,greenY:se,blueX:Se,blueY:ge,whiteX:Ee,whiteY:xe}}function Ct(k,P){var H=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ne=b(k,P);return H[ne]}function _t(k,P){var H=Ke(k,P),ne=Ke(k,P),le=Ke(k,P),se=Ke(k,P);return{xMin:H,yMin:ne,xMax:le,yMax:se}}function qe(k,P){var H=["INCREASING_Y"],ne=b(k,P);return H[ne]}function Tt(k,P){var H=Te(k,P),ne=Te(k,P);return[H,ne]}function jt(k,P){var H=Te(k,P),ne=Te(k,P),le=Te(k,P);return[H,ne,le]}function bt(k,P,H,ne,le){if(ne==="string"||ne==="stringvector"||ne==="iccProfile")return it(P,H,le);if(ne==="chlist")return Dt(k,P,H,le);if(ne==="chromaticities")return ct(k,H);if(ne==="compression")return Ct(k,H);if(ne==="box2i")return _t(k,H);if(ne==="lineOrder")return qe(k,H);if(ne==="float")return Te(k,H);if(ne==="v2f")return Tt(k,H);if(ne==="v3f")return jt(k,H);if(ne==="int")return ot(k,H);if(ne==="rational")return Ut(k,H);if(ne==="timecode")return Ft(k,H);if(ne==="preview")return H.value+=le,"skipped";H.value+=le}function qt(k,P,H){const ne={};if(k.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ne.version=k.getUint8(4);const le=k.getUint8(5);ne.spec={singleTile:!!(le&2),longName:!!(le&4),deepFormat:!!(le&8),multiPart:!!(le&16)},H.value=8;for(var se=!0;se;){var Se=Xe(P,H);if(Se==0)se=!1;else{var ge=Xe(P,H),Ee=Ke(k,H),xe=bt(k,P,H,ge,Ee);xe===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ge}'.`):ne[Se]=xe}}if(le&-5)throw console.error("EXRHeader:",ne),"THREE.EXRLoader: provided file is currently unsupported.";return ne}function Jn(k,P,H,ne,le){const se={size:0,viewer:P,array:H,offset:ne,width:k.dataWindow.xMax-k.dataWindow.xMin+1,height:k.dataWindow.yMax-k.dataWindow.yMin+1,channels:k.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:k.channels[0].pixelType,uncompress:null,getter:null,format:null,[ns?"colorSpace":"encoding"]:null};switch(k.compression){case"NO_COMPRESSION":se.lines=1,se.uncompress=De;break;case"RLE_COMPRESSION":se.lines=1,se.uncompress=Ie;break;case"ZIPS_COMPRESSION":se.lines=1,se.uncompress=Pe;break;case"ZIP_COMPRESSION":se.lines=16,se.uncompress=Pe;break;case"PIZ_COMPRESSION":se.lines=32,se.uncompress=St;break;case"PXR24_COMPRESSION":se.lines=16,se.uncompress=Oe;break;case"DWAA_COMPRESSION":se.lines=32,se.uncompress=He;break;case"DWAB_COMPRESSION":se.lines=256,se.uncompress=He;break;default:throw"EXRLoader.parse: "+k.compression+" is unsupported"}if(se.scanlineBlockSize=se.lines,se.type==1)switch(le){case Bi:se.getter=cn,se.inputSize=2;break;case Yr:se.getter=lt,se.inputSize=2;break}else if(se.type==2)switch(le){case Bi:se.getter=Te,se.inputSize=4;break;case Yr:se.getter=Ve,se.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+se.type+" for "+k.compression+".";se.blockCount=(k.dataWindow.yMax+1)/se.scanlineBlockSize;for(var Se=0;Se<se.blockCount;Se++)pe(P,ne);se.outputChannels=se.channels==3?4:se.channels;const ge=se.width*se.height*se.outputChannels;switch(le){case Bi:se.byteArray=new Float32Array(ge),se.channels<se.outputChannels&&se.byteArray.fill(1,0,ge);break;case Yr:se.byteArray=new Uint16Array(ge),se.channels<se.outputChannels&&se.byteArray.fill(15360,0,ge);break;default:console.error("THREE.EXRLoader: unsupported type: ",le);break}return se.bytesPerLine=se.width*se.inputSize*se.channels,se.outputChannels==4?se.format=oa:se.format=AS,ns?se.colorSpace="srgb-linear":se.encoding=3e3,se}const jn=new DataView(e),qn=new Uint8Array(e),Gn={value:0},_n=qt(jn,e,Gn),at=Jn(_n,jn,qn,Gn,this.type),mn={value:0},$r={R:0,G:1,B:2,A:3,Y:0};for(let k=0;k<at.height/at.scanlineBlockSize;k++){const P=Ke(jn,Gn);at.size=Ke(jn,Gn),at.lines=P+at.scanlineBlockSize>at.height?at.height-P:at.scanlineBlockSize;const ne=at.size<at.lines*at.bytesPerLine?at.uncompress(at):De(at);Gn.value+=at.size;for(let le=0;le<at.scanlineBlockSize;le++){const se=le+k*at.scanlineBlockSize;if(se>=at.height)break;for(let Se=0;Se<at.channels;Se++){const ge=$r[_n.channels[Se].name];for(let Ee=0;Ee<at.width;Ee++){mn.value=(le*(at.channels*at.width)+Se*at.width+Ee)*at.inputSize;const xe=(at.height-1-se)*(at.width*at.outputChannels)+Ee*at.outputChannels+ge;at.byteArray[xe]=at.getter(ne,mn)}}}}return{header:_n,width:at.width,height:at.height,data:at.byteArray,format:at.format,[ns?"colorSpace":"encoding"]:at[ns?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(s,u){ns?s.colorSpace=u.colorSpace:s.encoding=u.encoding,s.minFilter=Xr,s.magFilter=Xr,s.generateMipmaps=!1,s.flipY=!1,n&&n(s,u)}return super.load(e,o,r,i)}}const X1=new js,ac=new wt;class _v extends wg{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],n=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new o0(e,3)),this.setAttribute("uv",new o0(n,2))}applyMatrix4(e){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(e),r.applyMatrix4(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const r=new pp(n,6,1);return this.setAttribute("instanceStart",new Nl(r,3,0)),this.setAttribute("instanceEnd",new Nl(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,n=3){let r;e instanceof Float32Array?r=e:Array.isArray(e)&&(r=new Float32Array(e));const i=new pp(r,n*2,1);return this.setAttribute("instanceColorStart",new Nl(i,n,0)),this.setAttribute("instanceColorEnd",new Nl(i,n,n)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new IS(e.geometry)),this}fromLineSegments(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new js);const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;e!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(e),X1.setFromBufferAttribute(n),this.boundingBox.union(X1))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _h),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(e!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)ac.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(ac)),ac.fromBufferAttribute(n,o),i=Math.max(i,r.distanceToSquared(ac));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class xw extends _v{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const n=e.length-3,r=new Float32Array(2*n);for(let i=0;i<n;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return super.setPositions(r),this}setColors(e,n=3){const r=e.length-n,i=new Float32Array(2*r);if(n===3)for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5];else for(let o=0;o<r;o+=n)i[2*o]=e[o],i[2*o+1]=e[o+1],i[2*o+2]=e[o+2],i[2*o+3]=e[o+3],i[2*o+4]=e[o+4],i[2*o+5]=e[o+5],i[2*o+6]=e[o+6],i[2*o+7]=e[o+7];return super.setColors(i,n),this}fromLine(e){const n=e.geometry;return this.setPositions(n.attributes.position.array),this}}class Ev extends rl{constructor(e){super({type:"LineMaterial",uniforms:hp.clone(hp.merge([l0.common,l0.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new wn(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${kf>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(n){this.uniforms.diffuse.value=n}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(n){n===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(n){this.uniforms.linewidth.value=n}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(n){!!n!="USE_DASH"in this.defines&&(this.needsUpdate=!0),n===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(n){this.uniforms.dashScale.value=n}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(n){this.uniforms.dashSize.value=n}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(n){this.uniforms.dashOffset.value=n}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(n){this.uniforms.gapSize.value=n}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(n){this.uniforms.resolution.value.copy(n)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(n){!!n!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),n===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const lp=new Eo,Z1=new wt,K1=new wt,An=new Eo,In=new Eo,gi=new Eo,ap=new wt,sp=new Sg,Nn=new FS,J1=new wt,sc=new js,uc=new _h,yi=new Eo;let _i,tl;function q1(t,e,n){return yi.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),yi.multiplyScalar(1/yi.w),yi.x=tl/n.width,yi.y=tl/n.height,yi.applyMatrix4(t.projectionMatrixInverse),yi.multiplyScalar(1/yi.w),Math.abs(Math.max(yi.x,yi.y))}function Kk(t,e){const n=t.matrixWorld,r=t.geometry,i=r.attributes.instanceStart,o=r.attributes.instanceEnd,s=Math.min(r.instanceCount,i.count);for(let u=0,c=s;u<c;u++){Nn.start.fromBufferAttribute(i,u),Nn.end.fromBufferAttribute(o,u),Nn.applyMatrix4(n);const d=new wt,p=new wt;_i.distanceSqToSegment(Nn.start,Nn.end,p,d),p.distanceTo(d)<tl*.5&&e.push({point:p,pointOnLine:d,distance:_i.origin.distanceTo(p),object:t,face:null,faceIndex:u,uv:null,[mw]:null})}}function Jk(t,e,n){const r=e.projectionMatrix,o=t.material.resolution,s=t.matrixWorld,u=t.geometry,c=u.attributes.instanceStart,d=u.attributes.instanceEnd,p=Math.min(u.instanceCount,c.count),v=-e.near;_i.at(1,gi),gi.w=1,gi.applyMatrix4(e.matrixWorldInverse),gi.applyMatrix4(r),gi.multiplyScalar(1/gi.w),gi.x*=o.x/2,gi.y*=o.y/2,gi.z=0,ap.copy(gi),sp.multiplyMatrices(e.matrixWorldInverse,s);for(let g=0,y=p;g<y;g++){if(An.fromBufferAttribute(c,g),In.fromBufferAttribute(d,g),An.w=1,In.w=1,An.applyMatrix4(sp),In.applyMatrix4(sp),An.z>v&&In.z>v)continue;if(An.z>v){const E=An.z-In.z,M=(An.z-v)/E;An.lerp(In,M)}else if(In.z>v){const E=In.z-An.z,M=(In.z-v)/E;In.lerp(An,M)}An.applyMatrix4(r),In.applyMatrix4(r),An.multiplyScalar(1/An.w),In.multiplyScalar(1/In.w),An.x*=o.x/2,An.y*=o.y/2,In.x*=o.x/2,In.y*=o.y/2,Nn.start.copy(An),Nn.start.z=0,Nn.end.copy(In),Nn.end.z=0;const C=Nn.closestPointToPointParameter(ap,!0);Nn.at(C,J1);const T=OS.lerp(An.z,In.z,C),_=T>=-1&&T<=1,w=ap.distanceTo(J1)<tl*.5;if(_&&w){Nn.start.fromBufferAttribute(c,g),Nn.end.fromBufferAttribute(d,g),Nn.start.applyMatrix4(s),Nn.end.applyMatrix4(s);const E=new wt,M=new wt;_i.distanceSqToSegment(Nn.start,Nn.end,M,E),n.push({point:M,pointOnLine:E,distance:_i.origin.distanceTo(M),object:t,face:null,faceIndex:g,uv:null,[mw]:null})}}}class kw extends Co{constructor(e=new _v,n=new Ev({color:Math.random()*16777215})){super(e,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,n=e.attributes.instanceStart,r=e.attributes.instanceEnd,i=new Float32Array(2*n.count);for(let s=0,u=0,c=n.count;s<c;s++,u+=2)Z1.fromBufferAttribute(n,s),K1.fromBufferAttribute(r,s),i[u]=u===0?0:i[u-1],i[u+1]=i[u]+Z1.distanceTo(K1);const o=new pp(i,2,1);return e.setAttribute("instanceDistanceStart",new Nl(o,1,0)),e.setAttribute("instanceDistanceEnd",new Nl(o,1,1)),this}raycast(e,n){const r=this.material.worldUnits,i=e.camera;i===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const o=e.params.Line2!==void 0&&e.params.Line2.threshold||0;_i=e.ray;const s=this.matrixWorld,u=this.geometry,c=this.material;tl=c.linewidth+o,u.boundingSphere===null&&u.computeBoundingSphere(),uc.copy(u.boundingSphere).applyMatrix4(s);let d;if(r)d=tl*.5;else{const v=Math.max(i.near,uc.distanceToPoint(_i.origin));d=q1(i,v,c.resolution)}if(uc.radius+=d,_i.intersectsSphere(uc)===!1)return;u.boundingBox===null&&u.computeBoundingBox(),sc.copy(u.boundingBox).applyMatrix4(s);let p;if(r)p=tl*.5;else{const v=Math.max(i.near,sc.distanceToPoint(_i.origin));p=q1(i,v,c.resolution)}sc.expandByScalar(p),_i.intersectsBox(sc)!==!1&&(r?Kk(this,n):Jk(this,i,n))}onBeforeRender(e){const n=this.material.uniforms;n&&n.resolution&&(e.getViewport(lp),this.material.uniforms.resolution.value.set(lp.z,lp.w))}}class qk extends kw{constructor(e=new xw,n=new Ev({color:Math.random()*16777215})){super(e,n),this.isLine2=!0,this.type="Line2"}}const PC=K.forwardRef(function({points:e,color:n=16777215,vertexColors:r,linewidth:i,lineWidth:o,segments:s,dashed:u,...c},d){var p,v;const g=kn(_=>_.size),y=K.useMemo(()=>s?new kw:new qk,[s]),[x]=K.useState(()=>new Ev),C=(r==null||(p=r[0])==null?void 0:p.length)===4?4:3,T=K.useMemo(()=>{const _=s?new _v:new xw,w=e.map(E=>{const M=Array.isArray(E);return E instanceof wt||E instanceof Eo?[E.x,E.y,E.z]:E instanceof wn?[E.x,E.y,0]:M&&E.length===3?[E[0],E[1],E[2]]:M&&E.length===2?[E[0],E[1],0]:E});if(_.setPositions(w.flat()),r){n=16777215;const E=r.map(M=>M instanceof ul?M.toArray():M);_.setColors(E.flat(),C)}return _},[e,s,r,C]);return K.useLayoutEffect(()=>{y.computeLineDistances()},[e,y]),K.useLayoutEffect(()=>{u?x.defines.USE_DASH="":delete x.defines.USE_DASH,x.needsUpdate=!0},[u,x]),K.useEffect(()=>()=>{T.dispose(),x.dispose()},[T]),K.createElement("primitive",ki({object:y,ref:d},c),K.createElement("primitive",{object:T,attach:"geometry"}),K.createElement("primitive",ki({object:x,attach:"material",color:n,vertexColors:!!r,resolution:[g.width,g.height],linewidth:(v=i??o)!==null&&v!==void 0?v:1,dashed:u,transparent:C===4},c)))});function $k(){var t=Object.create(null);function e(i,o){var s=i.id,u=i.name,c=i.dependencies;c===void 0&&(c=[]);var d=i.init;d===void 0&&(d=function(){});var p=i.getTransferables;if(p===void 0&&(p=null),!t[s])try{c=c.map(function(g){return g&&g.isWorkerModule&&(e(g,function(y){if(y instanceof Error)throw y}),g=t[g.id].value),g}),d=r("<"+u+">.init",d),p&&(p=r("<"+u+">.getTransferables",p));var v=null;typeof d=="function"?v=d.apply(void 0,c):console.error("worker module init function failed to rehydrate"),t[s]={id:s,value:v,getTransferables:p},o(v)}catch(g){g&&g.noLog||console.error(g),o(g)}}function n(i,o){var s,u=i.id,c=i.args;(!t[u]||typeof t[u].value!="function")&&o(new Error("Worker module "+u+": not found or its 'init' did not return a function"));try{var d=(s=t[u]).value.apply(s,c);d&&typeof d.then=="function"?d.then(p,function(v){return o(v instanceof Error?v:new Error(""+v))}):p(d)}catch(v){o(v)}function p(v){try{var g=t[u].getTransferables&&t[u].getTransferables(v);(!g||!Array.isArray(g)||!g.length)&&(g=void 0),o(v,g)}catch(y){console.error(y),o(y)}}}function r(i,o){var s=void 0;self.troikaDefine=function(c){return s=c};var u=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+o+`
)`],{type:"application/javascript"}));try{importScripts(u)}catch(c){console.error(c)}return URL.revokeObjectURL(u),delete self.troikaDefine,s}self.addEventListener("message",function(i){var o=i.data,s=o.messageId,u=o.action,c=o.data;try{u==="registerModule"&&e(c,function(d){d instanceof Error?postMessage({messageId:s,success:!1,error:d.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof d=="function"}})}),u==="callModule"&&n(c,function(d,p){d instanceof Error?postMessage({messageId:s,success:!1,error:d.message}):postMessage({messageId:s,success:!0,result:d},p||void 0)})}catch(d){postMessage({messageId:s,success:!1,error:d.stack})}})}function e4(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(o){return o&&(o=o.onMainThread||o,o._getInitResult&&(o=o._getInitResult())),o}):[];var i=Promise.all(n).then(function(o){return r.apply(null,o)});return e._getInitResult=function(){return i},i},e}var Cw=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return Cw=function(){return t},t},t4=0,n4=0,up=!1,ws=Object.create(null),Ss=Object.create(null),vh=Object.create(null);function Sa(t){if((!t||typeof t.init!="function")&&!up)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,o=e4(t);i==null&&(i="#default");var s="workerModule"+ ++t4,u=t.name||s,c=null;e=e&&e.map(function(p){return typeof p=="function"&&!p.workerModuleData&&(up=!0,p=Sa({workerId:i,name:"<"+u+"> function dependency: "+p.name,init:`function(){return (
`+Uc(p)+`
)}`}),up=!1),p&&p.workerModuleData&&(p=p.workerModuleData),p});function d(){for(var p=[],v=arguments.length;v--;)p[v]=arguments[v];if(!Cw())return o.apply(void 0,p);if(!c){c=$1(i,"registerModule",d.workerModuleData);var g=function(){c=null,Ss[i].delete(g)};(Ss[i]||(Ss[i]=new Set)).add(g)}return c.then(function(y){var x=y.isCallable;if(x)return $1(i,"callModule",{id:s,args:p});throw new Error("Worker module function was called but `init` did not return a callable function")})}return d.workerModuleData={isWorkerModule:!0,id:s,name:u,dependencies:e,init:Uc(n),getTransferables:r&&Uc(r)},d.onMainThread=o,d}function r4(t){Ss[t]&&Ss[t].forEach(function(e){e()}),ws[t]&&(ws[t].terminate(),delete ws[t])}function Uc(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function i4(t){var e=ws[t];if(!e){var n=Uc($k);e=ws[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,o=i.messageId,s=vh[o];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete vh[o],s(i)}}return e}function $1(t,e,n){return new Promise(function(r,i){var o=++n4;vh[o]=function(s){s.success?r(s.result):i(new Error("Error in worker "+e+" call: "+s.error))},i4(t).postMessage({messageId:o,action:e,data:n})})}function Tw(){var t=function(e){function n(G,O,L,B,V,$,J,ee){var oe=1-J;ee.x=oe*oe*G+2*oe*J*L+J*J*V,ee.y=oe*oe*O+2*oe*J*B+J*J*$}function r(G,O,L,B,V,$,J,ee,oe,de){var Me=1-oe;de.x=Me*Me*Me*G+3*Me*Me*oe*L+3*Me*oe*oe*V+oe*oe*oe*J,de.y=Me*Me*Me*O+3*Me*Me*oe*B+3*Me*oe*oe*$+oe*oe*oe*ee}function i(G,O){for(var L=/([MLQCZ])([^MLQCZ]*)/g,B,V,$,J,ee;B=L.exec(G);){var oe=B[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(de){return parseFloat(de)});switch(B[1]){case"M":J=V=oe[0],ee=$=oe[1];break;case"L":(oe[0]!==J||oe[1]!==ee)&&O("L",J,ee,J=oe[0],ee=oe[1]);break;case"Q":{O("Q",J,ee,J=oe[2],ee=oe[3],oe[0],oe[1]);break}case"C":{O("C",J,ee,J=oe[4],ee=oe[5],oe[0],oe[1],oe[2],oe[3]);break}case"Z":(J!==V||ee!==$)&&O("L",J,ee,V,$);break}}}function o(G,O,L){L===void 0&&(L=16);var B={x:0,y:0};i(G,function(V,$,J,ee,oe,de,Me,Ce,fe){switch(V){case"L":O($,J,ee,oe);break;case"Q":{for(var he=$,Fe=J,be=1;be<L;be++)n($,J,de,Me,ee,oe,be/(L-1),B),O(he,Fe,B.x,B.y),he=B.x,Fe=B.y;break}case"C":{for(var Ue=$,je=J,ze=1;ze<L;ze++)r($,J,de,Me,Ce,fe,ee,oe,ze/(L-1),B),O(Ue,je,B.x,B.y),Ue=B.x,je=B.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",u="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",c=new WeakMap,d={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function p(G,O){var L=G.getContext?G.getContext("webgl",d):G,B=c.get(L);if(!B){let Me=function(Ue){var je=$[Ue];if(!je&&(je=$[Ue]=L.getExtension(Ue),!je))throw new Error(Ue+" not supported");return je},Ce=function(Ue,je){var ze=L.createShader(je);return L.shaderSource(ze,Ue),L.compileShader(ze),ze},fe=function(Ue,je,ze,ye){if(!J[Ue]){var Ne={},Le={},ve=L.createProgram();L.attachShader(ve,Ce(je,L.VERTEX_SHADER)),L.attachShader(ve,Ce(ze,L.FRAGMENT_SHADER)),L.linkProgram(ve),J[Ue]={program:ve,transaction:function(De){L.useProgram(ve),De({setUniform:function(Pe,St){for(var Oe=[],He=arguments.length-2;He-- >0;)Oe[He]=arguments[He+2];var Xe=Le[St]||(Le[St]=L.getUniformLocation(ve,St));L["uniform"+Pe].apply(L,[Xe].concat(Oe))},setAttribute:function(Pe,St,Oe,He,Xe){var it=Ne[Pe];it||(it=Ne[Pe]={buf:L.createBuffer(),loc:L.getAttribLocation(ve,Pe),data:null}),L.bindBuffer(L.ARRAY_BUFFER,it.buf),L.vertexAttribPointer(it.loc,St,L.FLOAT,!1,0,0),L.enableVertexAttribArray(it.loc),V?L.vertexAttribDivisor(it.loc,He):Me("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(it.loc,He),Xe!==it.data&&(L.bufferData(L.ARRAY_BUFFER,Xe,Oe),it.data=Xe)}})}}}J[Ue].transaction(ye)},he=function(Ue,je){oe++;try{L.activeTexture(L.TEXTURE0+oe);var ze=ee[Ue];ze||(ze=ee[Ue]=L.createTexture(),L.bindTexture(L.TEXTURE_2D,ze),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST)),L.bindTexture(L.TEXTURE_2D,ze),je(ze,oe)}finally{oe--}},Fe=function(Ue,je,ze){var ye=L.createFramebuffer();de.push(ye),L.bindFramebuffer(L.FRAMEBUFFER,ye),L.activeTexture(L.TEXTURE0+je),L.bindTexture(L.TEXTURE_2D,Ue),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,Ue,0);try{ze(ye)}finally{L.deleteFramebuffer(ye),L.bindFramebuffer(L.FRAMEBUFFER,de[--de.length-1]||null)}},be=function(){$={},J={},ee={},oe=-1,de.length=0};var V=typeof WebGL2RenderingContext<"u"&&L instanceof WebGL2RenderingContext,$={},J={},ee={},oe=-1,de=[];L.canvas.addEventListener("webglcontextlost",function(Ue){be(),Ue.preventDefault()},!1),c.set(L,B={gl:L,isWebGL2:V,getExtension:Me,withProgram:fe,withTexture:he,withTextureFramebuffer:Fe,handleContextLoss:be})}O(B)}function v(G,O,L,B,V,$,J,ee){J===void 0&&(J=15),ee===void 0&&(ee=null),p(G,function(oe){var de=oe.gl,Me=oe.withProgram,Ce=oe.withTexture;Ce("copy",function(fe,he){de.texImage2D(de.TEXTURE_2D,0,de.RGBA,V,$,0,de.RGBA,de.UNSIGNED_BYTE,O),Me("copy",s,u,function(Fe){var be=Fe.setUniform,Ue=Fe.setAttribute;Ue("aUV",2,de.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),be("1i","image",he),de.bindFramebuffer(de.FRAMEBUFFER,ee||null),de.disable(de.BLEND),de.colorMask(J&8,J&4,J&2,J&1),de.viewport(L,B,V,$),de.scissor(L,B,V,$),de.drawArrays(de.TRIANGLES,0,3)})})})}function g(G,O,L){var B=G.width,V=G.height;p(G,function($){var J=$.gl,ee=new Uint8Array(B*V*4);J.readPixels(0,0,B,V,J.RGBA,J.UNSIGNED_BYTE,ee),G.width=O,G.height=L,v(J,ee,0,0,B,V)})}var y=Object.freeze({__proto__:null,withWebGLContext:p,renderImageData:v,resizeWebGLCanvasWithoutClearing:g});function x(G,O,L,B,V,$){$===void 0&&($=1);var J=new Uint8Array(G*O),ee=B[2]-B[0],oe=B[3]-B[1],de=[];o(L,function(Ue,je,ze,ye){de.push({x1:Ue,y1:je,x2:ze,y2:ye,minX:Math.min(Ue,ze),minY:Math.min(je,ye),maxX:Math.max(Ue,ze),maxY:Math.max(je,ye)})}),de.sort(function(Ue,je){return Ue.maxX-je.maxX});for(var Me=0;Me<G;Me++)for(var Ce=0;Ce<O;Ce++){var fe=Fe(B[0]+ee*(Me+.5)/G,B[1]+oe*(Ce+.5)/O),he=Math.pow(1-Math.abs(fe)/V,$)/2;fe<0&&(he=1-he),he=Math.max(0,Math.min(255,Math.round(he*255))),J[Ce*G+Me]=he}return J;function Fe(Ue,je){for(var ze=1/0,ye=1/0,Ne=de.length;Ne--;){var Le=de[Ne];if(Le.maxX+ye<=Ue)break;if(Ue+ye>Le.minX&&je-ye<Le.maxY&&je+ye>Le.minY){var ve=_(Ue,je,Le.x1,Le.y1,Le.x2,Le.y2);ve<ze&&(ze=ve,ye=Math.sqrt(ze))}}return be(Ue,je)&&(ye=-ye),ye}function be(Ue,je){for(var ze=0,ye=de.length;ye--;){var Ne=de[ye];if(Ne.maxX<=Ue)break;var Le=Ne.y1>je!=Ne.y2>je&&Ue<(Ne.x2-Ne.x1)*(je-Ne.y1)/(Ne.y2-Ne.y1)+Ne.x1;Le&&(ze+=Ne.y1<Ne.y2?1:-1)}return ze!==0}}function C(G,O,L,B,V,$,J,ee,oe,de){$===void 0&&($=1),ee===void 0&&(ee=0),oe===void 0&&(oe=0),de===void 0&&(de=0),T(G,O,L,B,V,$,J,null,ee,oe,de)}function T(G,O,L,B,V,$,J,ee,oe,de,Me){$===void 0&&($=1),oe===void 0&&(oe=0),de===void 0&&(de=0),Me===void 0&&(Me=0);for(var Ce=x(G,O,L,B,V,$),fe=new Uint8Array(Ce.length*4),he=0;he<Ce.length;he++)fe[he*4+Me]=Ce[he];v(J,fe,oe,de,G,O,1<<3-Me,ee)}function _(G,O,L,B,V,$){var J=V-L,ee=$-B,oe=J*J+ee*ee,de=oe?Math.max(0,Math.min(1,((G-L)*J+(O-B)*ee)/oe)):0,Me=G-(L+de*J),Ce=O-(B+de*ee);return Me*Me+Ce*Ce}var w=Object.freeze({__proto__:null,generate:x,generateIntoCanvas:C,generateIntoFramebuffer:T}),E="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",M="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",R="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",D=new Float32Array([0,0,2,0,0,2]),A=null,U=!1,N={},F=new WeakMap;function Q(G){if(!U&&!re(G))throw new Error("WebGL generation not supported")}function z(G,O,L,B,V,$,J){if($===void 0&&($=1),J===void 0&&(J=null),!J&&(J=A,!J)){var ee=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ee)throw new Error("OffscreenCanvas or DOM canvas not supported");J=A=ee.getContext("webgl",{depth:!1})}Q(J);var oe=new Uint8Array(G*O*4);p(J,function(fe){var he=fe.gl,Fe=fe.withTexture,be=fe.withTextureFramebuffer;Fe("readable",function(Ue,je){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,G,O,0,he.RGBA,he.UNSIGNED_BYTE,null),be(Ue,je,function(ze){W(G,O,L,B,V,$,he,ze,0,0,0),he.readPixels(0,0,G,O,he.RGBA,he.UNSIGNED_BYTE,oe)})})});for(var de=new Uint8Array(G*O),Me=0,Ce=0;Me<oe.length;Me+=4)de[Ce++]=oe[Me];return de}function X(G,O,L,B,V,$,J,ee,oe,de){$===void 0&&($=1),ee===void 0&&(ee=0),oe===void 0&&(oe=0),de===void 0&&(de=0),W(G,O,L,B,V,$,J,null,ee,oe,de)}function W(G,O,L,B,V,$,J,ee,oe,de,Me){$===void 0&&($=1),oe===void 0&&(oe=0),de===void 0&&(de=0),Me===void 0&&(Me=0),Q(J);var Ce=[];o(L,function(fe,he,Fe,be){Ce.push(fe,he,Fe,be)}),Ce=new Float32Array(Ce),p(J,function(fe){var he=fe.gl,Fe=fe.isWebGL2,be=fe.getExtension,Ue=fe.withProgram,je=fe.withTexture,ze=fe.withTextureFramebuffer,ye=fe.handleContextLoss;if(je("rawDistances",function(Ne,Le){(G!==Ne._lastWidth||O!==Ne._lastHeight)&&he.texImage2D(he.TEXTURE_2D,0,he.RGBA,Ne._lastWidth=G,Ne._lastHeight=O,0,he.RGBA,he.UNSIGNED_BYTE,null),Ue("main",E,M,function(ve){var tt=ve.setAttribute,De=ve.setUniform,Ie=!Fe&&be("ANGLE_instanced_arrays"),Pe=!Fe&&be("EXT_blend_minmax");tt("aUV",2,he.STATIC_DRAW,0,D),tt("aLineSegment",4,he.DYNAMIC_DRAW,1,Ce),De.apply(void 0,["4f","uGlyphBounds"].concat(B)),De("1f","uMaxDistance",V),De("1f","uExponent",$),ze(Ne,Le,function(St){he.enable(he.BLEND),he.colorMask(!0,!0,!0,!0),he.viewport(0,0,G,O),he.scissor(0,0,G,O),he.blendFunc(he.ONE,he.ONE),he.blendEquationSeparate(he.FUNC_ADD,Fe?he.MAX:Pe.MAX_EXT),he.clear(he.COLOR_BUFFER_BIT),Fe?he.drawArraysInstanced(he.TRIANGLES,0,3,Ce.length/4):Ie.drawArraysInstancedANGLE(he.TRIANGLES,0,3,Ce.length/4)})}),Ue("post",s,R,function(ve){ve.setAttribute("aUV",2,he.STATIC_DRAW,0,D),ve.setUniform("1i","tex",Le),he.bindFramebuffer(he.FRAMEBUFFER,ee),he.disable(he.BLEND),he.colorMask(Me===0,Me===1,Me===2,Me===3),he.viewport(oe,de,G,O),he.scissor(oe,de,G,O),he.drawArrays(he.TRIANGLES,0,3)})}),he.isContextLost())throw ye(),new Error("webgl context lost")})}function re(G){var O=!G||G===A?N:G.canvas||G,L=F.get(O);if(L===void 0){U=!0;var B=null;try{var V=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],$=z(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,G);L=$&&V.length===$.length&&$.every(function(J,ee){return J===V[ee]}),L||(B="bad trial run results",console.info(V,$))}catch(J){L=!1,B=J.message}B&&console.warn("WebGL SDF generation not supported:",B),U=!1,F.set(O,L)}return L}var q=Object.freeze({__proto__:null,generate:z,generateIntoCanvas:X,generateIntoFramebuffer:W,isSupported:re});function me(G,O,L,B,V,$){V===void 0&&(V=Math.max(B[2]-B[0],B[3]-B[1])/2),$===void 0&&($=1);try{return z.apply(q,arguments)}catch(J){return console.info("WebGL SDF generation failed, falling back to JS",J),x.apply(w,arguments)}}function j(G,O,L,B,V,$,J,ee,oe,de){V===void 0&&(V=Math.max(B[2]-B[0],B[3]-B[1])/2),$===void 0&&($=1),ee===void 0&&(ee=0),oe===void 0&&(oe=0),de===void 0&&(de=0);try{return X.apply(q,arguments)}catch(Me){return console.info("WebGL SDF generation failed, falling back to JS",Me),C.apply(w,arguments)}}return e.forEachPathCommand=i,e.generate=me,e.generateIntoCanvas=j,e.javascript=w,e.pathToLineSegments=o,e.webgl=q,e.webglUtils=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function o4(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(ye,Ne){r[ye]=1<<Ne+1,i[r[ye]]=ye}),Object.freeze(r);var o=r.LRI|r.RLI|r.FSI,s=r.L|r.R|r.AL,u=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,c=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,d=r.S|r.WS|r.B|o|r.PDI|c,p=null;function v(){if(!p){p=new Map;var ye=function(Le){if(n.hasOwnProperty(Le)){var ve=0;n[Le].split(",").forEach(function(tt){var De=tt.split("+"),Ie=De[0],Pe=De[1];Ie=parseInt(Ie,36),Pe=Pe?parseInt(Pe,36):0,p.set(ve+=Ie,r[Le]);for(var St=0;St<Pe;St++)p.set(++ve,r[Le])})}};for(var Ne in n)ye(Ne)}}function g(ye){return v(),p.get(ye.codePointAt(0))||r.L}function y(ye){return i[g(ye)]}var x={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function C(ye,Ne){var Le=36,ve=0,tt=new Map,De=Ne&&new Map,Ie;return ye.split(",").forEach(function Pe(St){if(St.indexOf("+")!==-1)for(var Oe=+St;Oe--;)Pe(Ie);else{Ie=St;var He=St.split(">"),Xe=He[0],it=He[1];Xe=String.fromCodePoint(ve+=parseInt(Xe,Le)),it=String.fromCodePoint(ve+=parseInt(it,Le)),tt.set(Xe,it),Ne&&De.set(it,Xe)}}),{map:tt,reverseMap:De}}var T,_,w;function E(){if(!T){var ye=C(x.pairs,!0),Ne=ye.map,Le=ye.reverseMap;T=Ne,_=Le,w=C(x.canonical,!1).map}}function M(ye){return E(),T.get(ye)||null}function R(ye){return E(),_.get(ye)||null}function D(ye){return E(),w.get(ye)||null}var A=r.L,U=r.R,N=r.EN,F=r.ES,Q=r.ET,z=r.AN,X=r.CS,W=r.B,re=r.S,q=r.ON,me=r.BN,j=r.NSM,G=r.AL,O=r.LRO,L=r.RLO,B=r.LRE,V=r.RLE,$=r.PDF,J=r.LRI,ee=r.RLI,oe=r.FSI,de=r.PDI;function Me(ye,Ne){for(var Le=125,ve=new Uint32Array(ye.length),tt=0;tt<ye.length;tt++)ve[tt]=g(ye[tt]);var De=new Map;function Ie(Mn,nr){var dn=ve[Mn];ve[Mn]=nr,De.set(dn,De.get(dn)-1),dn&u&&De.set(u,De.get(u)-1),De.set(nr,(De.get(nr)||0)+1),nr&u&&De.set(u,(De.get(u)||0)+1)}for(var Pe=new Uint8Array(ye.length),St=new Map,Oe=[],He=null,Xe=0;Xe<ye.length;Xe++)He||Oe.push(He={start:Xe,end:ye.length-1,level:Ne==="rtl"?1:Ne==="ltr"?0:ml(Xe,!1)}),ve[Xe]&W&&(He.end=Xe,He=null);for(var it=V|B|L|O|o|de|$|W,Ut=function(Mn){return Mn+(Mn&1?1:2)},Ft=function(Mn){return Mn+(Mn&1?2:1)},ot=0;ot<Oe.length;ot++){He=Oe[ot];var Ke=[{_level:He.level,_override:0,_isolate:0}],Ye=void 0,b=0,pe=0,Te=0;De.clear();for(var Ve=He.start;Ve<=He.end;Ve++){var ue=ve[Ve];if(Ye=Ke[Ke.length-1],De.set(ue,(De.get(ue)||0)+1),ue&u&&De.set(u,(De.get(u)||0)+1),ue&it)if(ue&(V|B)){Pe[Ve]=Ye._level;var lt=(ue===V?Ft:Ut)(Ye._level);lt<=Le&&!b&&!pe?Ke.push({_level:lt,_override:0,_isolate:0}):b||pe++}else if(ue&(L|O)){Pe[Ve]=Ye._level;var cn=(ue===L?Ft:Ut)(Ye._level);cn<=Le&&!b&&!pe?Ke.push({_level:cn,_override:ue&L?U:A,_isolate:0}):b||pe++}else if(ue&o){ue&oe&&(ue=ml(Ve+1,!0)===1?ee:J),Pe[Ve]=Ye._level,Ye._override&&Ie(Ve,Ye._override);var Dt=(ue===ee?Ft:Ut)(Ye._level);Dt<=Le&&b===0&&pe===0?(Te++,Ke.push({_level:Dt,_override:0,_isolate:1,_isolInitIndex:Ve})):b++}else if(ue&de){if(b>0)b--;else if(Te>0){for(pe=0;!Ke[Ke.length-1]._isolate;)Ke.pop();var ct=Ke[Ke.length-1]._isolInitIndex;ct!=null&&(St.set(ct,Ve),St.set(Ve,ct)),Ke.pop(),Te--}Ye=Ke[Ke.length-1],Pe[Ve]=Ye._level,Ye._override&&Ie(Ve,Ye._override)}else ue&$?(b===0&&(pe>0?pe--:!Ye._isolate&&Ke.length>1&&(Ke.pop(),Ye=Ke[Ke.length-1])),Pe[Ve]=Ye._level):ue&W&&(Pe[Ve]=He.level);else Pe[Ve]=Ye._level,Ye._override&&ue!==me&&Ie(Ve,Ye._override)}for(var Ct=[],_t=null,qe=He.start;qe<=He.end;qe++){var Tt=ve[qe];if(!(Tt&c)){var jt=Pe[qe],bt=Tt&o,qt=Tt===de;_t&&jt===_t._level?(_t._end=qe,_t._endsWithIsolInit=bt):Ct.push(_t={_start:qe,_end:qe,_level:jt,_startsWithPDI:qt,_endsWithIsolInit:bt})}}for(var Jn=[],jn=0;jn<Ct.length;jn++){var qn=Ct[jn];if(!qn._startsWithPDI||qn._startsWithPDI&&!St.has(qn._start)){for(var Gn=[_t=qn],_n=void 0;_t&&_t._endsWithIsolInit&&(_n=St.get(_t._end))!=null;)for(var at=jn+1;at<Ct.length;at++)if(Ct[at]._start===_n){Gn.push(_t=Ct[at]);break}for(var mn=[],$r=0;$r<Gn.length;$r++)for(var k=Gn[$r],P=k._start;P<=k._end;P++)mn.push(P);for(var H=Pe[mn[0]],ne=He.level,le=mn[0]-1;le>=0;le--)if(!(ve[le]&c)){ne=Pe[le];break}var se=mn[mn.length-1],Se=Pe[se],ge=He.level;if(!(ve[se]&o)){for(var Ee=se+1;Ee<=He.end;Ee++)if(!(ve[Ee]&c)){ge=Pe[Ee];break}}Jn.push({_seqIndices:mn,_sosType:Math.max(ne,H)%2?U:A,_eosType:Math.max(ge,Se)%2?U:A})}}for(var xe=0;xe<Jn.length;xe++){var ke=Jn[xe],ie=ke._seqIndices,Mt=ke._sosType,Qe=ke._eosType,We=Pe[ie[0]]&1?U:A;if(De.get(j))for(var rt=0;rt<ie.length;rt++){var st=ie[rt];if(ve[st]&j){for(var Et=Mt,vt=rt-1;vt>=0;vt--)if(!(ve[ie[vt]]&c)){Et=ve[ie[vt]];break}Ie(st,Et&(o|de)?q:Et)}}if(De.get(N))for(var nt=0;nt<ie.length;nt++){var ut=ie[nt];if(ve[ut]&N)for(var mt=nt-1;mt>=-1;mt--){var Ot=mt===-1?Mt:ve[ie[mt]];if(Ot&s){Ot===G&&Ie(ut,z);break}}}if(De.get(G))for(var ft=0;ft<ie.length;ft++){var Nt=ie[ft];ve[Nt]&G&&Ie(Nt,U)}if(De.get(F)||De.get(X))for(var an=1;an<ie.length-1;an++){var Xt=ie[an];if(ve[Xt]&(F|X)){for(var Zt=0,Pt=0,$t=an-1;$t>=0&&(Zt=ve[ie[$t]],!!(Zt&c));$t--);for(var Rt=an+1;Rt<ie.length&&(Pt=ve[ie[Rt]],!!(Pt&c));Rt++);Zt===Pt&&(ve[Xt]===F?Zt===N:Zt&(N|z))&&Ie(Xt,Zt)}}if(De.get(N))for(var dt=0;dt<ie.length;dt++){var Gt=ie[dt];if(ve[Gt]&N){for(var cr=dt-1;cr>=0&&ve[ie[cr]]&(Q|c);cr--)Ie(ie[cr],N);for(dt++;dt<ie.length&&ve[ie[dt]]&(Q|c|N);dt++)ve[ie[dt]]!==N&&Ie(ie[dt],N)}}if(De.get(Q)||De.get(F)||De.get(X))for(var fn=0;fn<ie.length;fn++){var _r=ie[fn];if(ve[_r]&(Q|F|X)){Ie(_r,q);for(var Ci=fn-1;Ci>=0&&ve[ie[Ci]]&c;Ci--)Ie(ie[Ci],q);for(var Ti=fn+1;Ti<ie.length&&ve[ie[Ti]]&c;Ti++)Ie(ie[Ti],q)}}if(De.get(N))for(var Mi=0,Uo=Mt;Mi<ie.length;Mi++){var Js=ie[Mi],_a=ve[Js];_a&N?Uo===A&&Ie(Js,A):_a&s&&(Uo=_a)}if(De.get(u)){var Pi=U|N|z,pl=Pi|A,ci=[];{for(var Qi=[],fi=0;fi<ie.length;fi++)if(ve[ie[fi]]&u){var xt=ye[ie[fi]],Ea=void 0;if(M(xt)!==null)if(Qi.length<63)Qi.push({char:xt,seqIndex:fi});else break;else if((Ea=R(xt))!==null)for(var Ui=Qi.length-1;Ui>=0;Ui--){var hl=Qi[Ui].char;if(hl===Ea||hl===R(D(xt))||M(D(hl))===xt){ci.push([Qi[Ui].seqIndex,fi]),Qi.length=Ui;break}}}ci.sort(function(Mn,nr){return Mn[0]-nr[0]})}for(var xa=0;xa<ci.length;xa++){for(var qs=ci[xa],en=qs[0],Do=qs[1],$s=!1,$n=0,ka=en+1;ka<Do;ka++){var Ro=ie[ka];if(ve[Ro]&pl){$s=!0;var Er=ve[Ro]&Pi?U:A;if(Er===We){$n=Er;break}}}if($s&&!$n){$n=Mt;for(var Ca=en-1;Ca>=0;Ca--){var eu=ie[Ca];if(ve[eu]&pl){var xr=ve[eu]&Pi?U:A;xr!==We?$n=xr:$n=We;break}}}if($n){if(ve[ie[en]]=ve[ie[Do]]=$n,$n!==We){for(var er=en+1;er<ie.length;er++)if(!(ve[ie[er]]&c)){g(ye[ie[er]])&j&&(ve[ie[er]]=$n);break}}if($n!==We){for(var di=Do+1;di<ie.length;di++)if(!(ve[ie[di]]&c)){g(ye[ie[di]])&j&&(ve[ie[di]]=$n);break}}}}for(var Or=0;Or<ie.length;Or++)if(ve[ie[Or]]&u){for(var Ta=Or,Ma=Or,fr=Mt,Lo=Or-1;Lo>=0;Lo--)if(ve[ie[Lo]]&c)Ta=Lo;else{fr=ve[ie[Lo]]&Pi?U:A;break}for(var Ao=Qe,Io=Or+1;Io<ie.length;Io++)if(ve[ie[Io]]&(u|c))Ma=Io;else{Ao=ve[ie[Io]]&Pi?U:A;break}for(var tr=Ta;tr<=Ma;tr++)ve[ie[tr]]=fr===Ao?fr:We;Or=Ma}}}for(var Tn=He.start;Tn<=He.end;Tn++){var vl=Pe[Tn],ei=ve[Tn];if(vl&1?ei&(A|N|z)&&Pe[Tn]++:ei&U?Pe[Tn]++:ei&(z|N)&&(Pe[Tn]+=2),ei&c&&(Pe[Tn]=Tn===0?He.level:Pe[Tn-1]),Tn===He.end||g(ye[Tn])&(re|W))for(var Yi=Tn;Yi>=0&&g(ye[Yi])&d;Yi--)Pe[Yi]=He.level}}return{levels:Pe,paragraphs:Oe};function ml(Mn,nr){for(var dn=Mn;dn<ye.length;dn++){var pn=ve[dn];if(pn&(U|G))return 1;if(pn&(W|A)||nr&&pn===de)return 0;if(pn&o){var kr=tu(dn);dn=kr===-1?ye.length:kr}}return 0}function tu(Mn){for(var nr=1,dn=Mn+1;dn<ye.length;dn++){var pn=ve[dn];if(pn&W)break;if(pn&de){if(--nr===0)return dn}else pn&o&&nr++}return-1}}var Ce="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",fe;function he(){if(!fe){var ye=C(Ce,!0),Ne=ye.map,Le=ye.reverseMap;Le.forEach(function(ve,tt){Ne.set(tt,ve)}),fe=Ne}}function Fe(ye){return he(),fe.get(ye)||null}function be(ye,Ne,Le,ve){var tt=ye.length;Le=Math.max(0,Le==null?0:+Le),ve=Math.min(tt-1,ve==null?tt-1:+ve);for(var De=new Map,Ie=Le;Ie<=ve;Ie++)if(Ne[Ie]&1){var Pe=Fe(ye[Ie]);Pe!==null&&De.set(Ie,Pe)}return De}function Ue(ye,Ne,Le,ve){var tt=ye.length;Le=Math.max(0,Le==null?0:+Le),ve=Math.min(tt-1,ve==null?tt-1:+ve);var De=[];return Ne.paragraphs.forEach(function(Ie){var Pe=Math.max(Le,Ie.start),St=Math.min(ve,Ie.end);if(Pe<St){for(var Oe=Ne.levels.slice(Pe,St+1),He=St;He>=Pe&&g(ye[He])&d;He--)Oe[He]=Ie.level;for(var Xe=Ie.level,it=1/0,Ut=0;Ut<Oe.length;Ut++){var Ft=Oe[Ut];Ft>Xe&&(Xe=Ft),Ft<it&&(it=Ft|1)}for(var ot=Xe;ot>=it;ot--)for(var Ke=0;Ke<Oe.length;Ke++)if(Oe[Ke]>=ot){for(var Ye=Ke;Ke+1<Oe.length&&Oe[Ke+1]>=ot;)Ke++;Ke>Ye&&De.push([Ye+Pe,Ke+Pe])}}}),De}function je(ye,Ne,Le,ve){var tt=ze(ye,Ne,Le,ve),De=[].concat(ye);return tt.forEach(function(Ie,Pe){De[Pe]=(Ne.levels[Ie]&1?Fe(ye[Ie]):null)||ye[Ie]}),De.join("")}function ze(ye,Ne,Le,ve){for(var tt=Ue(ye,Ne,Le,ve),De=[],Ie=0;Ie<ye.length;Ie++)De[Ie]=Ie;return tt.forEach(function(Pe){for(var St=Pe[0],Oe=Pe[1],He=De.slice(St,Oe+1),Xe=He.length;Xe--;)De[Oe-Xe]=He[Xe]}),De}return e.closingToOpeningBracket=R,e.getBidiCharType=g,e.getBidiCharTypeName=y,e.getCanonicalBracket=D,e.getEmbeddingLevels=Me,e.getMirroredCharacter=Fe,e.getMirroredCharactersMap=be,e.getReorderSegments=Ue,e.getReorderedIndices=ze,e.getReorderedString=je,e.openingToClosingBracket=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const Mw=/\bvoid\s+main\s*\(\s*\)\s*{/g;function mh(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let o=BS[i];return o?mh(o):r}return t.replace(e,n)}const On=[];for(let t=0;t<256;t++)On[t]=(t<16?"0":"")+t.toString(16);function l4(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(On[t&255]+On[t>>8&255]+On[t>>16&255]+On[t>>24&255]+"-"+On[e&255]+On[e>>8&255]+"-"+On[e>>16&15|64]+On[e>>24&255]+"-"+On[n&63|128]+On[n>>8&255]+"-"+On[n>>16&255]+On[n>>24&255]+On[r&255]+On[r>>8&255]+On[r>>16&255]+On[r>>24&255]).toUpperCase()}const bo=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},a4=Date.now(),eg=new WeakMap,tg=new Map;let s4=1e10;function gh(t,e){const n=d4(e);let r=eg.get(t);if(r||eg.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,o=function(d,p){t.onBeforeCompile.call(this,d,p);const v=this.customProgramCacheKey()+"|"+d.vertexShader+"|"+d.fragmentShader;let g=tg[v];if(!g){const y=u4(this,d,e,n);g=tg[v]=y}d.vertexShader=g.vertexShader,d.fragmentShader=g.fragmentShader,bo(d.uniforms,this.uniforms),e.timeUniform&&(d.uniforms[e.timeUniform]={get value(){return Date.now()-a4}}),this[i]&&this[i](d)},s=function(){return u(e.chained?t:t.clone())},u=function(d){const p=Object.create(d,c);return Object.defineProperty(p,"baseMaterial",{value:t}),Object.defineProperty(p,"id",{value:s4++}),p.uuid=l4(),p.uniforms=bo({},d.uniforms,e.uniforms),p.defines=bo({},d.defines,e.defines),p.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",p.extensions=bo({},d.extensions,e.extensions),p._listeners=void 0,p},c={constructor:{value:s},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:d=>{t.type=d}},isDerivedFrom:{writable:!0,configurable:!0,value:function(d){const p=this.baseMaterial;return d===p||p.isDerivedMaterial&&p.isDerivedFrom(d)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return o},set(d){this[i]=d}},copy:{writable:!0,configurable:!0,value:function(d){return t.copy.call(this,d),!t.isShaderMaterial&&!t.isDerivedMaterial&&(bo(this.extensions,d.extensions),bo(this.defines,d.defines),bo(this.uniforms,hp.clone(d.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const d=new t.constructor;return u(d).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let d=this._depthMaterial;return d||(d=this._depthMaterial=gh(t.isDerivedMaterial?t.getDepthMaterial():new _g({depthPacking:NS}),e),d.defines.IS_DEPTH_MATERIAL="",d.uniforms=this.uniforms),d}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let d=this._distanceMaterial;return d||(d=this._distanceMaterial=gh(t.isDerivedMaterial?t.getDistanceMaterial():new zS,e),d.defines.IS_DISTANCE_MATERIAL="",d.uniforms=this.uniforms),d}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:d,_distanceMaterial:p}=this;d&&d.dispose(),p&&p.dispose(),t.dispose.call(this)}}};return r[n]=s,new s}function u4(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:o,vertexMainIntro:s,vertexMainOutro:u,vertexTransform:c,fragmentDefs:d,fragmentMainIntro:p,fragmentMainOutro:v,fragmentColorTransform:g,customRewriter:y,timeUniform:x}=r;if(o=o||"",s=s||"",u=u||"",d=d||"",p=p||"",v=v||"",(c||y)&&(e=mh(e)),(g||y)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=mh(n)),y){let C=y({vertexShader:e,fragmentShader:n});e=C.vertexShader,n=C.fragmentShader}if(g){let C=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,T=>(C.push(T),"")),v=`${g}
${C.join(`
`)}
${v}`}if(x){const C=`
uniform float ${x};
`;o=C+o,d=C+d}return c&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,o=`${o}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${c}
}
`,s=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${s}
`,e=e.replace(/\b(position|normal|uv)\b/g,(C,T,_,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,_))?T:`troika_${T}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=ng(e,i,o,s,u),n=ng(n,i,d,p,v),{vertexShader:e,fragmentShader:n}}function ng(t,e,n,r,i){return(r||i||n)&&(t=t.replace(Mw,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function c4(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let f4=0;const rg=new Map;function d4(t){const e=JSON.stringify(t,c4);let n=rg.get(e);return n==null&&rg.set(e,n=++f4),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function p4(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var o=e._bin,s=new Uint8Array(i);if(o.readASCII(s,0,4)=="ttcf"){var u=4;o.readUshort(s,u),u+=2,o.readUshort(s,u),u+=2;var c=o.readUint(s,u);u+=4;for(var d=[],p=0;p<c;p++){var v=o.readUint(s,u);u+=4,d.push(e._readFont(s,v))}return d}return[e._readFont(s,0)]},_readFont:function(i,o){var s=e._bin,u=o;s.readFixed(i,o),o+=4;var c=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2;for(var d=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],p={_data:i,_offset:u},v={},g=0;g<c;g++){var y=s.readASCII(i,o,4);o+=4,s.readUint(i,o),o+=4;var x=s.readUint(i,o);o+=4;var C=s.readUint(i,o);o+=4,v[y]={offset:x,length:C}}for(g=0;g<d.length;g++){var T=d[g];v[T]&&(p[T.trim()]=e[T.trim()].parse(i,v[T].offset,v[T].length,p))}return p},_tabOffset:function(i,o,s){for(var u=e._bin,c=u.readUshort(i,s+4),d=s+12,p=0;p<c;p++){var v=u.readASCII(i,d,4);d+=4,u.readUint(i,d),d+=4;var g=u.readUint(i,d);if(d+=4,u.readUint(i,d),d+=4,v==o)return g}return 0}};e._bin={readFixed:function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<8|i[o+3])/65540},readF2dot14:function(i,o){return e._bin.readShort(i,o)/16384},readInt:function(i,o){return e._bin._view(i).getInt32(o)},readInt8:function(i,o){return e._bin._view(i).getInt8(o)},readShort:function(i,o){return e._bin._view(i).getInt16(o)},readUshort:function(i,o){return e._bin._view(i).getUint16(o)},readUshorts:function(i,o,s){for(var u=[],c=0;c<s;c++)u.push(e._bin.readUshort(i,o+2*c));return u},readUint:function(i,o){return e._bin._view(i).getUint32(o)},readUint64:function(i,o){return 4294967296*e._bin.readUint(i,o)+e._bin.readUint(i,o+4)},readASCII:function(i,o,s){for(var u="",c=0;c<s;c++)u+=String.fromCharCode(i[o+c]);return u},readUnicode:function(i,o,s){for(var u="",c=0;c<s;c++){var d=i[o++]<<8|i[o++];u+=String.fromCharCode(d)}return u},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,o,s){var u=e._bin._tdec;return u&&o==0&&s==i.length?u.decode(i):e._bin.readASCII(i,o,s)},readBytes:function(i,o,s){for(var u=[],c=0;c<s;c++)u.push(i[o+c]);return u},readASCIIArray:function(i,o,s){for(var u=[],c=0;c<s;c++)u.push(String.fromCharCode(i[o+c]));return u},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,o,s,u,c){var d=e._bin,p={},v=o;d.readFixed(i,o),o+=4;var g=d.readUshort(i,o);o+=2;var y=d.readUshort(i,o);o+=2;var x=d.readUshort(i,o);return o+=2,p.scriptList=e._lctf.readScriptList(i,v+g),p.featureList=e._lctf.readFeatureList(i,v+y),p.lookupList=e._lctf.readLookupList(i,v+x,c),p},e._lctf.readLookupList=function(i,o,s){var u=e._bin,c=o,d=[],p=u.readUshort(i,o);o+=2;for(var v=0;v<p;v++){var g=u.readUshort(i,o);o+=2;var y=e._lctf.readLookupTable(i,c+g,s);d.push(y)}return d},e._lctf.readLookupTable=function(i,o,s){var u=e._bin,c=o,d={tabs:[]};d.ltype=u.readUshort(i,o),o+=2,d.flag=u.readUshort(i,o),o+=2;var p=u.readUshort(i,o);o+=2;for(var v=d.ltype,g=0;g<p;g++){var y=u.readUshort(i,o);o+=2;var x=s(i,v,c+y,d);d.tabs.push(x)}return d},e._lctf.numOfOnes=function(i){for(var o=0,s=0;s<32;s++)i>>>s&1&&o++;return o},e._lctf.readClassDef=function(i,o){var s=e._bin,u=[],c=s.readUshort(i,o);if(o+=2,c==1){var d=s.readUshort(i,o);o+=2;var p=s.readUshort(i,o);o+=2;for(var v=0;v<p;v++)u.push(d+v),u.push(d+v),u.push(s.readUshort(i,o)),o+=2}if(c==2){var g=s.readUshort(i,o);for(o+=2,v=0;v<g;v++)u.push(s.readUshort(i,o)),o+=2,u.push(s.readUshort(i,o)),o+=2,u.push(s.readUshort(i,o)),o+=2}return u},e._lctf.getInterval=function(i,o){for(var s=0;s<i.length;s+=3){var u=i[s],c=i[s+1];if(i[s+2],u<=o&&o<=c)return s}return-1},e._lctf.readCoverage=function(i,o){var s=e._bin,u={};u.fmt=s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);return o+=2,u.fmt==1&&(u.tab=s.readUshorts(i,o,c)),u.fmt==2&&(u.tab=s.readUshorts(i,o,3*c)),u},e._lctf.coverageIndex=function(i,o){var s=i.tab;if(i.fmt==1)return s.indexOf(o);if(i.fmt==2){var u=e._lctf.getInterval(s,o);if(u!=-1)return s[u+2]+(o-s[u])}return-1},e._lctf.readFeatureList=function(i,o){var s=e._bin,u=o,c=[],d=s.readUshort(i,o);o+=2;for(var p=0;p<d;p++){var v=s.readASCII(i,o,4);o+=4;var g=s.readUshort(i,o);o+=2;var y=e._lctf.readFeatureTable(i,u+g);y.tag=v.trim(),c.push(y)}return c},e._lctf.readFeatureTable=function(i,o){var s=e._bin,u=o,c={},d=s.readUshort(i,o);o+=2,d>0&&(c.featureParams=u+d);var p=s.readUshort(i,o);o+=2,c.tab=[];for(var v=0;v<p;v++)c.tab.push(s.readUshort(i,o+2*v));return c},e._lctf.readScriptList=function(i,o){var s=e._bin,u=o,c={},d=s.readUshort(i,o);o+=2;for(var p=0;p<d;p++){var v=s.readASCII(i,o,4);o+=4;var g=s.readUshort(i,o);o+=2,c[v.trim()]=e._lctf.readScriptTable(i,u+g)}return c},e._lctf.readScriptTable=function(i,o){var s=e._bin,u=o,c={},d=s.readUshort(i,o);o+=2,d>0&&(c.default=e._lctf.readLangSysTable(i,u+d));var p=s.readUshort(i,o);o+=2;for(var v=0;v<p;v++){var g=s.readASCII(i,o,4);o+=4;var y=s.readUshort(i,o);o+=2,c[g.trim()]=e._lctf.readLangSysTable(i,u+y)}return c},e._lctf.readLangSysTable=function(i,o){var s=e._bin,u={};s.readUshort(i,o),o+=2,u.reqFeature=s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);return o+=2,u.features=s.readUshorts(i,o,c),u},e.CFF={},e.CFF.parse=function(i,o,s){var u=e._bin;(i=new Uint8Array(i.buffer,o,s))[o=0],i[++o],i[++o],i[++o],o++;var c=[];o=e.CFF.readIndex(i,o,c);for(var d=[],p=0;p<c.length-1;p++)d.push(u.readASCII(i,o+c[p],c[p+1]-c[p]));o+=c[c.length-1];var v=[];o=e.CFF.readIndex(i,o,v);var g=[];for(p=0;p<v.length-1;p++)g.push(e.CFF.readDict(i,o+v[p],o+v[p+1]));o+=v[v.length-1];var y=g[0],x=[];o=e.CFF.readIndex(i,o,x);var C=[];for(p=0;p<x.length-1;p++)C.push(u.readASCII(i,o+x[p],x[p+1]-x[p]));if(o+=x[x.length-1],e.CFF.readSubrs(i,o,y),y.CharStrings){o=y.CharStrings,x=[],o=e.CFF.readIndex(i,o,x);var T=[];for(p=0;p<x.length-1;p++)T.push(u.readBytes(i,o+x[p],x[p+1]-x[p]));y.CharStrings=T}if(y.ROS){o=y.FDArray;var _=[];for(o=e.CFF.readIndex(i,o,_),y.FDArray=[],p=0;p<_.length-1;p++){var w=e.CFF.readDict(i,o+_[p],o+_[p+1]);e.CFF._readFDict(i,w,C),y.FDArray.push(w)}o+=_[_.length-1],o=y.FDSelect,y.FDSelect=[];var E=i[o];if(o++,E!=3)throw E;var M=u.readUshort(i,o);for(o+=2,p=0;p<M+1;p++)y.FDSelect.push(u.readUshort(i,o),i[o+2]),o+=3}return y.Encoding&&(y.Encoding=e.CFF.readEncoding(i,y.Encoding,y.CharStrings.length)),y.charset&&(y.charset=e.CFF.readCharset(i,y.charset,y.CharStrings.length)),e.CFF._readFDict(i,y,C),y},e.CFF._readFDict=function(i,o,s){var u;for(var c in o.Private&&(u=o.Private[1],o.Private=e.CFF.readDict(i,u,u+o.Private[0]),o.Private.Subrs&&e.CFF.readSubrs(i,u+o.Private.Subrs,o.Private)),o)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(c)!=-1&&(o[c]=s[o[c]-426+35])},e.CFF.readSubrs=function(i,o,s){var u=e._bin,c=[];o=e.CFF.readIndex(i,o,c);var d,p=c.length;d=p<1240?107:p<33900?1131:32768,s.Bias=d,s.Subrs=[];for(var v=0;v<c.length-1;v++)s.Subrs.push(u.readBytes(i,o+c[v],c[v+1]-c[v]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,o){for(var s=0;s<i.charset.length;s++)if(i.charset[s]==o)return s;return-1},e.CFF.glyphBySE=function(i,o){return o<0||o>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[o])},e.CFF.readEncoding=function(i,o,s){e._bin;var u=[".notdef"],c=i[o];if(o++,c!=0)throw"error: unknown encoding format: "+c;var d=i[o];o++;for(var p=0;p<d;p++)u.push(i[o+p]);return u},e.CFF.readCharset=function(i,o,s){var u=e._bin,c=[".notdef"],d=i[o];if(o++,d==0)for(var p=0;p<s;p++){var v=u.readUshort(i,o);o+=2,c.push(v)}else{if(d!=1&&d!=2)throw"error: format: "+d;for(;c.length<s;){v=u.readUshort(i,o),o+=2;var g=0;for(d==1?(g=i[o],o++):(g=u.readUshort(i,o),o+=2),p=0;p<=g;p++)c.push(v),v++}}return c},e.CFF.readIndex=function(i,o,s){var u=e._bin,c=u.readUshort(i,o)+1,d=i[o+=2];if(o++,d==1)for(var p=0;p<c;p++)s.push(i[o+p]);else if(d==2)for(p=0;p<c;p++)s.push(u.readUshort(i,o+2*p));else if(d==3)for(p=0;p<c;p++)s.push(16777215&u.readUint(i,o+3*p-1));else if(c!=1)throw"unsupported offset size: "+d+", count: "+c;return(o+=c*d)-1},e.CFF.getCharString=function(i,o,s){var u=e._bin,c=i[o],d=i[o+1];i[o+2],i[o+3],i[o+4];var p=1,v=null,g=null;c<=20&&(v=c,p=1),c==12&&(v=100*c+d,p=2),21<=c&&c<=27&&(v=c,p=1),c==28&&(g=u.readShort(i,o+1),p=3),29<=c&&c<=31&&(v=c,p=1),32<=c&&c<=246&&(g=c-139,p=1),247<=c&&c<=250&&(g=256*(c-247)+d+108,p=2),251<=c&&c<=254&&(g=256*-(c-251)-d-108,p=2),c==255&&(g=u.readInt(i,o+1)/65535,p=5),s.val=g??"o"+v,s.size=p},e.CFF.readCharString=function(i,o,s){for(var u=o+s,c=e._bin,d=[];o<u;){var p=i[o],v=i[o+1];i[o+2],i[o+3],i[o+4];var g=1,y=null,x=null;p<=20&&(y=p,g=1),p==12&&(y=100*p+v,g=2),p!=19&&p!=20||(y=p,g=2),21<=p&&p<=27&&(y=p,g=1),p==28&&(x=c.readShort(i,o+1),g=3),29<=p&&p<=31&&(y=p,g=1),32<=p&&p<=246&&(x=p-139,g=1),247<=p&&p<=250&&(x=256*(p-247)+v+108,g=2),251<=p&&p<=254&&(x=256*-(p-251)-v-108,g=2),p==255&&(x=c.readInt(i,o+1)/65535,g=5),d.push(x??"o"+y),o+=g}return d},e.CFF.readDict=function(i,o,s){for(var u=e._bin,c={},d=[];o<s;){var p=i[o],v=i[o+1];i[o+2],i[o+3],i[o+4];var g=1,y=null,x=null;if(p==28&&(x=u.readShort(i,o+1),g=3),p==29&&(x=u.readInt(i,o+1),g=5),32<=p&&p<=246&&(x=p-139,g=1),247<=p&&p<=250&&(x=256*(p-247)+v+108,g=2),251<=p&&p<=254&&(x=256*-(p-251)-v-108,g=2),p==255)throw x=u.readInt(i,o+1)/65535,g=5,"unknown number";if(p==30){var C=[];for(g=1;;){var T=i[o+g];g++;var _=T>>4,w=15&T;if(_!=15&&C.push(_),w!=15&&C.push(w),w==15)break}for(var E="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],R=0;R<C.length;R++)E+=M[C[R]];x=parseFloat(E)}p<=21&&(y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][p],g=1,p==12&&(y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][v],g=2)),y!=null?(c[y]=d.length==1?d[0]:d,d=[]):d.push(x),o+=g}return c},e.cmap={},e.cmap.parse=function(i,o,s){i=new Uint8Array(i.buffer,o,s),o=0;var u=e._bin,c={};u.readUshort(i,o),o+=2;var d=u.readUshort(i,o);o+=2;var p=[];c.tables=[];for(var v=0;v<d;v++){var g=u.readUshort(i,o);o+=2;var y=u.readUshort(i,o);o+=2;var x=u.readUint(i,o);o+=4;var C="p"+g+"e"+y,T=p.indexOf(x);if(T==-1){var _;T=c.tables.length,p.push(x);var w=u.readUshort(i,x);w==0?_=e.cmap.parse0(i,x):w==4?_=e.cmap.parse4(i,x):w==6?_=e.cmap.parse6(i,x):w==12?_=e.cmap.parse12(i,x):console.debug("unknown format: "+w,g,y,x),c.tables.push(_)}if(c[C]!=null)throw"multiple tables for one platform+encoding";c[C]=T}return c},e.cmap.parse0=function(i,o){var s=e._bin,u={};u.format=s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2,u.map=[];for(var d=0;d<c-6;d++)u.map.push(i[o+d]);return u},e.cmap.parse4=function(i,o){var s=e._bin,u=o,c={};c.format=s.readUshort(i,o),o+=2;var d=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2;var p=s.readUshort(i,o);o+=2;var v=p/2;c.searchRange=s.readUshort(i,o),o+=2,c.entrySelector=s.readUshort(i,o),o+=2,c.rangeShift=s.readUshort(i,o),o+=2,c.endCount=s.readUshorts(i,o,v),o+=2*v,o+=2,c.startCount=s.readUshorts(i,o,v),o+=2*v,c.idDelta=[];for(var g=0;g<v;g++)c.idDelta.push(s.readShort(i,o)),o+=2;for(c.idRangeOffset=s.readUshorts(i,o,v),o+=2*v,c.glyphIdArray=[];o<u+d;)c.glyphIdArray.push(s.readUshort(i,o)),o+=2;return c},e.cmap.parse6=function(i,o){var s=e._bin,u={};u.format=s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,u.firstCode=s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2,u.glyphIdArray=[];for(var d=0;d<c;d++)u.glyphIdArray.push(s.readUshort(i,o)),o+=2;return u},e.cmap.parse12=function(i,o){var s=e._bin,u={};u.format=s.readUshort(i,o),o+=2,o+=2,s.readUint(i,o),o+=4,s.readUint(i,o),o+=4;var c=s.readUint(i,o);o+=4,u.groups=[];for(var d=0;d<c;d++){var p=o+12*d,v=s.readUint(i,p+0),g=s.readUint(i,p+4),y=s.readUint(i,p+8);u.groups.push([v,g,y])}return u},e.glyf={},e.glyf.parse=function(i,o,s,u){for(var c=[],d=0;d<u.maxp.numGlyphs;d++)c.push(null);return c},e.glyf._parseGlyf=function(i,o){var s=e._bin,u=i._data,c=e._tabOffset(u,"glyf",i._offset)+i.loca[o];if(i.loca[o]==i.loca[o+1])return null;var d={};if(d.noc=s.readShort(u,c),c+=2,d.xMin=s.readShort(u,c),c+=2,d.yMin=s.readShort(u,c),c+=2,d.xMax=s.readShort(u,c),c+=2,d.yMax=s.readShort(u,c),c+=2,d.xMin>=d.xMax||d.yMin>=d.yMax)return null;if(d.noc>0){d.endPts=[];for(var p=0;p<d.noc;p++)d.endPts.push(s.readUshort(u,c)),c+=2;var v=s.readUshort(u,c);if(c+=2,u.length-c<v)return null;d.instructions=s.readBytes(u,c,v),c+=v;var g=d.endPts[d.noc-1]+1;for(d.flags=[],p=0;p<g;p++){var y=u[c];if(c++,d.flags.push(y),(8&y)!=0){var x=u[c];c++;for(var C=0;C<x;C++)d.flags.push(y),p++}}for(d.xs=[],p=0;p<g;p++){var T=(2&d.flags[p])!=0,_=(16&d.flags[p])!=0;T?(d.xs.push(_?u[c]:-u[c]),c++):_?d.xs.push(0):(d.xs.push(s.readShort(u,c)),c+=2)}for(d.ys=[],p=0;p<g;p++)T=(4&d.flags[p])!=0,_=(32&d.flags[p])!=0,T?(d.ys.push(_?u[c]:-u[c]),c++):_?d.ys.push(0):(d.ys.push(s.readShort(u,c)),c+=2);var w=0,E=0;for(p=0;p<g;p++)w+=d.xs[p],E+=d.ys[p],d.xs[p]=w,d.ys[p]=E}else{var M;d.parts=[];do{M=s.readUshort(u,c),c+=2;var R={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(d.parts.push(R),R.glyphIndex=s.readUshort(u,c),c+=2,1&M){var D=s.readShort(u,c);c+=2;var A=s.readShort(u,c);c+=2}else D=s.readInt8(u,c),c++,A=s.readInt8(u,c),c++;2&M?(R.m.tx=D,R.m.ty=A):(R.p1=D,R.p2=A),8&M?(R.m.a=R.m.d=s.readF2dot14(u,c),c+=2):64&M?(R.m.a=s.readF2dot14(u,c),c+=2,R.m.d=s.readF2dot14(u,c),c+=2):128&M&&(R.m.a=s.readF2dot14(u,c),c+=2,R.m.b=s.readF2dot14(u,c),c+=2,R.m.c=s.readF2dot14(u,c),c+=2,R.m.d=s.readF2dot14(u,c),c+=2)}while(32&M);if(256&M){var U=s.readUshort(u,c);for(c+=2,d.instr=[],p=0;p<U;p++)d.instr.push(u[c]),c++}}return d},e.GDEF={},e.GDEF.parse=function(i,o,s,u){var c=o;o+=4;var d=e._bin.readUshort(i,o);return{glyphClassDef:d===0?null:e._lctf.readClassDef(i,c+d)}},e.GPOS={},e.GPOS.parse=function(i,o,s,u){return e._lctf.parse(i,o,s,u,e.GPOS.subt)},e.GPOS.subt=function(i,o,s,u){var c=e._bin,d=s,p={};if(p.fmt=c.readUshort(i,s),s+=2,o==1||o==2||o==3||o==7||o==8&&p.fmt<=2){var v=c.readUshort(i,s);s+=2,p.coverage=e._lctf.readCoverage(i,v+d)}if(o==1&&p.fmt==1){var g=c.readUshort(i,s);s+=2,g!=0&&(p.pos=e.GPOS.readValueRecord(i,s,g))}else if(o==2&&p.fmt>=1&&p.fmt<=2){g=c.readUshort(i,s),s+=2;var y=c.readUshort(i,s);s+=2;var x=e._lctf.numOfOnes(g),C=e._lctf.numOfOnes(y);if(p.fmt==1){p.pairsets=[];var T=c.readUshort(i,s);s+=2;for(var _=0;_<T;_++){var w=d+c.readUshort(i,s);s+=2;var E=c.readUshort(i,w);w+=2;for(var M=[],R=0;R<E;R++){var D=c.readUshort(i,w);w+=2,g!=0&&(z=e.GPOS.readValueRecord(i,w,g),w+=2*x),y!=0&&(X=e.GPOS.readValueRecord(i,w,y),w+=2*C),M.push({gid2:D,val1:z,val2:X})}p.pairsets.push(M)}}if(p.fmt==2){var A=c.readUshort(i,s);s+=2;var U=c.readUshort(i,s);s+=2;var N=c.readUshort(i,s);s+=2;var F=c.readUshort(i,s);for(s+=2,p.classDef1=e._lctf.readClassDef(i,d+A),p.classDef2=e._lctf.readClassDef(i,d+U),p.matrix=[],_=0;_<N;_++){var Q=[];for(R=0;R<F;R++){var z=null,X=null;g!=0&&(z=e.GPOS.readValueRecord(i,s,g),s+=2*x),y!=0&&(X=e.GPOS.readValueRecord(i,s,y),s+=2*C),Q.push({val1:z,val2:X})}p.matrix.push(Q)}}}else if(o==4&&p.fmt==1)p.markCoverage=e._lctf.readCoverage(i,c.readUshort(i,s)+d),p.baseCoverage=e._lctf.readCoverage(i,c.readUshort(i,s+2)+d),p.markClassCount=c.readUshort(i,s+4),p.markArray=e.GPOS.readMarkArray(i,c.readUshort(i,s+6)+d),p.baseArray=e.GPOS.readBaseArray(i,c.readUshort(i,s+8)+d,p.markClassCount);else if(o==6&&p.fmt==1)p.mark1Coverage=e._lctf.readCoverage(i,c.readUshort(i,s)+d),p.mark2Coverage=e._lctf.readCoverage(i,c.readUshort(i,s+2)+d),p.markClassCount=c.readUshort(i,s+4),p.mark1Array=e.GPOS.readMarkArray(i,c.readUshort(i,s+6)+d),p.mark2Array=e.GPOS.readBaseArray(i,c.readUshort(i,s+8)+d,p.markClassCount);else{if(o==9&&p.fmt==1){var W=c.readUshort(i,s);s+=2;var re=c.readUint(i,s);if(s+=4,u.ltype==9)u.ltype=W;else if(u.ltype!=W)throw"invalid extension substitution";return e.GPOS.subt(i,u.ltype,d+re)}console.debug("unsupported GPOS table LookupType",o,"format",p.fmt)}return p},e.GPOS.readValueRecord=function(i,o,s){var u=e._bin,c=[];return c.push(1&s?u.readShort(i,o):0),o+=1&s?2:0,c.push(2&s?u.readShort(i,o):0),o+=2&s?2:0,c.push(4&s?u.readShort(i,o):0),o+=4&s?2:0,c.push(8&s?u.readShort(i,o):0),o+=8&s?2:0,c},e.GPOS.readBaseArray=function(i,o,s){var u=e._bin,c=[],d=o,p=u.readUshort(i,o);o+=2;for(var v=0;v<p;v++){for(var g=[],y=0;y<s;y++)g.push(e.GPOS.readAnchorRecord(i,d+u.readUshort(i,o))),o+=2;c.push(g)}return c},e.GPOS.readMarkArray=function(i,o){var s=e._bin,u=[],c=o,d=s.readUshort(i,o);o+=2;for(var p=0;p<d;p++){var v=e.GPOS.readAnchorRecord(i,s.readUshort(i,o+2)+c);v.markClass=s.readUshort(i,o),u.push(v),o+=4}return u},e.GPOS.readAnchorRecord=function(i,o){var s=e._bin,u={};return u.fmt=s.readUshort(i,o),u.x=s.readShort(i,o+2),u.y=s.readShort(i,o+4),u},e.GSUB={},e.GSUB.parse=function(i,o,s,u){return e._lctf.parse(i,o,s,u,e.GSUB.subt)},e.GSUB.subt=function(i,o,s,u){var c=e._bin,d=s,p={};if(p.fmt=c.readUshort(i,s),s+=2,o!=1&&o!=2&&o!=4&&o!=5&&o!=6)return null;if(o==1||o==2||o==4||o==5&&p.fmt<=2||o==6&&p.fmt<=2){var v=c.readUshort(i,s);s+=2,p.coverage=e._lctf.readCoverage(i,d+v)}if(o==1&&p.fmt>=1&&p.fmt<=2){if(p.fmt==1)p.delta=c.readShort(i,s),s+=2;else if(p.fmt==2){var g=c.readUshort(i,s);s+=2,p.newg=c.readUshorts(i,s,g),s+=2*p.newg.length}}else if(o==2&&p.fmt==1){g=c.readUshort(i,s),s+=2,p.seqs=[];for(var y=0;y<g;y++){var x=c.readUshort(i,s)+d;s+=2;var C=c.readUshort(i,x);p.seqs.push(c.readUshorts(i,x+2,C))}}else if(o==4)for(p.vals=[],g=c.readUshort(i,s),s+=2,y=0;y<g;y++){var T=c.readUshort(i,s);s+=2,p.vals.push(e.GSUB.readLigatureSet(i,d+T))}else if(o==5&&p.fmt==2){if(p.fmt==2){var _=c.readUshort(i,s);s+=2,p.cDef=e._lctf.readClassDef(i,d+_),p.scset=[];var w=c.readUshort(i,s);for(s+=2,y=0;y<w;y++){var E=c.readUshort(i,s);s+=2,p.scset.push(E==0?null:e.GSUB.readSubClassSet(i,d+E))}}}else if(o==6&&p.fmt==3){if(p.fmt==3){for(y=0;y<3;y++){g=c.readUshort(i,s),s+=2;for(var M=[],R=0;R<g;R++)M.push(e._lctf.readCoverage(i,d+c.readUshort(i,s+2*R)));s+=2*g,y==0&&(p.backCvg=M),y==1&&(p.inptCvg=M),y==2&&(p.ahedCvg=M)}g=c.readUshort(i,s),s+=2,p.lookupRec=e.GSUB.readSubstLookupRecords(i,s,g)}}else{if(o==7&&p.fmt==1){var D=c.readUshort(i,s);s+=2;var A=c.readUint(i,s);if(s+=4,u.ltype==9)u.ltype=D;else if(u.ltype!=D)throw"invalid extension substitution";return e.GSUB.subt(i,u.ltype,d+A)}console.debug("unsupported GSUB table LookupType",o,"format",p.fmt)}return p},e.GSUB.readSubClassSet=function(i,o){var s=e._bin.readUshort,u=o,c=[],d=s(i,o);o+=2;for(var p=0;p<d;p++){var v=s(i,o);o+=2,c.push(e.GSUB.readSubClassRule(i,u+v))}return c},e.GSUB.readSubClassRule=function(i,o){var s=e._bin.readUshort,u={},c=s(i,o),d=s(i,o+=2);o+=2,u.input=[];for(var p=0;p<c-1;p++)u.input.push(s(i,o)),o+=2;return u.substLookupRecords=e.GSUB.readSubstLookupRecords(i,o,d),u},e.GSUB.readSubstLookupRecords=function(i,o,s){for(var u=e._bin.readUshort,c=[],d=0;d<s;d++)c.push(u(i,o),u(i,o+2)),o+=4;return c},e.GSUB.readChainSubClassSet=function(i,o){var s=e._bin,u=o,c=[],d=s.readUshort(i,o);o+=2;for(var p=0;p<d;p++){var v=s.readUshort(i,o);o+=2,c.push(e.GSUB.readChainSubClassRule(i,u+v))}return c},e.GSUB.readChainSubClassRule=function(i,o){for(var s=e._bin,u={},c=["backtrack","input","lookahead"],d=0;d<c.length;d++){var p=s.readUshort(i,o);o+=2,d==1&&p--,u[c[d]]=s.readUshorts(i,o,p),o+=2*u[c[d]].length}return p=s.readUshort(i,o),o+=2,u.subst=s.readUshorts(i,o,2*p),o+=2*u.subst.length,u},e.GSUB.readLigatureSet=function(i,o){var s=e._bin,u=o,c=[],d=s.readUshort(i,o);o+=2;for(var p=0;p<d;p++){var v=s.readUshort(i,o);o+=2,c.push(e.GSUB.readLigature(i,u+v))}return c},e.GSUB.readLigature=function(i,o){var s=e._bin,u={chain:[]};u.nglyph=s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2;for(var d=0;d<c-1;d++)u.chain.push(s.readUshort(i,o)),o+=2;return u},e.head={},e.head.parse=function(i,o,s){var u=e._bin,c={};return u.readFixed(i,o),o+=4,c.fontRevision=u.readFixed(i,o),o+=4,u.readUint(i,o),o+=4,u.readUint(i,o),o+=4,c.flags=u.readUshort(i,o),o+=2,c.unitsPerEm=u.readUshort(i,o),o+=2,c.created=u.readUint64(i,o),o+=8,c.modified=u.readUint64(i,o),o+=8,c.xMin=u.readShort(i,o),o+=2,c.yMin=u.readShort(i,o),o+=2,c.xMax=u.readShort(i,o),o+=2,c.yMax=u.readShort(i,o),o+=2,c.macStyle=u.readUshort(i,o),o+=2,c.lowestRecPPEM=u.readUshort(i,o),o+=2,c.fontDirectionHint=u.readShort(i,o),o+=2,c.indexToLocFormat=u.readShort(i,o),o+=2,c.glyphDataFormat=u.readShort(i,o),o+=2,c},e.hhea={},e.hhea.parse=function(i,o,s){var u=e._bin,c={};return u.readFixed(i,o),o+=4,c.ascender=u.readShort(i,o),o+=2,c.descender=u.readShort(i,o),o+=2,c.lineGap=u.readShort(i,o),o+=2,c.advanceWidthMax=u.readUshort(i,o),o+=2,c.minLeftSideBearing=u.readShort(i,o),o+=2,c.minRightSideBearing=u.readShort(i,o),o+=2,c.xMaxExtent=u.readShort(i,o),o+=2,c.caretSlopeRise=u.readShort(i,o),o+=2,c.caretSlopeRun=u.readShort(i,o),o+=2,c.caretOffset=u.readShort(i,o),o+=2,o+=8,c.metricDataFormat=u.readShort(i,o),o+=2,c.numberOfHMetrics=u.readUshort(i,o),o+=2,c},e.hmtx={},e.hmtx.parse=function(i,o,s,u){for(var c=e._bin,d={aWidth:[],lsBearing:[]},p=0,v=0,g=0;g<u.maxp.numGlyphs;g++)g<u.hhea.numberOfHMetrics&&(p=c.readUshort(i,o),o+=2,v=c.readShort(i,o),o+=2),d.aWidth.push(p),d.lsBearing.push(v);return d},e.kern={},e.kern.parse=function(i,o,s,u){var c=e._bin,d=c.readUshort(i,o);if(o+=2,d==1)return e.kern.parseV1(i,o-2,s,u);var p=c.readUshort(i,o);o+=2;for(var v={glyph1:[],rval:[]},g=0;g<p;g++){o+=2,s=c.readUshort(i,o),o+=2;var y=c.readUshort(i,o);o+=2;var x=y>>>8;if((x&=15)!=0)throw"unknown kern table format: "+x;o=e.kern.readFormat0(i,o,v)}return v},e.kern.parseV1=function(i,o,s,u){var c=e._bin;c.readFixed(i,o),o+=4;var d=c.readUint(i,o);o+=4;for(var p={glyph1:[],rval:[]},v=0;v<d;v++){c.readUint(i,o),o+=4;var g=c.readUshort(i,o);o+=2,c.readUshort(i,o),o+=2;var y=g>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;o=e.kern.readFormat0(i,o,p)}return p},e.kern.readFormat0=function(i,o,s){var u=e._bin,c=-1,d=u.readUshort(i,o);o+=2,u.readUshort(i,o),o+=2,u.readUshort(i,o),o+=2,u.readUshort(i,o),o+=2;for(var p=0;p<d;p++){var v=u.readUshort(i,o);o+=2;var g=u.readUshort(i,o);o+=2;var y=u.readShort(i,o);o+=2,v!=c&&(s.glyph1.push(v),s.rval.push({glyph2:[],vals:[]}));var x=s.rval[s.rval.length-1];x.glyph2.push(g),x.vals.push(y),c=v}return o},e.loca={},e.loca.parse=function(i,o,s,u){var c=e._bin,d=[],p=u.head.indexToLocFormat,v=u.maxp.numGlyphs+1;if(p==0)for(var g=0;g<v;g++)d.push(c.readUshort(i,o+(g<<1))<<1);if(p==1)for(g=0;g<v;g++)d.push(c.readUint(i,o+(g<<2)));return d},e.maxp={},e.maxp.parse=function(i,o,s){var u=e._bin,c={},d=u.readUint(i,o);return o+=4,c.numGlyphs=u.readUshort(i,o),o+=2,d==65536&&(c.maxPoints=u.readUshort(i,o),o+=2,c.maxContours=u.readUshort(i,o),o+=2,c.maxCompositePoints=u.readUshort(i,o),o+=2,c.maxCompositeContours=u.readUshort(i,o),o+=2,c.maxZones=u.readUshort(i,o),o+=2,c.maxTwilightPoints=u.readUshort(i,o),o+=2,c.maxStorage=u.readUshort(i,o),o+=2,c.maxFunctionDefs=u.readUshort(i,o),o+=2,c.maxInstructionDefs=u.readUshort(i,o),o+=2,c.maxStackElements=u.readUshort(i,o),o+=2,c.maxSizeOfInstructions=u.readUshort(i,o),o+=2,c.maxComponentElements=u.readUshort(i,o),o+=2,c.maxComponentDepth=u.readUshort(i,o),o+=2),c},e.name={},e.name.parse=function(i,o,s){var u=e._bin,c={};u.readUshort(i,o),o+=2;var d=u.readUshort(i,o);o+=2,u.readUshort(i,o);for(var p,v=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],g=o+=2,y=0;y<d;y++){var x=u.readUshort(i,o);o+=2;var C=u.readUshort(i,o);o+=2;var T=u.readUshort(i,o);o+=2;var _=u.readUshort(i,o);o+=2;var w=u.readUshort(i,o);o+=2;var E=u.readUshort(i,o);o+=2;var M,R=v[_],D=g+12*d+E;if(x==0)M=u.readUnicode(i,D,w/2);else if(x==3&&C==0)M=u.readUnicode(i,D,w/2);else if(C==0)M=u.readASCII(i,D,w);else if(C==1)M=u.readUnicode(i,D,w/2);else if(C==3)M=u.readUnicode(i,D,w/2);else{if(x!=1)throw"unknown encoding "+C+", platformID: "+x;M=u.readASCII(i,D,w),console.debug("reading unknown MAC encoding "+C+" as ASCII")}var A="p"+x+","+T.toString(16);c[A]==null&&(c[A]={}),c[A][R!==void 0?R:_]=M,c[A]._lang=T}for(var U in c)if(c[U].postScriptName!=null&&c[U]._lang==1033)return c[U];for(var U in c)if(c[U].postScriptName!=null&&c[U]._lang==0)return c[U];for(var U in c)if(c[U].postScriptName!=null&&c[U]._lang==3084)return c[U];for(var U in c)if(c[U].postScriptName!=null)return c[U];for(var U in c){p=U;break}return console.debug("returning name table with languageID "+c[p]._lang),c[p]},e["OS/2"]={},e["OS/2"].parse=function(i,o,s){var u=e._bin.readUshort(i,o);o+=2;var c={};if(u==0)e["OS/2"].version0(i,o,c);else if(u==1)e["OS/2"].version1(i,o,c);else if(u==2||u==3||u==4)e["OS/2"].version2(i,o,c);else{if(u!=5)throw"unknown OS/2 table version: "+u;e["OS/2"].version5(i,o,c)}return c},e["OS/2"].version0=function(i,o,s){var u=e._bin;return s.xAvgCharWidth=u.readShort(i,o),o+=2,s.usWeightClass=u.readUshort(i,o),o+=2,s.usWidthClass=u.readUshort(i,o),o+=2,s.fsType=u.readUshort(i,o),o+=2,s.ySubscriptXSize=u.readShort(i,o),o+=2,s.ySubscriptYSize=u.readShort(i,o),o+=2,s.ySubscriptXOffset=u.readShort(i,o),o+=2,s.ySubscriptYOffset=u.readShort(i,o),o+=2,s.ySuperscriptXSize=u.readShort(i,o),o+=2,s.ySuperscriptYSize=u.readShort(i,o),o+=2,s.ySuperscriptXOffset=u.readShort(i,o),o+=2,s.ySuperscriptYOffset=u.readShort(i,o),o+=2,s.yStrikeoutSize=u.readShort(i,o),o+=2,s.yStrikeoutPosition=u.readShort(i,o),o+=2,s.sFamilyClass=u.readShort(i,o),o+=2,s.panose=u.readBytes(i,o,10),o+=10,s.ulUnicodeRange1=u.readUint(i,o),o+=4,s.ulUnicodeRange2=u.readUint(i,o),o+=4,s.ulUnicodeRange3=u.readUint(i,o),o+=4,s.ulUnicodeRange4=u.readUint(i,o),o+=4,s.achVendID=[u.readInt8(i,o),u.readInt8(i,o+1),u.readInt8(i,o+2),u.readInt8(i,o+3)],o+=4,s.fsSelection=u.readUshort(i,o),o+=2,s.usFirstCharIndex=u.readUshort(i,o),o+=2,s.usLastCharIndex=u.readUshort(i,o),o+=2,s.sTypoAscender=u.readShort(i,o),o+=2,s.sTypoDescender=u.readShort(i,o),o+=2,s.sTypoLineGap=u.readShort(i,o),o+=2,s.usWinAscent=u.readUshort(i,o),o+=2,s.usWinDescent=u.readUshort(i,o),o+=2},e["OS/2"].version1=function(i,o,s){var u=e._bin;return o=e["OS/2"].version0(i,o,s),s.ulCodePageRange1=u.readUint(i,o),o+=4,s.ulCodePageRange2=u.readUint(i,o),o+=4},e["OS/2"].version2=function(i,o,s){var u=e._bin;return o=e["OS/2"].version1(i,o,s),s.sxHeight=u.readShort(i,o),o+=2,s.sCapHeight=u.readShort(i,o),o+=2,s.usDefault=u.readUshort(i,o),o+=2,s.usBreak=u.readUshort(i,o),o+=2,s.usMaxContext=u.readUshort(i,o),o+=2},e["OS/2"].version5=function(i,o,s){var u=e._bin;return o=e["OS/2"].version2(i,o,s),s.usLowerOpticalPointSize=u.readUshort(i,o),o+=2,s.usUpperOpticalPointSize=u.readUshort(i,o),o+=2},e.post={},e.post.parse=function(i,o,s){var u=e._bin,c={};return c.version=u.readFixed(i,o),o+=4,c.italicAngle=u.readFixed(i,o),o+=4,c.underlinePosition=u.readShort(i,o),o+=2,c.underlineThickness=u.readShort(i,o),o+=2,c},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,o){var s=i.cmap,u=-1;if(s.p0e4!=null?u=s.p0e4:s.p3e1!=null?u=s.p3e1:s.p1e0!=null?u=s.p1e0:s.p0e3!=null&&(u=s.p0e3),u==-1)throw"no familiar platform and encoding!";var c=s.tables[u];if(c.format==0)return o>=c.map.length?0:c.map[o];if(c.format==4){for(var d=-1,p=0;p<c.endCount.length;p++)if(o<=c.endCount[p]){d=p;break}return d==-1||c.startCount[d]>o?0:65535&(c.idRangeOffset[d]!=0?c.glyphIdArray[o-c.startCount[d]+(c.idRangeOffset[d]>>1)-(c.idRangeOffset.length-d)]:o+c.idDelta[d])}if(c.format==12){if(o>c.groups[c.groups.length-1][1])return 0;for(p=0;p<c.groups.length;p++){var v=c.groups[p];if(v[0]<=o&&o<=v[1])return v[2]+(o-v[0])}return 0}throw"unknown cmap table format "+c.format},e.U.glyphToPath=function(i,o){var s={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[o]){var u=i.SVG.entries[o];return u==null?s:(typeof u=="string"&&(u=e.SVG.toPath(u),i.SVG.entries[o]=u),u)}if(i.CFF){var c={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},d=i.CFF,p=i.CFF.Private;if(d.ROS){for(var v=0;d.FDSelect[v+2]<=o;)v+=2;p=d.FDArray[d.FDSelect[v+1]].Private}e.U._drawCFF(i.CFF.CharStrings[o],c,d,p,s)}else i.glyf&&e.U._drawGlyf(o,i,s);return s},e.U._drawGlyf=function(i,o,s){var u=o.glyf[i];u==null&&(u=o.glyf[i]=e.glyf._parseGlyf(o,i)),u!=null&&(u.noc>-1?e.U._simpleGlyph(u,s):e.U._compoGlyph(u,o,s))},e.U._simpleGlyph=function(i,o){for(var s=0;s<i.noc;s++){for(var u=s==0?0:i.endPts[s-1]+1,c=i.endPts[s],d=u;d<=c;d++){var p=d==u?c:d-1,v=d==c?u:d+1,g=1&i.flags[d],y=1&i.flags[p],x=1&i.flags[v],C=i.xs[d],T=i.ys[d];if(d==u)if(g){if(!y){e.U.P.moveTo(o,C,T);continue}e.U.P.moveTo(o,i.xs[p],i.ys[p])}else y?e.U.P.moveTo(o,i.xs[p],i.ys[p]):e.U.P.moveTo(o,(i.xs[p]+C)/2,(i.ys[p]+T)/2);g?y&&e.U.P.lineTo(o,C,T):x?e.U.P.qcurveTo(o,C,T,i.xs[v],i.ys[v]):e.U.P.qcurveTo(o,C,T,(C+i.xs[v])/2,(T+i.ys[v])/2)}e.U.P.closePath(o)}},e.U._compoGlyph=function(i,o,s){for(var u=0;u<i.parts.length;u++){var c={cmds:[],crds:[]},d=i.parts[u];e.U._drawGlyf(d.glyphIndex,o,c);for(var p=d.m,v=0;v<c.crds.length;v+=2){var g=c.crds[v],y=c.crds[v+1];s.crds.push(g*p.a+y*p.b+p.tx),s.crds.push(g*p.c+y*p.d+p.ty)}for(v=0;v<c.cmds.length;v++)s.cmds.push(c.cmds[v])}},e.U._getGlyphClass=function(i,o){var s=e._lctf.getInterval(o,i);return s==-1?0:o[s+2]},e.U._applySubs=function(i,o,s,u){for(var c=i.length-o-1,d=0;d<s.tabs.length;d++)if(s.tabs[d]!=null){var p,v=s.tabs[d];if(!v.coverage||(p=e._lctf.coverageIndex(v.coverage,i[o]))!=-1){if(s.ltype==1)i[o],v.fmt==1?i[o]=i[o]+v.delta:i[o]=v.newg[p];else if(s.ltype==4)for(var g=v.vals[p],y=0;y<g.length;y++){var x=g[y],C=x.chain.length;if(!(C>c)){for(var T=!0,_=0,w=0;w<C;w++){for(;i[o+_+(1+w)]==-1;)_++;x.chain[w]!=i[o+_+(1+w)]&&(T=!1)}if(T){for(i[o]=x.nglyph,w=0;w<C+_;w++)i[o+w+1]=-1;break}}}else if(s.ltype==5&&v.fmt==2)for(var E=e._lctf.getInterval(v.cDef,i[o]),M=v.cDef[E+2],R=v.scset[M],D=0;D<R.length;D++){var A=R[D],U=A.input;if(!(U.length>c)){for(T=!0,w=0;w<U.length;w++){var N=e._lctf.getInterval(v.cDef,i[o+1+w]);if(E==-1&&v.cDef[N+2]!=U[w]){T=!1;break}}if(T){var F=A.substLookupRecords;for(y=0;y<F.length;y+=2)F[y],F[y+1]}}}else if(s.ltype==6&&v.fmt==3){if(!e.U._glsCovered(i,v.backCvg,o-v.backCvg.length)||!e.U._glsCovered(i,v.inptCvg,o)||!e.U._glsCovered(i,v.ahedCvg,o+v.inptCvg.length))continue;var Q=v.lookupRec;for(D=0;D<Q.length;D+=2){E=Q[D];var z=u[Q[D+1]];e.U._applySubs(i,o+E,z,u)}}}}},e.U._glsCovered=function(i,o,s){for(var u=0;u<o.length;u++)if(e._lctf.coverageIndex(o[u],i[s+u])==-1)return!1;return!0},e.U.glyphsToPath=function(i,o,s){for(var u={cmds:[],crds:[]},c=0,d=0;d<o.length;d++){var p=o[d];if(p!=-1){for(var v=d<o.length-1&&o[d+1]!=-1?o[d+1]:0,g=e.U.glyphToPath(i,p),y=0;y<g.crds.length;y+=2)u.crds.push(g.crds[y]+c),u.crds.push(g.crds[y+1]);for(s&&u.cmds.push(s),y=0;y<g.cmds.length;y++)u.cmds.push(g.cmds[y]);s&&u.cmds.push("X"),c+=i.hmtx.aWidth[p],d<o.length-1&&(c+=e.U.getPairAdjustment(i,p,v))}}return u},e.U.P={},e.U.P.moveTo=function(i,o,s){i.cmds.push("M"),i.crds.push(o,s)},e.U.P.lineTo=function(i,o,s){i.cmds.push("L"),i.crds.push(o,s)},e.U.P.curveTo=function(i,o,s,u,c,d,p){i.cmds.push("C"),i.crds.push(o,s,u,c,d,p)},e.U.P.qcurveTo=function(i,o,s,u,c){i.cmds.push("Q"),i.crds.push(o,s,u,c)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,o,s,u,c){for(var d=o.stack,p=o.nStems,v=o.haveWidth,g=o.width,y=o.open,x=0,C=o.x,T=o.y,_=0,w=0,E=0,M=0,R=0,D=0,A=0,U=0,N=0,F=0,Q={val:0,size:0};x<i.length;){e.CFF.getCharString(i,x,Q);var z=Q.val;if(x+=Q.size,z=="o1"||z=="o18")d.length%2!=0&&!v&&(g=d.shift()+u.nominalWidthX),p+=d.length>>1,d.length=0,v=!0;else if(z=="o3"||z=="o23")d.length%2!=0&&!v&&(g=d.shift()+u.nominalWidthX),p+=d.length>>1,d.length=0,v=!0;else if(z=="o4")d.length>1&&!v&&(g=d.shift()+u.nominalWidthX,v=!0),y&&e.U.P.closePath(c),T+=d.pop(),e.U.P.moveTo(c,C,T),y=!0;else if(z=="o5")for(;d.length>0;)C+=d.shift(),T+=d.shift(),e.U.P.lineTo(c,C,T);else if(z=="o6"||z=="o7")for(var X=d.length,W=z=="o6",re=0;re<X;re++){var q=d.shift();W?C+=q:T+=q,W=!W,e.U.P.lineTo(c,C,T)}else if(z=="o8"||z=="o24"){X=d.length;for(var me=0;me+6<=X;)_=C+d.shift(),w=T+d.shift(),E=_+d.shift(),M=w+d.shift(),C=E+d.shift(),T=M+d.shift(),e.U.P.curveTo(c,_,w,E,M,C,T),me+=6;z=="o24"&&(C+=d.shift(),T+=d.shift(),e.U.P.lineTo(c,C,T))}else{if(z=="o11")break;if(z=="o1234"||z=="o1235"||z=="o1236"||z=="o1237")z=="o1234"&&(w=T,E=(_=C+d.shift())+d.shift(),F=M=w+d.shift(),D=M,U=T,C=(A=(R=(N=E+d.shift())+d.shift())+d.shift())+d.shift(),e.U.P.curveTo(c,_,w,E,M,N,F),e.U.P.curveTo(c,R,D,A,U,C,T)),z=="o1235"&&(_=C+d.shift(),w=T+d.shift(),E=_+d.shift(),M=w+d.shift(),N=E+d.shift(),F=M+d.shift(),R=N+d.shift(),D=F+d.shift(),A=R+d.shift(),U=D+d.shift(),C=A+d.shift(),T=U+d.shift(),d.shift(),e.U.P.curveTo(c,_,w,E,M,N,F),e.U.P.curveTo(c,R,D,A,U,C,T)),z=="o1236"&&(_=C+d.shift(),w=T+d.shift(),E=_+d.shift(),F=M=w+d.shift(),D=M,A=(R=(N=E+d.shift())+d.shift())+d.shift(),U=D+d.shift(),C=A+d.shift(),e.U.P.curveTo(c,_,w,E,M,N,F),e.U.P.curveTo(c,R,D,A,U,C,T)),z=="o1237"&&(_=C+d.shift(),w=T+d.shift(),E=_+d.shift(),M=w+d.shift(),N=E+d.shift(),F=M+d.shift(),R=N+d.shift(),D=F+d.shift(),A=R+d.shift(),U=D+d.shift(),Math.abs(A-C)>Math.abs(U-T)?C=A+d.shift():T=U+d.shift(),e.U.P.curveTo(c,_,w,E,M,N,F),e.U.P.curveTo(c,R,D,A,U,C,T));else if(z=="o14"){if(d.length>0&&!v&&(g=d.shift()+s.nominalWidthX,v=!0),d.length==4){var j=d.shift(),G=d.shift(),O=d.shift(),L=d.shift(),B=e.CFF.glyphBySE(s,O),V=e.CFF.glyphBySE(s,L);e.U._drawCFF(s.CharStrings[B],o,s,u,c),o.x=j,o.y=G,e.U._drawCFF(s.CharStrings[V],o,s,u,c)}y&&(e.U.P.closePath(c),y=!1)}else if(z=="o19"||z=="o20")d.length%2!=0&&!v&&(g=d.shift()+u.nominalWidthX),p+=d.length>>1,d.length=0,v=!0,x+=p+7>>3;else if(z=="o21")d.length>2&&!v&&(g=d.shift()+u.nominalWidthX,v=!0),T+=d.pop(),C+=d.pop(),y&&e.U.P.closePath(c),e.U.P.moveTo(c,C,T),y=!0;else if(z=="o22")d.length>1&&!v&&(g=d.shift()+u.nominalWidthX,v=!0),C+=d.pop(),y&&e.U.P.closePath(c),e.U.P.moveTo(c,C,T),y=!0;else if(z=="o25"){for(;d.length>6;)C+=d.shift(),T+=d.shift(),e.U.P.lineTo(c,C,T);_=C+d.shift(),w=T+d.shift(),E=_+d.shift(),M=w+d.shift(),C=E+d.shift(),T=M+d.shift(),e.U.P.curveTo(c,_,w,E,M,C,T)}else if(z=="o26")for(d.length%2&&(C+=d.shift());d.length>0;)_=C,w=T+d.shift(),C=E=_+d.shift(),T=(M=w+d.shift())+d.shift(),e.U.P.curveTo(c,_,w,E,M,C,T);else if(z=="o27")for(d.length%2&&(T+=d.shift());d.length>0;)w=T,E=(_=C+d.shift())+d.shift(),M=w+d.shift(),C=E+d.shift(),T=M,e.U.P.curveTo(c,_,w,E,M,C,T);else if(z=="o10"||z=="o29"){var $=z=="o10"?u:s;if(d.length==0)console.debug("error: empty stack");else{var J=d.pop(),ee=$.Subrs[J+$.Bias];o.x=C,o.y=T,o.nStems=p,o.haveWidth=v,o.width=g,o.open=y,e.U._drawCFF(ee,o,s,u,c),C=o.x,T=o.y,p=o.nStems,v=o.haveWidth,g=o.width,y=o.open}}else if(z=="o30"||z=="o31"){var oe=d.length,de=(me=0,z=="o31");for(me+=oe-(X=-3&oe);me<X;)de?(w=T,E=(_=C+d.shift())+d.shift(),T=(M=w+d.shift())+d.shift(),X-me==5?(C=E+d.shift(),me++):C=E,de=!1):(_=C,w=T+d.shift(),E=_+d.shift(),M=w+d.shift(),C=E+d.shift(),X-me==5?(T=M+d.shift(),me++):T=M,de=!0),e.U.P.curveTo(c,_,w,E,M,C,T),me+=4}else{if((z+"").charAt(0)=="o")throw console.debug("Unknown operation: "+z,i),z;d.push(z)}}}o.x=C,o.y=T,o.nStems=p,o.haveWidth=v,o.width=g,o.open=y};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function h4(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(z,X){for(var W=new n(31),re=0;re<31;++re)W[re]=X+=1<<z[re-1];var q=new r(W[30]);for(re=1;re<30;++re)for(var me=W[re];me<W[re+1];++me)q[me]=me-W[re]<<5|re;return[W,q]},c=u(i,2),d=c[0],p=c[1];d[28]=258,p[258]=28;for(var v=u(o,0)[0],g=new n(32768),y=0;y<32768;++y){var x=(43690&y)>>>1|(21845&y)<<1;x=(61680&(x=(52428&x)>>>2|(13107&x)<<2))>>>4|(3855&x)<<4,g[y]=((65280&x)>>>8|(255&x)<<8)>>>1}var C=function(z,X,W){for(var re=z.length,q=0,me=new n(X);q<re;++q)++me[z[q]-1];var j,G=new n(X);for(q=0;q<X;++q)G[q]=G[q-1]+me[q-1]<<1;if(W){j=new n(1<<X);var O=15-X;for(q=0;q<re;++q)if(z[q])for(var L=q<<4|z[q],B=X-z[q],V=G[z[q]-1]++<<B,$=V|(1<<B)-1;V<=$;++V)j[g[V]>>>O]=L}else for(j=new n(re),q=0;q<re;++q)z[q]&&(j[q]=g[G[z[q]-1]++]>>>15-z[q]);return j},T=new e(288);for(y=0;y<144;++y)T[y]=8;for(y=144;y<256;++y)T[y]=9;for(y=256;y<280;++y)T[y]=7;for(y=280;y<288;++y)T[y]=8;var _=new e(32);for(y=0;y<32;++y)_[y]=5;var w=C(T,9,1),E=C(_,5,1),M=function(z){for(var X=z[0],W=1;W<z.length;++W)z[W]>X&&(X=z[W]);return X},R=function(z,X,W){var re=X/8|0;return(z[re]|z[re+1]<<8)>>(7&X)&W},D=function(z,X){var W=X/8|0;return(z[W]|z[W+1]<<8|z[W+2]<<16)>>(7&X)},A=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],U=function(z,X,W){var re=new Error(X||A[z]);if(re.code=z,Error.captureStackTrace&&Error.captureStackTrace(re,U),!W)throw re;return re},N=function(z,X,W){var re=z.length;if(!re||W&&!W.l&&re<5)return X||new e(0);var q=!X||W,me=!W||W.i;W||(W={}),X||(X=new e(3*re));var j,G=function(Ye){var b=X.length;if(Ye>b){var pe=new e(Math.max(2*b,Ye));pe.set(X),X=pe}},O=W.f||0,L=W.p||0,B=W.b||0,V=W.l,$=W.d,J=W.m,ee=W.n,oe=8*re;do{if(!V){W.f=O=R(z,L,1);var de=R(z,L+1,3);if(L+=3,!de){var Me=z[(Le=((j=L)/8|0)+(7&j&&1)+4)-4]|z[Le-3]<<8,Ce=Le+Me;if(Ce>re){me&&U(0);break}q&&G(B+Me),X.set(z.subarray(Le,Ce),B),W.b=B+=Me,W.p=L=8*Ce;continue}if(de==1)V=w,$=E,J=9,ee=5;else if(de==2){var fe=R(z,L,31)+257,he=R(z,L+10,15)+4,Fe=fe+R(z,L+5,31)+1;L+=14;for(var be=new e(Fe),Ue=new e(19),je=0;je<he;++je)Ue[s[je]]=R(z,L+3*je,7);L+=3*he;var ze=M(Ue),ye=(1<<ze)-1,Ne=C(Ue,ze,1);for(je=0;je<Fe;){var Le,ve=Ne[R(z,L,ye)];if(L+=15&ve,(Le=ve>>>4)<16)be[je++]=Le;else{var tt=0,De=0;for(Le==16?(De=3+R(z,L,3),L+=2,tt=be[je-1]):Le==17?(De=3+R(z,L,7),L+=3):Le==18&&(De=11+R(z,L,127),L+=7);De--;)be[je++]=tt}}var Ie=be.subarray(0,fe),Pe=be.subarray(fe);J=M(Ie),ee=M(Pe),V=C(Ie,J,1),$=C(Pe,ee,1)}else U(1);if(L>oe){me&&U(0);break}}q&&G(B+131072);for(var St=(1<<J)-1,Oe=(1<<ee)-1,He=L;;He=L){var Xe=(tt=V[D(z,L)&St])>>>4;if((L+=15&tt)>oe){me&&U(0);break}if(tt||U(2),Xe<256)X[B++]=Xe;else{if(Xe==256){He=L,V=null;break}var it=Xe-254;if(Xe>264){var Ut=i[je=Xe-257];it=R(z,L,(1<<Ut)-1)+d[je],L+=Ut}var Ft=$[D(z,L)&Oe],ot=Ft>>>4;if(Ft||U(3),L+=15&Ft,Pe=v[ot],ot>3&&(Ut=o[ot],Pe+=D(z,L)&(1<<Ut)-1,L+=Ut),L>oe){me&&U(0);break}q&&G(B+131072);for(var Ke=B+it;B<Ke;B+=4)X[B]=X[B-Pe],X[B+1]=X[B+1-Pe],X[B+2]=X[B+2-Pe],X[B+3]=X[B+3-Pe];B=Ke}}W.l=V,W.p=He,W.b=B,V&&(O=1,W.m=J,W.d=$,W.n=ee)}while(!O);return B==X.length?X:function(Ye,b,pe){(b==null||b<0)&&(b=0),(pe==null||pe>Ye.length)&&(pe=Ye.length);var Te=new(Ye instanceof n?n:Ye instanceof r?r:e)(pe-b);return Te.set(Ye.subarray(b,pe)),Te}(X,0,B)},F=new e(0),Q=typeof TextDecoder<"u"&&new TextDecoder;try{Q.decode(F,{stream:!0})}catch{}return t.convert_streams=function(z){var X=new DataView(z),W=0;function re(){var fe=X.getUint16(W);return W+=2,fe}function q(){var fe=X.getUint32(W);return W+=4,fe}function me(fe){Me.setUint16(Ce,fe),Ce+=2}function j(fe){Me.setUint32(Ce,fe),Ce+=4}for(var G={signature:q(),flavor:q(),length:q(),numTables:re(),reserved:re(),totalSfntSize:q(),majorVersion:re(),minorVersion:re(),metaOffset:q(),metaLength:q(),metaOrigLength:q(),privOffset:q(),privLength:q()},O=0;Math.pow(2,O)<=G.numTables;)O++;O--;for(var L=16*Math.pow(2,O),B=16*G.numTables-L,V=12,$=[],J=0;J<G.numTables;J++)$.push({tag:q(),offset:q(),compLength:q(),origLength:q(),origChecksum:q()}),V+=16;var ee,oe=new Uint8Array(12+16*$.length+$.reduce(function(fe,he){return fe+he.origLength+4},0)),de=oe.buffer,Me=new DataView(de),Ce=0;return j(G.flavor),me(G.numTables),me(L),me(O),me(B),$.forEach(function(fe){j(fe.tag),j(fe.origChecksum),j(V),j(fe.origLength),fe.outOffset=V,(V+=fe.origLength)%4!=0&&(V+=4-V%4)}),$.forEach(function(fe){var he,Fe=z.slice(fe.offset,fe.offset+fe.compLength);if(fe.compLength!=fe.origLength){var be=new Uint8Array(fe.origLength);he=new Uint8Array(Fe,2),N(he,be)}else be=new Uint8Array(Fe);oe.set(be,fe.outOffset);var Ue=0;(V=fe.outOffset+fe.origLength)%4!=0&&(Ue=4-V%4),oe.set(new Uint8Array(Ue).buffer,fe.outOffset+fe.origLength),ee=V+Ue}),de.slice(0,ee)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function v4(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,o=2,s=4,u=8,c=16,d=32;let p;function v(A){if(!p){const U={R:o,L:i,D:s,C:c,U:d,T:u};p=new Map;for(let N in r){let F=0;r[N].split(",").forEach(Q=>{let[z,X]=Q.split("+");z=parseInt(z,36),X=X?parseInt(X,36):0,p.set(F+=z,U[N]);for(let W=X;W--;)p.set(++F,U[N])})}}return p.get(A)||d}const g=1,y=2,x=3,C=4,T=[null,"isol","init","fina","medi"];function _(A){const U=new Uint8Array(A.length);let N=d,F=g,Q=-1;for(let z=0;z<A.length;z++){const X=A.codePointAt(z);let W=v(X)|0,re=g;W&u||(N&(i|s|c)?W&(o|s|c)?(re=x,(F===g||F===x)&&U[Q]++):W&(i|d)&&(F===y||F===C)&&U[Q]--:N&(o|d)&&(F===y||F===C)&&U[Q]--,F=U[z]=re,N=W,Q=z,X>65535&&z++)}return U}function w(A,U){const N=[];for(let Q=0;Q<U.length;Q++){const z=U.codePointAt(Q);z>65535&&Q++,N.push(t.U.codeToGlyph(A,z))}const F=A.GSUB;if(F){const{lookupList:Q,featureList:z}=F;let X;const W=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,re=[];z.forEach(q=>{if(W.test(q.tag))for(let me=0;me<q.tab.length;me++){if(re[q.tab[me]])continue;re[q.tab[me]]=!0;const j=Q[q.tab[me]],G=/^(isol|init|fina|medi)$/.test(q.tag);G&&!X&&(X=_(U));for(let O=0;O<N.length;O++)(!X||!G||T[X[O]]===q.tag)&&t.U._applySubs(N,O,j,Q)}})}return N}function E(A,U){const N=new Int16Array(U.length*3);let F=0;for(;F<U.length;F++){const W=U[F];if(W===-1)continue;N[F*3+2]=A.hmtx.aWidth[W];const re=A.GPOS;if(re){const q=re.lookupList;for(let me=0;me<q.length;me++){const j=q[me];for(let G=0;G<j.tabs.length;G++){const O=j.tabs[G];if(j.ltype===1){if(t._lctf.coverageIndex(O.coverage,W)!==-1&&O.pos){X(O.pos,F);break}}else if(j.ltype===2){let L=null,B=Q();if(B!==-1){const V=t._lctf.coverageIndex(O.coverage,U[B]);if(V!==-1){if(O.fmt===1){const $=O.pairsets[V];for(let J=0;J<$.length;J++)$[J].gid2===W&&(L=$[J])}else if(O.fmt===2){const $=t.U._getGlyphClass(U[B],O.classDef1),J=t.U._getGlyphClass(W,O.classDef2);L=O.matrix[$][J]}if(L){L.val1&&X(L.val1,B),L.val2&&X(L.val2,F);break}}}}else if(j.ltype===4){const L=t._lctf.coverageIndex(O.markCoverage,W);if(L!==-1){const B=Q(z),V=B===-1?-1:t._lctf.coverageIndex(O.baseCoverage,U[B]);if(V!==-1){const $=O.markArray[L],J=O.baseArray[V][$.markClass];N[F*3]=J.x-$.x+N[B*3]-N[B*3+2],N[F*3+1]=J.y-$.y+N[B*3+1];break}}}else if(j.ltype===6){const L=t._lctf.coverageIndex(O.mark1Coverage,W);if(L!==-1){const B=Q();if(B!==-1){const V=U[B];if(M(A,V)===3){const $=t._lctf.coverageIndex(O.mark2Coverage,V);if($!==-1){const J=O.mark1Array[L],ee=O.mark2Array[$][J.markClass];N[F*3]=ee.x-J.x+N[B*3]-N[B*3+2],N[F*3+1]=ee.y-J.y+N[B*3+1];break}}}}}}}}else if(A.kern&&!A.cff){const q=Q();if(q!==-1){const me=A.kern.glyph1.indexOf(U[q]);if(me!==-1){const j=A.kern.rval[me].glyph2.indexOf(W);j!==-1&&(N[q*3+2]+=A.kern.rval[me].vals[j])}}}}return N;function Q(W){for(let re=F-1;re>=0;re--)if(U[re]!==-1&&(!W||W(U[re])))return re;return-1}function z(W){return M(A,W)===1}function X(W,re){for(let q=0;q<3;q++)N[re*3+q]+=W[q]||0}}function M(A,U){const N=A.GDEF&&A.GDEF.glyphClassDef;return N?t.U._getGlyphClass(U,N):0}function R(...A){for(let U=0;U<A.length;U++)if(typeof A[U]=="number")return A[U]}function D(A){const U=Object.create(null),N=A["OS/2"],F=A.hhea,Q=A.head.unitsPerEm,z=R(N&&N.sTypoAscender,F&&F.ascender,Q),X={unitsPerEm:Q,ascender:z,descender:R(N&&N.sTypoDescender,F&&F.descender,0),capHeight:R(N&&N.sCapHeight,z),xHeight:R(N&&N.sxHeight,z),lineGap:R(N&&N.sTypoLineGap,F&&F.lineGap),supportsCodePoint(W){return t.U.codeToGlyph(A,W)>0},forEachGlyph(W,re,q,me){let j=0;const G=1/X.unitsPerEm*re,O=w(A,W);let L=0;const B=E(A,O);return O.forEach((V,$)=>{if(V!==-1){let J=U[V];if(!J){const{cmds:ee,crds:oe}=t.U.glyphToPath(A,V);let de="",Me=0;for(let be=0,Ue=ee.length;be<Ue;be++){const je=n[ee[be]];de+=ee[be];for(let ze=1;ze<=je;ze++)de+=(ze>1?",":"")+oe[Me++]}let Ce,fe,he,Fe;if(oe.length){Ce=fe=1/0,he=Fe=-1/0;for(let be=0,Ue=oe.length;be<Ue;be+=2){let je=oe[be],ze=oe[be+1];je<Ce&&(Ce=je),ze<fe&&(fe=ze),je>he&&(he=je),ze>Fe&&(Fe=ze)}}else Ce=he=fe=Fe=0;J=U[V]={index:V,advanceWidth:A.hmtx.aWidth[V],xMin:Ce,yMin:fe,xMax:he,yMax:Fe,path:de}}me.call(null,J,j+B[$*3]*G,B[$*3+1]*G,L),j+=B[$*3+2]*G,q&&(j+=q*re)}L+=W.codePointAt(L)>65535?2:1}),j}};return X}return function(U){const N=new Uint8Array(U,0,4),F=t._bin.readASCII(N,0,4);if(F==="wOFF")U=e(U);else if(F==="wOF2")throw new Error("woff2 fonts not supported");return D(t.parse(U)[0])}}const m4=Sa({name:"Typr Font Parser",dependencies:[p4,h4,v4],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function g4(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(E){var M=E>>5;this.buckets.set(M,(this.buckets.get(M)||0)|1<<(31&E))},e.prototype.has=function(E){var M=this.buckets.get(E>>5);return M!==void 0&&(M&1<<(31&E))!=0},e.prototype.serialize=function(){var E=[];return this.buckets.forEach(function(M,R){E.push((+R).toString(36)+":"+M.toString(36))}),E.join(",")},e.prototype.deserialize=function(E){var M=this;this.buckets.clear(),E.split(",").forEach(function(R){var D=R.split(":");M.buckets.set(parseInt(D[0],36),parseInt(D[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function o(E){var M=function(D){return D&i}(E).toString(16),R=function(D){return(D&i)+n-1}(E).toString(16);return"codepoint-index/plane"+(E>>16)+"/"+M+"-"+R+".json"}function s(E,M){var R=E&r,D=M.codePointAt(R/6|0);return((D=(D||48)-48)&1<<R%6)!=0}function u(E,M){var R;(R=E,R.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(D){return D.split("-").map(function(A){return parseInt(A.trim(),16)})})).forEach(function(D){var A=D[0],U=D[1];U===void 0&&(U=A),M(A,U)})}function c(E,M){u(E,function(R,D){for(var A=R;A<=D;A++)M(A)})}var d={},p={},v=new WeakMap,g="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function y(E){var M=v.get(E);return M||(M=new e,c(E.ranges,function(R){return M.add(R)}),v.set(E,M)),M}var x,C=new Map;function T(E,M,R){return E[M]?M:E[R]?R:function(D){for(var A in D)return A}(E)}function _(E,M){var R=M;if(!E.includes(R)){R=1/0;for(var D=0;D<E.length;D++)Math.abs(E[D]-M)<Math.abs(R-M)&&(R=E[D])}return R}function w(E){return x||(x=new Set,c("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(M){x.add(M)})),x.has(E)}return t.CodePointSet=e,t.clearCache=function(){d={},p={}},t.getFontsForString=function(E,M){M===void 0&&(M={});var R,D=M.lang;D===void 0&&(D=/\p{Script=Hangul}/u.test(R=E)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(R)?"ja":"en");var A=M.category;A===void 0&&(A="sans-serif");var U=M.style;U===void 0&&(U="normal");var N=M.weight;N===void 0&&(N=400);var F=(M.dataUrl||g).replace(/\/$/g,""),Q=new Map,z=new Uint8Array(E.length),X={},W={},re=new Array(E.length),q=new Map,me=!1;function j(L){var B=C.get(L);return B||(B=fetch(F+"/"+L).then(function(V){if(!V.ok)throw new Error(V.statusText);return V.json().then(function($){if(!Array.isArray($)||$[0]!==1)throw new Error("Incorrect schema version; need 1, got "+$[0]);return $[1]})}).catch(function(V){if(F!==g)return me||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+F+'", trying default CDN. '+V.message),me=!0),F=g,C.delete(L),j(L);throw V}),C.set(L,B)),B}for(var G=function(L){var B=E.codePointAt(L),V=o(B);re[L]=V,d[V]||q.has(V)||q.set(V,j(V).then(function($){d[V]=$})),B>65535&&(L++,O=L)},O=0;O<E.length;O++)G(O);return Promise.all(q.values()).then(function(){q.clear();for(var L=function(V){var $=E.codePointAt(V),J=null,ee=d[re[V]],oe=void 0;for(var de in ee){var Me=W[de];if(Me===void 0&&(Me=W[de]=new RegExp(de).test(D||"en")),Me){for(var Ce in oe=de,ee[de])if(s($,ee[de][Ce])){J=Ce;break}break}}if(!J){e:for(var fe in ee)if(fe!==oe){for(var he in ee[fe])if(s($,ee[fe][he])){J=he;break e}}}J||(console.debug("No font coverage for U+"+$.toString(16)),J="latin"),re[V]=J,p[J]||q.has(J)||q.set(J,j("font-meta/"+J+".json").then(function(Fe){p[J]=Fe})),$>65535&&(V++,B=V)},B=0;B<E.length;B++)L(B);return Promise.all(q.values())}).then(function(){for(var L,B=null,V=0;V<E.length;V++){var $=E.codePointAt(V);if(B&&(w($)||y(B).has($)))z[V]=z[V-1];else{B=p[re[V]];var J=X[B.id];if(!J){var ee=B.typeforms,oe=T(ee,A,"sans-serif"),de=T(ee[oe],U,"normal"),Me=_((L=ee[oe])===null||L===void 0?void 0:L[de],N);J=X[B.id]=F+"/font-files/"+B.id+"/"+oe+"."+de+"."+Me+".woff"}var Ce=Q.get(J);Ce==null&&(Ce=Q.size,Q.set(J,Ce)),z[V]=Ce}$>65535&&(V++,z[V]=z[V-1])}return{fontUrls:Array.from(Q.keys()),chars:z}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function y4(t,e){const n=Object.create(null),r=Object.create(null);function i(s,u){const c=d=>{console.error(`Failure loading font ${s}`,d)};try{const d=new XMLHttpRequest;d.open("get",s,!0),d.responseType="arraybuffer",d.onload=function(){if(d.status>=400)c(new Error(d.statusText));else if(d.status>0)try{const p=t(d.response);p.src=s,u(p)}catch(p){c(p)}},d.onerror=c,d.send()}catch(d){c(d)}}function o(s,u){let c=n[s];c?u(c):r[s]?r[s].push(u):(r[s]=[u],i(s,d=>{d.src=s,n[s]=d,r[s].forEach(p=>p(d)),delete r[s]}))}return function(s,u,{lang:c,fonts:d=[],style:p="normal",weight:v="normal",unicodeFontsURL:g}={}){const y=new Uint8Array(s.length),x=[];s.length||w();const C=new Map,T=[];if(p!=="italic"&&(p="normal"),typeof v!="number"&&(v=v==="bold"?700:400),d&&!Array.isArray(d)&&(d=[d]),d=d.slice().filter(M=>!M.lang||M.lang.test(c)).reverse(),d.length){let A=0;(function U(N=0){for(let F=N,Q=s.length;F<Q;F++){const z=s.codePointAt(F);if(A===1&&x[y[F-1]].supportsCodePoint(z)||F>0&&/\s/.test(s[F]))y[F]=y[F-1],A===2&&(T[T.length-1][1]=F);else for(let X=y[F],W=d.length;X<=W;X++)if(X===W){const re=A===2?T[T.length-1]:T[T.length]=[F,F];re[1]=F,A=2}else{y[F]=X;const{src:re,unicodeRange:q}=d[X];if(!q||E(z,q)){const me=n[re];if(!me){o(re,()=>{U(F)});return}if(me.supportsCodePoint(z)){let j=C.get(me);typeof j!="number"&&(j=x.length,x.push(me),C.set(me,j)),y[F]=j,A=1;break}}}z>65535&&F+1<Q&&(y[F+1]=y[F],F++,A===2&&(T[T.length-1][1]=F))}_()})()}else T.push([0,s.length-1]),_();function _(){if(T.length){const M=T.map(R=>s.substring(R[0],R[1]+1)).join(`
`);e.getFontsForString(M,{lang:c||void 0,style:p,weight:v,dataUrl:g}).then(({fontUrls:R,chars:D})=>{const A=x.length;let U=0;T.forEach(F=>{for(let Q=0,z=F[1]-F[0];Q<=z;Q++)y[F[0]+Q]=D[U++]+A;U++});let N=0;R.forEach((F,Q)=>{o(F,z=>{x[Q+A]=z,++N===R.length&&w()})})})}else w()}function w(){u({chars:y,fonts:x})}function E(M,R){for(let D=0;D<R.length;D++){const[A,U=A]=R[D];if(A<=M&&M<=U)return!0}return!1}}}const w4=Sa({name:"FontResolver",dependencies:[y4,m4,g4],init(t,e,n){return t(e,n())}});function S4(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",o=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:x,lang:C,fonts:T,style:_,weight:w,preResolvedFonts:E,unicodeFontsURL:M},R){const D=({chars:A,fonts:U})=>{let N,F;const Q=[];for(let z=0;z<A.length;z++)A[z]!==F?(F=A[z],Q.push(N={start:z,end:z,fontObj:U[A[z]]})):N.end=z;R(Q)};E?D(E):t(x,D,{lang:C,fonts:T,style:_,weight:w,unicodeFontsURL:M})}function u({text:x="",font:C,lang:T,sdfGlyphSize:_=64,fontSize:w=400,fontWeight:E=1,fontStyle:M="normal",letterSpacing:R=0,lineHeight:D="normal",maxWidth:A=1/0,direction:U,textAlign:N="left",textIndent:F=0,whiteSpace:Q="normal",overflowWrap:z="normal",anchorX:X=0,anchorY:W=0,metricsOnly:re=!1,unicodeFontsURL:q,preResolvedFonts:me=null,includeCaretPositions:j=!1,chunkedBoundsSize:G=8192,colorRanges:O=null},L){const B=v(),V={fontLoad:0,typesetting:0};x.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),x=x.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,R=+R,A=+A,D=D||"normal",F=+F,s({text:x,lang:T,style:M,weight:E,fonts:typeof C=="string"?[{src:C}]:C,unicodeFontsURL:q,preResolvedFonts:me},$=>{V.fontLoad=v()-B;const J=isFinite(A);let ee=null,oe=null,de=null,Me=null,Ce=null,fe=null,he=null,Fe=null,be=0,Ue=0,je=Q!=="nowrap";const ze=new Map,ye=v();let Ne=F,Le=0,ve=new g;const tt=[ve];$.forEach(Oe=>{const{fontObj:He}=Oe,{ascender:Xe,descender:it,unitsPerEm:Ut,lineGap:Ft,capHeight:ot,xHeight:Ke}=He;let Ye=ze.get(He);if(!Ye){const ue=w/Ut,lt=D==="normal"?(Xe-it+Ft)*ue:D*w,cn=(lt-(Xe-it)*ue)/2,Dt=Math.min(lt,(Xe-it)*ue),ct=(Xe+it)/2*ue+Dt/2;Ye={index:ze.size,src:He.src,fontObj:He,fontSizeMult:ue,unitsPerEm:Ut,ascender:Xe*ue,descender:it*ue,capHeight:ot*ue,xHeight:Ke*ue,lineHeight:lt,baseline:-cn-Xe*ue,caretTop:ct,caretBottom:ct-Dt},ze.set(He,Ye)}const{fontSizeMult:b}=Ye,pe=x.slice(Oe.start,Oe.end+1);let Te,Ve;He.forEachGlyph(pe,w,R,(ue,lt,cn,Dt)=>{lt+=Le,Dt+=Oe.start,Te=lt,Ve=ue;const ct=x.charAt(Dt),Ct=ue.advanceWidth*b,_t=ve.count;let qe;if("isEmpty"in ue||(ue.isWhitespace=!!ct&&new RegExp(i).test(ct),ue.canBreakAfter=!!ct&&o.test(ct),ue.isEmpty=ue.xMin===ue.xMax||ue.yMin===ue.yMax||r.test(ct)),!ue.isWhitespace&&!ue.isEmpty&&Ue++,je&&J&&!ue.isWhitespace&&lt+Ct+Ne>A&&_t){if(ve.glyphAt(_t-1).glyphObj.canBreakAfter)qe=new g,Ne=-lt;else for(let jt=_t;jt--;)if(jt===0&&z==="break-word"){qe=new g,Ne=-lt;break}else if(ve.glyphAt(jt).glyphObj.canBreakAfter){qe=ve.splitAt(jt+1);const bt=qe.glyphAt(0).x;Ne-=bt;for(let qt=qe.count;qt--;)qe.glyphAt(qt).x-=bt;break}qe&&(ve.isSoftWrapped=!0,ve=qe,tt.push(ve),be=A)}let Tt=ve.glyphAt(ve.count);Tt.glyphObj=ue,Tt.x=lt+Ne,Tt.y=cn,Tt.width=Ct,Tt.charIndex=Dt,Tt.fontData=Ye,ct===`
`&&(ve=new g,tt.push(ve),Ne=-(lt+Ct+R*w)+F)}),Le=Te+Ve.advanceWidth*b+R*w});let De=0;tt.forEach(Oe=>{let He=!0;for(let Xe=Oe.count;Xe--;){const it=Oe.glyphAt(Xe);He&&!it.glyphObj.isWhitespace&&(Oe.width=it.x+it.width,Oe.width>be&&(be=Oe.width),He=!1);let{lineHeight:Ut,capHeight:Ft,xHeight:ot,baseline:Ke}=it.fontData;Ut>Oe.lineHeight&&(Oe.lineHeight=Ut);const Ye=Ke-Oe.baseline;Ye<0&&(Oe.baseline+=Ye,Oe.cap+=Ye,Oe.ex+=Ye),Oe.cap=Math.max(Oe.cap,Oe.baseline+Ft),Oe.ex=Math.max(Oe.ex,Oe.baseline+ot)}Oe.baseline-=De,Oe.cap-=De,Oe.ex-=De,De+=Oe.lineHeight});let Ie=0,Pe=0;if(X&&(typeof X=="number"?Ie=-X:typeof X=="string"&&(Ie=-be*(X==="left"?0:X==="center"?.5:X==="right"?1:d(X)))),W&&(typeof W=="number"?Pe=-W:typeof W=="string"&&(Pe=W==="top"?0:W==="top-baseline"?-tt[0].baseline:W==="top-cap"?-tt[0].cap:W==="top-ex"?-tt[0].ex:W==="middle"?De/2:W==="bottom"?De:W==="bottom-baseline"?-tt[tt.length-1].baseline:d(W)*De)),!re){const Oe=e.getEmbeddingLevels(x,U);ee=new Uint16Array(Ue),oe=new Uint8Array(Ue),de=new Float32Array(Ue*2),Me={},he=[1/0,1/0,-1/0,-1/0],Fe=[],j&&(fe=new Float32Array(x.length*4)),O&&(Ce=new Uint8Array(Ue*3));let He=0,Xe=-1,it=-1,Ut,Ft;if(tt.forEach((ot,Ke)=>{let{count:Ye,width:b}=ot;if(Ye>0){let pe=0;for(let Dt=Ye;Dt--&&ot.glyphAt(Dt).glyphObj.isWhitespace;)pe++;let Te=0,Ve=0;if(N==="center")Te=(be-b)/2;else if(N==="right")Te=be-b;else if(N==="justify"&&ot.isSoftWrapped){let Dt=0;for(let ct=Ye-pe;ct--;)ot.glyphAt(ct).glyphObj.isWhitespace&&Dt++;Ve=(be-b)/Dt}if(Ve||Te){let Dt=0;for(let ct=0;ct<Ye;ct++){let Ct=ot.glyphAt(ct);const _t=Ct.glyphObj;Ct.x+=Te+Dt,Ve!==0&&_t.isWhitespace&&ct<Ye-pe&&(Dt+=Ve,Ct.width+=Ve)}}const ue=e.getReorderSegments(x,Oe,ot.glyphAt(0).charIndex,ot.glyphAt(ot.count-1).charIndex);for(let Dt=0;Dt<ue.length;Dt++){const[ct,Ct]=ue[Dt];let _t=1/0,qe=-1/0;for(let Tt=0;Tt<Ye;Tt++)if(ot.glyphAt(Tt).charIndex>=ct){let jt=Tt,bt=Tt;for(;bt<Ye;bt++){let qt=ot.glyphAt(bt);if(qt.charIndex>Ct)break;bt<Ye-pe&&(_t=Math.min(_t,qt.x),qe=Math.max(qe,qt.x+qt.width))}for(let qt=jt;qt<bt;qt++){const Jn=ot.glyphAt(qt);Jn.x=qe-(Jn.x+Jn.width-_t)}break}}let lt;const cn=Dt=>lt=Dt;for(let Dt=0;Dt<Ye;Dt++){const ct=ot.glyphAt(Dt);lt=ct.glyphObj;const Ct=lt.index,_t=Oe.levels[ct.charIndex]&1;if(_t){const qe=e.getMirroredCharacter(x[ct.charIndex]);qe&&ct.fontData.fontObj.forEachGlyph(qe,0,0,cn)}if(j){const{charIndex:qe,fontData:Tt}=ct,jt=ct.x+Ie,bt=ct.x+ct.width+Ie;fe[qe*4]=_t?bt:jt,fe[qe*4+1]=_t?jt:bt,fe[qe*4+2]=ot.baseline+Tt.caretBottom+Pe,fe[qe*4+3]=ot.baseline+Tt.caretTop+Pe;const qt=qe-Xe;qt>1&&p(fe,Xe,qt),Xe=qe}if(O){const{charIndex:qe}=ct;for(;qe>it;)it++,O.hasOwnProperty(it)&&(Ft=O[it])}if(!lt.isWhitespace&&!lt.isEmpty){const qe=He++,{fontSizeMult:Tt,src:jt,index:bt}=ct.fontData,qt=Me[jt]||(Me[jt]={});qt[Ct]||(qt[Ct]={path:lt.path,pathBounds:[lt.xMin,lt.yMin,lt.xMax,lt.yMax]});const Jn=ct.x+Ie,jn=ct.y+ot.baseline+Pe;de[qe*2]=Jn,de[qe*2+1]=jn;const qn=Jn+lt.xMin*Tt,Gn=jn+lt.yMin*Tt,_n=Jn+lt.xMax*Tt,at=jn+lt.yMax*Tt;qn<he[0]&&(he[0]=qn),Gn<he[1]&&(he[1]=Gn),_n>he[2]&&(he[2]=_n),at>he[3]&&(he[3]=at),qe%G===0&&(Ut={start:qe,end:qe,rect:[1/0,1/0,-1/0,-1/0]},Fe.push(Ut)),Ut.end++;const mn=Ut.rect;if(qn<mn[0]&&(mn[0]=qn),Gn<mn[1]&&(mn[1]=Gn),_n>mn[2]&&(mn[2]=_n),at>mn[3]&&(mn[3]=at),ee[qe]=Ct,oe[qe]=bt,O){const $r=qe*3;Ce[$r]=Ft>>16&255,Ce[$r+1]=Ft>>8&255,Ce[$r+2]=Ft&255}}}}}),fe){const ot=x.length-Xe;ot>1&&p(fe,Xe,ot)}}const St=[];ze.forEach(({index:Oe,src:He,unitsPerEm:Xe,ascender:it,descender:Ut,lineHeight:Ft,capHeight:ot,xHeight:Ke})=>{St[Oe]={src:He,unitsPerEm:Xe,ascender:it,descender:Ut,lineHeight:Ft,capHeight:ot,xHeight:Ke}}),V.typesetting=v()-ye,L({glyphIds:ee,glyphFontIndices:oe,glyphPositions:de,glyphData:Me,fontData:St,caretPositions:fe,glyphColors:Ce,chunkedBounds:Fe,fontSize:w,topBaseline:Pe+tt[0].baseline,blockBounds:[Ie,Pe-De,Ie+be,Pe],visibleBounds:he,timings:V})})}function c(x,C){u({...x,metricsOnly:!0},T=>{const[_,w,E,M]=T.blockBounds;C({width:E-_,height:M-w})})}function d(x){let C=x.match(/^([\d.]+)%$/),T=C?parseFloat(C[1]):NaN;return isNaN(T)?0:T/100}function p(x,C,T){const _=x[C*4],w=x[C*4+1],E=x[C*4+2],M=x[C*4+3],R=(w-_)/T;for(let D=0;D<T;D++){const A=(C+D)*4;x[A]=_+R*D,x[A+1]=_+R*(D+1),x[A+2]=E,x[A+3]=M}}function v(){return(self.performance||Date).now()}function g(){this.data=[]}const y=["glyphObj","x","y","width","charIndex","fontData"];return g.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(x){let C=g.flyweight;return C.data=this.data,C.index=x,C},splitAt(x){let C=new g;return C.data=this.data.splice(x*y.length),C}},g.flyweight=y.reduce((x,C,T,_)=>(Object.defineProperty(x,C,{get(){return this.data[this.index*y.length+T]},set(w){this.data[this.index*y.length+T]=w}}),x),{data:null,index:0}),{typeset:u,measure:c}}const nl=()=>(self.performance||Date).now(),Cf=Tw();let ig;function _4(t,e,n,r,i,o,s,u,c,d,p=!0){return p?x4(t,e,n,r,i,o,s,u,c,d).then(null,v=>(ig||(console.warn("WebGL SDF generation failed, falling back to JS",v),ig=!0),lg(t,e,n,r,i,o,s,u,c,d))):lg(t,e,n,r,i,o,s,u,c,d)}const Dc=[],E4=5;let yh=0;function Pw(){const t=nl();for(;Dc.length&&nl()-t<E4;)Dc.shift()();yh=Dc.length?setTimeout(Pw,0):0}const x4=(...t)=>new Promise((e,n)=>{Dc.push(()=>{const r=nl();try{Cf.webgl.generateIntoCanvas(...t),e({timing:nl()-r})}catch(i){n(i)}}),yh||(yh=setTimeout(Pw,0))}),k4=4,C4=2e3,og={};let T4=0;function lg(t,e,n,r,i,o,s,u,c,d){const p="TroikaTextSDFGenerator_JS_"+T4++%k4;let v=og[p];return v||(v=og[p]={workerModule:Sa({name:p,workerId:p,dependencies:[Tw,nl],init(g,y){const x=g().javascript.generate;return function(...C){const T=y();return{textureData:x(...C),timing:y()-T}}},getTransferables(g){return[g.textureData.buffer]}}),requests:0,idleTimer:null}),v.requests++,clearTimeout(v.idleTimer),v.workerModule(t,e,n,r,i,o).then(({textureData:g,timing:y})=>{const x=nl(),C=new Uint8Array(g.length*4);for(let T=0;T<g.length;T++)C[T*4+d]=g[T];return Cf.webglUtils.renderImageData(s,C,u,c,t,e,1<<3-d),y+=nl()-x,--v.requests===0&&(v.idleTimer=setTimeout(()=>{r4(p)},C4)),{timing:y}})}function M4(t){t._warm||(Cf.webgl.isSupported(t),t._warm=!0)}const P4=Cf.webglUtils.resizeWebGLCanvasWithoutClearing,Ol={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},U4=new ul;function Ll(){return(self.performance||Date).now()}const ag=Object.create(null);function Uw(t,e){t=L4({},t);const n=Ll(),{defaultFontURL:r}=Ol,i=[];if(r&&i.push({label:"default",src:sg(r)}),t.font&&i.push({label:"user",src:sg(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Ol.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||Ol.unicodeFontsURL,t.colorRanges!=null){let y={};for(let x in t.colorRanges)if(t.colorRanges.hasOwnProperty(x)){let C=t.colorRanges[x];typeof C!="number"&&(C=U4.set(C).getHex()),y[x]=C}t.colorRanges=y}Object.freeze(t);const{textureWidth:o,sdfExponent:s}=Ol,{sdfGlyphSize:u}=t,c=o/u*4;let d=ag[u];if(!d){const y=document.createElement("canvas");y.width=o,y.height=u*256/c,d=ag[u]={glyphCount:0,sdfGlyphSize:u,sdfCanvas:y,sdfTexture:new Yo(y,void 0,void 0,void 0,Xr,Xr),contextLost:!1,glyphsByFont:new Map},d.sdfTexture.generateMipmaps=!1,D4(d)}const{sdfTexture:p,sdfCanvas:v}=d;Lw(t).then(y=>{const{glyphIds:x,glyphFontIndices:C,fontData:T,glyphPositions:_,fontSize:w,timings:E}=y,M=[],R=new Float32Array(x.length*4);let D=0,A=0;const U=Ll(),N=T.map(W=>{let re=d.glyphsByFont.get(W.src);return re||d.glyphsByFont.set(W.src,re=new Map),re});x.forEach((W,re)=>{const q=C[re],{src:me,unitsPerEm:j}=T[q];let G=N[q].get(W);if(!G){const{path:$,pathBounds:J}=y.glyphData[me][W],ee=Math.max(J[2]-J[0],J[3]-J[1])/u*(Ol.sdfMargin*u+.5),oe=d.glyphCount++,de=[J[0]-ee,J[1]-ee,J[2]+ee,J[3]+ee];N[q].set(W,G={path:$,atlasIndex:oe,sdfViewBox:de}),M.push(G)}const{sdfViewBox:O}=G,L=_[A++],B=_[A++],V=w/j;R[D++]=L+O[0]*V,R[D++]=B+O[1]*V,R[D++]=L+O[2]*V,R[D++]=B+O[3]*V,x[re]=G.atlasIndex}),E.quads=(E.quads||0)+(Ll()-U);const F=Ll();E.sdf={};const Q=v.height,z=Math.ceil(d.glyphCount/c),X=Math.pow(2,Math.ceil(Math.log2(z*u)));X>Q&&(console.info(`Increasing SDF texture size ${Q}->${X}`),P4(v,o,X),p.dispose()),Promise.all(M.map(W=>Dw(W,d,t.gpuAccelerateSDF).then(({timing:re})=>{E.sdf[W.atlasIndex]=re}))).then(()=>{M.length&&!d.contextLost&&(Rw(d),p.needsUpdate=!0),E.sdfTotal=Ll()-F,E.total=Ll()-n,e(Object.freeze({parameters:t,sdfTexture:p,sdfGlyphSize:u,sdfExponent:s,glyphBounds:R,glyphAtlasIndices:x,glyphColors:y.glyphColors,caretPositions:y.caretPositions,chunkedBounds:y.chunkedBounds,ascender:y.ascender,descender:y.descender,lineHeight:y.lineHeight,capHeight:y.capHeight,xHeight:y.xHeight,topBaseline:y.topBaseline,blockBounds:y.blockBounds,visibleBounds:y.visibleBounds,timings:y.timings}))})}),Promise.resolve().then(()=>{d.contextLost||M4(v)})}function Dw({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:o},s){if(o)return Promise.resolve({timing:-1});const{textureWidth:u,sdfExponent:c}=Ol,d=Math.max(n[2]-n[0],n[3]-n[1]),p=Math.floor(e/4),v=p%(u/r)*r,g=Math.floor(p/(u/r))*r,y=e%4;return _4(r,r,t,n,d,c,i,v,g,y,s)}function D4(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(o=>{r.push(Dw(o,t,!0))})}),Promise.all(r).then(()=>{Rw(t),t.sdfTexture.needsUpdate=!0})})}function R4({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;Uw({font:t,sdfGlyphSize:n,text:i},r)}function L4(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let cc;function sg(t){return cc||(cc=typeof document>"u"?{}:document.createElement("a")),cc.href=t,cc.href}function Rw(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,o=t.sdfCanvas.getContext("webgl");let s=n.image.data;(!s||s.length!==r*i*4)&&(s=new Uint8Array(r*i*4),n.image={width:r,height:i,data:s},n.flipY=!1,n.isDataTexture=!0),o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,s)}}const A4=Sa({name:"Typesetter",dependencies:[S4,w4,o4],init(t,e,n){return t(e,n())}}),Lw=Sa({name:"Typesetter",dependencies:[A4],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});Lw.onMainThread;const ug={};function I4(t){let e=ug[t];return e||(e=ug[t]=new va(1,1,t,t).translate(.5,.5,0)),e}const O4="aTroikaGlyphBounds",cg="aTroikaGlyphIndex",F4="aTroikaGlyphColor";class N4 extends wg{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new _h,this.boundingBox=new js}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=I4(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,o){this.updateAttributeData(O4,e,4),this.updateAttributeData(cg,n,1),this.updateAttributeData(F4,o,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:o,min:s,max:u,sin:c,cos:d}=Math,p=i/2,v=i*2,g=Math.abs(n),y=e[0]/g,x=e[2]/g,C=o((y+p)/v)!==o((x+p)/v)?-g:s(c(y)*g,c(x)*g),T=o((y-p)/v)!==o((x-p)/v)?g:u(c(y)*g,c(x)*g),_=o((y+i)/v)!==o((x+i)/v)?g*2:u(g-d(y)*g,g-d(x)*g);r.min.set(C,e[1],n<0?-_:0),r.max.set(T,e[3],n<0?0:_)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(cg).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let o=r[i].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new jS(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const z4=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,B4=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,j4=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,G4=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function H4(t){const e=gh(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new wn},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Eo(0,0,0,0)},uTroikaClipRect:{value:new Eo(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new wn},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ul},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new GS},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:z4,vertexTransform:B4,fragmentDefs:j4,fragmentColorTransform:G4,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(Mw,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const xv=new Eg({color:16777215,side:Sh,transparent:!0}),fg=8421504,dg=new Sg,fc=new wt,cp=new wt,rs=[],W4=new wt,fp="+x+y";function pg(t){return Array.isArray(t)?t[0]:t}let Aw=()=>{const t=new Co(new va(1,1),xv);return Aw=()=>t,t},Iw=()=>{const t=new Co(new va(1,1,32,1),xv);return Iw=()=>t,t};const b4={type:"syncstart"},V4={type:"synccomplete"},Ow=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Q4=Ow.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Fw=class extends Co{constructor(){const e=new N4;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=fg,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=fp,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(b4),Uw({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(V4),e&&e()})))}onBeforeRender(e,n,r,i,o,s){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return H4(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=xv.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return pg(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return pg(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:u,blockBounds:c}=i;r.uTroikaSDFTexture.value=u,r.uTroikaSDFTextureSize.value.set(u.image.width,u.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(c),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let d=0,p=0,v=0,g,y,x,C=0,T=0;if(n){let{outlineWidth:w,outlineOffsetX:E,outlineOffsetY:M,outlineBlur:R,outlineOpacity:D}=this;d=this._parsePercent(w)||0,p=Math.max(0,this._parsePercent(R)||0),g=D,C=this._parsePercent(E)||0,T=this._parsePercent(M)||0}else v=Math.max(0,this._parsePercent(this.strokeWidth)||0),v&&(x=this.strokeColor,r.uTroikaStrokeColor.value.set(x??fg),y=this.strokeOpacity,y==null&&(y=1)),g=this.fillOpacity;r.uTroikaEdgeOffset.value=d,r.uTroikaPositionOffset.value.set(C,T),r.uTroikaBlurRadius.value=p,r.uTroikaStrokeWidth.value=v,r.uTroikaStrokeOpacity.value=y,r.uTroikaFillOpacity.value=g??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let _=this.clipRect;if(_&&Array.isArray(_)&&_.length===4)r.uTroikaClipRect.value.fromArray(_);else{const w=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(c[0]-w,c[1]-w,c[2]+w,c[3]+w)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=n?this.outlineColor||0:this.color;if(o==null)delete e.color;else{const u=e.hasOwnProperty("color")?e.color:e.color=new ul;(o!==u._input||typeof o=="object")&&u.set(u._input=o)}let s=this.orientation||fp;if(s!==e._orientation){let u=r.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let c=s!==fp&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(c){let[,d,p,v,g]=c;fc.set(0,0,0)[p]=d==="-"?1:-1,cp.set(0,0,0)[g]=v==="-"?-1:1,dg.lookAt(W4,fc.cross(cp),cp),u.setFromMatrix4(dg)}else u.identity();e._orientation=s}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new wn){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new wn){return fc.copy(e),this.localPositionToTextCoords(this.worldToLocal(fc),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const o=r.blockBounds,s=i?Iw():Aw(),u=s.geometry,{position:c,uv:d}=u.attributes;for(let p=0;p<d.count;p++){let v=o[0]+d.getX(p)*(o[2]-o[0]);const g=o[1]+d.getY(p)*(o[3]-o[1]);let y=0;i&&(y=i-Math.cos(v/i)*i,v=Math.sin(v/i)*i),c.setXYZ(p,v,g,y)}u.boundingSphere=this.geometry.boundingSphere,u.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,rs.length=0,s.raycast(e,rs);for(let p=0;p<rs.length;p++)rs[p].object=this,n.push(rs[p])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,Q4.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};Ow.forEach(t=>{const e="_private_"+t;Object.defineProperty(Fw.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new js;new ul;const DC=K.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:o,characters:s,onSync:u,...c},d)=>{const p=kn(({invalidate:x})=>x),[v]=K.useState(()=>new Fw),[g,y]=K.useMemo(()=>{const x=[];let C="";return K.Children.forEach(o,T=>{typeof T=="string"||typeof T=="number"?C+=T:x.push(T)}),[x,C]},[o]);return G2(()=>new Promise(x=>R4({font:r,characters:s},x)),["troika-text",r,s]),K.useLayoutEffect(()=>void v.sync(()=>{p(),u&&u(v)})),K.useEffect(()=>()=>v.dispose(),[v]),K.createElement("primitive",ki({object:v,ref:d,font:r,text:y,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},c),g)}),Y4=()=>parseInt(gg.replace(/\D+/g,"")),X4=Y4(),RC=K.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:s,onStart:u,onEnd:c,...d},p)=>{const v=kn(D=>D.invalidate),g=kn(D=>D.camera),y=kn(D=>D.gl),x=kn(D=>D.events),C=kn(D=>D.setEvents),T=kn(D=>D.set),_=kn(D=>D.get),w=kn(D=>D.performance),E=e||g,M=r||x.connected||y.domElement,R=K.useMemo(()=>new Vk(E),[E]);return wa(()=>{R.enabled&&R.update()},-1),K.useEffect(()=>(o&&R.connect(o===!0?M:o),R.connect(M),()=>void R.dispose()),[o,M,n,R,v]),K.useEffect(()=>{const D=N=>{v(),n&&w.regress(),s&&s(N)},A=N=>{u&&u(N)},U=N=>{c&&c(N)};return R.addEventListener("change",D),R.addEventListener("start",A),R.addEventListener("end",U),()=>{R.removeEventListener("start",A),R.removeEventListener("end",U),R.removeEventListener("change",D)}},[s,u,c,R,v,C]),K.useEffect(()=>{if(t){const D=_().controls;return T({controls:R}),()=>T({controls:D})}},[t,R]),K.createElement("primitive",ki({ref:p,object:R,enableDamping:i},d))});function LC(t,e,...n){const r=K.useRef(),i=kn(o=>o.scene);return K.useLayoutEffect(()=>{let o;if(t&&t!=null&&t.current&&e&&(r.current=o=new e(t.current,...n)),o)return o.traverse(s=>s.raycast=()=>null),i.add(o),()=>{r.current=void 0,i.remove(o),o.dispose==null||o.dispose()}},[i,e,t,...n]),wa(()=>{var o;return void((o=r.current)==null||o.update==null?void 0:o.update())}),r}var Nw={exports:{}},Z4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",K4=Z4,J4=K4;function zw(){}function Bw(){}Bw.resetWarningCache=zw;var q4=function(){function t(r,i,o,s,u,c){if(c!==J4){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Bw,resetWarningCache:zw};return n.PropTypes=n,n};Nw.exports=q4();var $4=Nw.exports;const AC=lf($4),eC=3e3,tC=3001;function Tf(t,e){const n=t+"Geometry";return K.forwardRef(({args:r,children:i,...o},s)=>{const u=K.useRef(null);return K.useImperativeHandle(s,()=>u.current),K.useLayoutEffect(()=>void(e==null?void 0:e(u.current))),K.createElement("mesh",ki({ref:u},o),K.createElement(n,{attach:"geometry",args:r}),i)})}const IC=Tf("box"),OC=Tf("cylinder"),FC=Tf("sphere"),NC=Tf("plane"),jw=(t,e,n)=>{let r;switch(t){case Rc:r=new Uint8ClampedArray(e*n*4);break;case Yr:r=new Uint16Array(e*n*4);break;case QS:r=new Uint32Array(e*n*4);break;case VS:r=new Int8Array(e*n*4);break;case bS:r=new Int16Array(e*n*4);break;case WS:r=new Int32Array(e*n*4);break;case Bi:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let dc;const nC=(t,e,n,r)=>{if(dc!==void 0)return dc;const i=new Lc(1,1,r);e.setRenderTarget(i);const o=new Co(new va,new Eg({color:16777215}));e.render(o,n),e.setRenderTarget(null);const s=jw(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,s),i.dispose(),o.geometry.dispose(),o.material.dispose(),dc=s[0]!==0,dc};class kv{constructor(e){var n,r,i,o,s,u,c,d,p,v,g,y,x,C,T,_;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(E){throw this._renderer.setRenderTarget(null),E}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const w={format:oa,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.magFilter:Xr,minFilter:((c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.minFilter:Xr,samples:((p=e.renderTargetOptions)===null||p===void 0?void 0:p.samples)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.samples:void 0,wrapS:((g=e.renderTargetOptions)===null||g===void 0?void 0:g.wrapS)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapS:uo,wrapT:((x=e.renderTargetOptions)===null||x===void 0?void 0:x.wrapT)!==void 0?(C=e.renderTargetOptions)===null||C===void 0?void 0:C.wrapT:uo};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=kv.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new wh,this._camera=new qo,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!nC(this._type,this._renderer,this._camera,w)){let E;switch(this._type){case Yr:E=this._renderer.extensions.has("EXT_color_buffer_float")?Bi:void 0;break}E!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Bi}`),this._type=E):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Co(new va,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Lc(this.width,this.height,w),this._renderTarget.texture.mapping=((T=e.renderTargetOptions)===null||T===void 0?void 0:T.mapping)!==void 0?(_=e.renderTargetOptions)===null||_===void 0?void 0:_.mapping:Ac}static instantiateRenderer(){const e=new mg;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=jw(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new HS(this.toArray(),this.width,this.height,oa,this._type,(e==null?void 0:e.mapping)||Ac,(e==null?void 0:e.wrapS)||uo,(e==null?void 0:e.wrapT)||uo,(e==null?void 0:e.magFilter)||Xr,(e==null?void 0:e.minFilter)||Xr,(e==null?void 0:e.anisotropy)||1,vp);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof rl&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof Yo&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof Yo&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const rC=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,iC=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class oC extends rl{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:o,maxDisplayBoost:s,hdrCapacityMin:u,hdrCapacityMax:c,sdr:d,gainMap:p}){super({name:"GainMapDecoderMaterial",vertexShader:rC,fragmentShader:iC,uniforms:{sdr:{value:d},gainMap:{value:p},gamma:{value:new wt(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new wt().fromArray(n)},offsetSdr:{value:new wt().fromArray(r)},gainMapMin:{value:new wt().fromArray(i)},gainMapMax:{value:new wt().fromArray(o)},weightFactor:{value:(Math.log2(s)-u)/(c-u)}},blending:KS,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=u,this._hdrCapacityMax=c,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class Gw extends Error{}class Hw extends Error{}const is=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const o=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return o&&o.length===3?o.map(s=>s.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},lC=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const o=is(i,"hdrgm:GainMapMin","0"),s=is(i,"hdrgm:GainMapMax"),u=is(i,"hdrgm:Gamma","1"),c=is(i,"hdrgm:OffsetSDR","0.015625"),d=is(i,"hdrgm:OffsetHDR","0.015625"),p=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),v=p?p[1]:"0",g=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!g)throw new Error("Incomplete gainmap metadata");const y=g[1];return{gainMapMin:Array.isArray(o)?o.map(x=>parseFloat(x)):[parseFloat(o),parseFloat(o),parseFloat(o)],gainMapMax:Array.isArray(s)?s.map(x=>parseFloat(x)):[parseFloat(s),parseFloat(s),parseFloat(s)],gamma:Array.isArray(u)?u.map(x=>parseFloat(x)):[parseFloat(u),parseFloat(u),parseFloat(u)],offsetSdr:Array.isArray(c)?c.map(x=>parseFloat(x)):[parseFloat(c),parseFloat(c),parseFloat(c)],offsetHdr:Array.isArray(d)?d.map(x=>parseFloat(x)):[parseFloat(d),parseFloat(d),parseFloat(d)],hdrCapacityMin:parseFloat(v),hdrCapacityMax:parseFloat(y)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class aC{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,o=new DataView(e.buffer);if(o.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const s=o.byteLength;let u=2,c=0,d;for(;u<s;){if(++c>250){r(new Error(`Found no marker after ${c} loops 😵`));return}if(o.getUint8(u)!==255){r(new Error(`Not a valid marker at offset 0x${u.toString(16)}, found: 0x${o.getUint8(u).toString(16)}`));return}if(d=o.getUint8(u+1),i&&console.log(`Marker: ${d.toString(16)}`),d===226){i&&console.log("Found APP2 marker (0xffe2)");const p=u+4;if(o.getUint32(p)===1297106432){const v=p+4;let g;if(o.getUint16(v)===18761)g=!1;else if(o.getUint16(v)===19789)g=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(o.getUint16(v+2,!g)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const y=o.getUint32(v+4,!g);if(y<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const x=v+y,C=o.getUint16(x,!g),T=x+2;let _=0;for(let R=T;R<T+12*C;R+=12)o.getUint16(R,!g)===45057&&(_=o.getUint32(R+8,!g));const w=4,E=x+2+C*12+w,M=[];for(let R=E;R<E+_*16;R+=16){const D={MPType:o.getUint32(R,!g),size:o.getUint32(R+4,!g),dataOffset:o.getUint32(R+8,!g),dependantImages:o.getUint32(R+12,!g),start:-1,end:-1,isFII:!1};D.dataOffset?(D.start=v+D.dataOffset,D.isFII=!1):(D.start=0,D.isFII=!0),D.end=D.start+D.size,M.push(D)}if(this.options.extractNonFII&&M.length){const R=new Blob([o]),D=[];for(const A of M){if(A.isFII&&!this.options.extractFII)continue;const U=R.slice(A.start,A.end+1,"image/jpeg");D.push(U)}n(D)}}}u+=2+o.getUint16(u+2)}})}}const sC=async t=>{const e=lC(t);if(!e)throw new Hw("Gain map XMP metadata not found");const r=await new aC({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new Gw("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},hg=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class Ww extends YS{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new XS}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new oC({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Yo,sdr:new Yo});return new kv({width:16,height:16,type:Yr,colorSpace:vp,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,i){const o=i?new Blob([i],{type:"image/jpeg"}):void 0,s=new Blob([r],{type:"image/jpeg"});let u,c,d=!1;if(typeof createImageBitmap>"u"){const g=await Promise.all([o?hg(o):Promise.resolve(void 0),hg(s)]);c=g[0],u=g[1],d=!0}else{const g=await Promise.all([o?createImageBitmap(o,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:"flipY"})]);c=g[0],u=g[1]}const p=new Yo(c||new ImageData(2,2),Ac,uo,uo,Xr,a0,oa,Rc,1,vp);p.flipY=d,p.needsUpdate=!0;const v=new Yo(u,Ac,uo,uo,Xr,a0,oa,Rc,1,ZS);v.flipY=d,v.needsUpdate=!0,e.width=u.width,e.height=u.height,e.material.gainMap=p,e.material.sdr=v,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class uC extends Ww{load([e,n,r],i,o,s){const u=this.prepareQuadRenderer();let c,d,p;const v=async()=>{if(c&&d&&p){try{await this.render(u,p,c,d)}catch(N){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof s=="function"&&s(N),u.disposeOnDemandRenderer();return}typeof i=="function"&&i(u),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),u.disposeOnDemandRenderer()}};let g=!0,y=0,x=0,C=!0,T=0,_=0,w=!0,E=0,M=0;const R=()=>{if(typeof o=="function"){const N=y+T+E,F=x+_+M,Q=g&&C&&w;o(new ProgressEvent("progress",{lengthComputable:Q,loaded:F,total:N}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const D=new pc(this._internalLoadingManager);D.setResponseType("arraybuffer"),D.setRequestHeader(this.requestHeader),D.setPath(this.path),D.setWithCredentials(this.withCredentials),D.load(e,async N=>{if(typeof N=="string")throw new Error("Invalid sdr buffer");c=N,await v()},N=>{g=N.lengthComputable,x=N.loaded,y=N.total,R()},N=>{this.manager.itemError(e),typeof s=="function"&&s(N)});const A=new pc(this._internalLoadingManager);A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(this.withCredentials),A.load(n,async N=>{if(typeof N=="string")throw new Error("Invalid gainmap buffer");d=N,await v()},N=>{C=N.lengthComputable,_=N.loaded,T=N.total,R()},N=>{this.manager.itemError(n),typeof s=="function"&&s(N)});const U=new pc(this._internalLoadingManager);return U.setRequestHeader(this.requestHeader),U.setPath(this.path),U.setWithCredentials(this.withCredentials),U.load(r,async N=>{if(typeof N!="string")throw new Error("Invalid metadata string");p=JSON.parse(N),await v()},N=>{w=N.lengthComputable,M=N.loaded,E=N.total,R()},N=>{this.manager.itemError(r),typeof s=="function"&&s(N)}),u}}class cC extends Ww{load(e,n,r,i){const o=this.prepareQuadRenderer(),s=new pc(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async u=>{if(typeof u=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const c=new Uint8Array(u);let d,p,v;try{const g=await sC(c);d=g.sdr,p=g.gainMap,v=g.metadata}catch(g){if(g instanceof Hw||g instanceof Gw)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),v={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},d=c;else throw g}try{await this.render(o,v,d,p)}catch(g){this.manager.itemError(e),typeof i=="function"&&i(g),o.disposeOnDemandRenderer();return}typeof n=="function"&&n(o),this.manager.itemEnd(e),o.disposeOnDemandRenderer()},r,u=>{this.manager.itemError(e),typeof i=="function"&&i(u)}),o}}const Bs={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},bw="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",ia=t=>Array.isArray(t),Cv=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Mf({files:t=Cv,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let o=null,s=!1;n&&(Tv(n),t=Bs[n],e=bw),s=ia(t);const{extension:u,isCubemap:c}=Mv(t);if(o=Pv(u),!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);const d=kn(y=>y.gl);K.useLayoutEffect(()=>{if(u!=="webp"&&u!=="jpg"&&u!=="jpeg")return;function y(){pa.clear(o,s?[t]:t)}d.domElement.addEventListener("webglcontextlost",y,{once:!0})},[t,d.domElement]);const p=pa(o,s?[t]:t,y=>{(u==="webp"||u==="jpg"||u==="jpeg")&&y.setRenderer(d),y.setPath==null||y.setPath(e),i&&i(y)});let v=s?p[0]:p;if(u==="jpg"||u==="jpeg"||u==="webp"){var g;v=(g=v.renderTarget)==null?void 0:g.texture}return v.mapping=c?JS:qS,"colorSpace"in v?v.colorSpace=r??c?"srgb":"srgb-linear":v.encoding=r??c?tC:eC,v}const fC={files:Cv,path:"",preset:void 0,extensions:void 0};Mf.preload=t=>{const e={...fC,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:o}=e;i&&(Tv(i),n=Bs[i],r=bw);const{extension:s}=Mv(n);if(s==="webp"||s==="jpg"||s==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const u=Pv(s);if(!u)throw new Error("useEnvironment: Unrecognized file extension: "+n);pa.preload(u,ia(n)?[n]:n,c=>{c.setPath==null||c.setPath(r),o&&o(c)})};const dC={files:Cv,preset:void 0};Mf.clear=t=>{const e={...dC,...t};let{files:n}=e;const{preset:r}=e;r&&(Tv(r),n=Bs[r]);const{extension:i}=Mv(n),o=Pv(i);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);pa.clear(o,ia(n)?[n]:n)};function Tv(t){if(!(t in Bs))throw new Error("Preset must be one of: "+Object.keys(Bs).join(", "))}function Mv(t){var e;const n=ia(t)&&t.length===6,r=ia(t)&&t.length===3&&t.some(s=>s.endsWith("json")),i=ia(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function Pv(t){return t==="cube"?$S:t==="hdr"?Xk:t==="exr"?Zk:t==="jpg"||t==="jpeg"?cC:t==="webp"?uC:null}const pC=t=>t.current&&t.current.isScene,hC=t=>pC(t)?t.current:t;function Uv(t,e,n,r,i={}){var o,s,u,c;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const d=hC(e||n),p=d.background,v=d.environment,g={backgroundBlurriness:d.backgroundBlurriness,backgroundIntensity:d.backgroundIntensity,backgroundRotation:(o=(s=d.backgroundRotation)==null||s.clone==null?void 0:s.clone())!==null&&o!==void 0?o:[0,0,0],environmentIntensity:d.environmentIntensity,environmentRotation:(u=(c=d.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&u!==void 0?u:[0,0,0]};return t!=="only"&&(d.environment=r),t&&(d.background=r),lo(d,i),()=>{t!=="only"&&(d.environment=v),t&&(d.background=p),lo(d,g)}}function Dv({scene:t,background:e=!1,map:n,...r}){const i=kn(o=>o.scene);return K.useLayoutEffect(()=>{if(n)return Uv(e,t,i,n,r)}),null}function Vw({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:o,environmentIntensity:s,environmentRotation:u,...c}){const d=Mf(c),p=kn(v=>v.scene);return K.useLayoutEffect(()=>Uv(t,e,p,d,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:o,environmentIntensity:s,environmentRotation:u})),K.useEffect(()=>()=>{d.dispose()},[d]),null}function vC({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:o,background:s=!1,blur:u,backgroundBlurriness:c,backgroundIntensity:d,backgroundRotation:p,environmentIntensity:v,environmentRotation:g,scene:y,files:x,path:C,preset:T=void 0,extensions:_}){const w=kn(U=>U.gl),E=kn(U=>U.scene),M=K.useRef(null),[R]=K.useState(()=>new wh),D=K.useMemo(()=>{const U=new e_(r);return U.texture.type=Yr,U},[r]);K.useEffect(()=>()=>{D.dispose()},[D]),K.useLayoutEffect(()=>{if(i===1){const U=w.autoClear;w.autoClear=!0,M.current.update(w,R),w.autoClear=U}return Uv(s,y,E,D.texture,{backgroundBlurriness:u??c,backgroundIntensity:d,backgroundRotation:p,environmentIntensity:v,environmentRotation:g})},[t,R,D.texture,y,E,s,i,w]);let A=1;return wa(()=>{if(i===1/0||A<i){const U=w.autoClear;w.autoClear=!0,M.current.update(w,R),w.autoClear=U,A++}}),K.createElement(K.Fragment,null,i3(K.createElement(K.Fragment,null,t,K.createElement("cubeCamera",{ref:M,args:[e,n,D]}),x||T?K.createElement(Vw,{background:!0,files:x,preset:T,path:C,extensions:_}):o?K.createElement(Dv,{background:!0,map:o,extensions:_}):null),R))}function mC(t){var e,n,r,i;const o=Mf(t),s=t.map||o;K.useMemo(()=>V2({GroundProjectedEnvImpl:Nk}),[]),K.useEffect(()=>()=>{o.dispose()},[o]);const u=K.useMemo(()=>[s],[s]),c=(e=t.ground)==null?void 0:e.height,d=(n=t.ground)==null?void 0:n.radius,p=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return K.createElement(K.Fragment,null,K.createElement(Dv,ki({},t,{map:s})),K.createElement("groundProjectedEnvImpl",{args:u,scale:p,height:c,radius:d}))}function zC(t){return t.ground?K.createElement(mC,t):t.map?K.createElement(Dv,t):t.children?K.createElement(vC,t):K.createElement(Vw,t)}const BC=K.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:o=1,near:s=0,far:u=10,resolution:c=512,smooth:d=!0,color:p="#000000",depthWrite:v=!1,renderOrder:g,...y},x)=>{const C=K.useRef(null),T=kn(W=>W.scene),_=kn(W=>W.gl),w=K.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[E,M,R,D,A,U,N]=K.useMemo(()=>{const W=new Lc(c,c),re=new Lc(c,c);re.texture.generateMipmaps=W.texture.generateMipmaps=!1;const q=new va(r,i).rotateX(Math.PI/2),me=new Co(q),j=new _g;j.depthTest=j.depthWrite=!1,j.onBeforeCompile=L=>{L.uniforms={...L.uniforms,ucolor:{value:new ul(p)}},L.fragmentShader=L.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),L.fragmentShader=L.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const G=new rl(Qk),O=new rl(Yk);return O.depthTest=G.depthTest=!1,[W,q,j,me,G,O,re]},[c,r,i,t,p]),F=W=>{D.visible=!0,D.material=A,A.uniforms.tDiffuse.value=E.texture,A.uniforms.h.value=W*1/256,_.setRenderTarget(N),_.render(D,w.current),D.material=U,U.uniforms.tDiffuse.value=N.texture,U.uniforms.v.value=W*1/256,_.setRenderTarget(E),_.render(D,w.current),D.visible=!1};let Q=0,z,X;return wa(()=>{w.current&&(e===1/0||Q<e)&&(Q++,z=T.background,X=T.overrideMaterial,C.current.visible=!1,T.background=null,T.overrideMaterial=R,_.setRenderTarget(E),_.render(T,w.current),F(o),d&&F(o*.4),_.setRenderTarget(null),C.current.visible=!0,T.overrideMaterial=X,T.background=z)}),K.useImperativeHandle(x,()=>C.current,[]),K.createElement("group",ki({"rotation-x":Math.PI/2},y,{ref:C}),K.createElement("mesh",{renderOrder:g,geometry:M,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},K.createElement("meshBasicMaterial",{transparent:!0,map:E.texture,opacity:n,depthWrite:v})),K.createElement("orthographicCamera",{ref:w,args:[-r/2,r/2,i/2,-i/2,s,u]}))});class gC extends rl{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${X4>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const yC=t=>new wt().setFromSpherical(new dp(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),jC=K.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:o=!1,speed:s=1},u)=>{const c=K.useRef(),[d,p,v]=K.useMemo(()=>{const y=[],x=[],C=Array.from({length:n},()=>(.5+.5*Math.random())*i),T=new ul;let _=t+e;const w=e/n;for(let E=0;E<n;E++)_-=w*Math.random(),y.push(...yC(_).toArray()),T.setHSL(E/n,r,.9),x.push(T.r,T.g,T.b);return[new Float32Array(y),new Float32Array(x),new Float32Array(C)]},[n,e,i,t,r]);wa(y=>c.current&&(c.current.uniforms.time.value=y.clock.elapsedTime*s));const[g]=K.useState(()=>new gC);return K.createElement("points",{ref:u},K.createElement("bufferGeometry",null,K.createElement("bufferAttribute",{attach:"attributes-position",args:[d,3]}),K.createElement("bufferAttribute",{attach:"attributes-color",args:[p,3]}),K.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]})),K.createElement("primitive",{ref:c,object:g,attach:"material",blending:t_,"uniforms-fade-value":o,depthWrite:!1,transparent:!0,vertexColors:!0}))});export{SC as $,IC as B,xC as C,zC as E,kC as H,PC as L,RC as O,NC as P,mc as R,jC as S,DC as T,EC as _,FC as a,kn as b,f0 as c,LC as d,BC as e,V2 as f,OC as g,ki as h,TC as i,lr as j,O2 as k,_C as l,CC as m,AC as n,lf as o,K as r,wa as u};
//# sourceMappingURL=react-three-vendor-8ce1f887.js.map
