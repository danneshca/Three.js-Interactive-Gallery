{"version":3,"file":"SceneCamera-6860d71f.js","sources":["../../src/pages/core/SceneCamera.jsx"],"sourcesContent":["import React, { Suspense, useRef, useState } from 'react'\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport { OrbitControls, PerspectiveCamera, OrthographicCamera, Box, Sphere, Plane, Text } from '@react-three/drei'\nimport { useControls } from 'leva'\nimport styled from 'styled-components'\nimport { motion } from 'framer-motion'\nimport * as THREE from 'three'\n\nconst PageContainer = styled.div`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  position: relative;\n  padding-top: 80px;\n`\n\nconst CanvasContainer = styled.div`\n  flex: 1;\n  height: calc(100vh - 80px);\n  position: relative;\n`\n\nconst InfoPanel = styled(motion.div)`\n  width: 350px;\n  background: rgba(26, 26, 26, 0.95);\n  backdrop-filter: blur(20px);\n  border-left: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 2rem;\n  overflow-y: auto;\n  z-index: 100;\n`\n\nconst InfoTitle = styled.h2`\n  color: var(--accent-color);\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`\n\nconst InfoDescription = styled.p`\n  color: var(--text-secondary);\n  line-height: 1.6;\n  margin-bottom: 1.5rem;\n`\n\nconst TechList = styled.ul`\n  color: var(--text-secondary);\n  margin-left: 1rem;\n  \n  li {\n    margin-bottom: 0.5rem;\n    \n    code {\n      background: rgba(0, 255, 255, 0.1);\n      color: var(--accent-color);\n      padding: 0.2rem 0.4rem;\n      border-radius: 4px;\n      font-size: 0.9rem;\n    }\n  }\n`\n\nconst CodeSection = styled.details`\n  margin-top: 2rem;\n  \n  summary {\n    color: var(--accent-color);\n    cursor: pointer;\n    font-weight: 600;\n    margin-bottom: 1rem;\n  }\n  \n  pre {\n    background: rgba(0, 0, 0, 0.5);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    border-radius: 8px;\n    padding: 1rem;\n    overflow-x: auto;\n    font-size: 0.8rem;\n    color: var(--text-secondary);\n  }\n`\n\n// 3D Scene Components\nfunction Scene() {\n  const groupRef = useRef()\n  \n  useFrame((state) => {\n    if (groupRef.current) {\n      groupRef.current.rotation.y = state.clock.elapsedTime * 0.2\n    }\n  })\n  \n  return (\n    <group ref={groupRef}>\n      {/* Ground plane */}\n      <Plane args={[20, 20]} rotation={[-Math.PI / 2, 0, 0]} position={[0, -2, 0]}>\n        <meshStandardMaterial color=\"#333\" wireframe />\n      </Plane>\n      \n      {/* Objects */}\n      <Box position={[-3, 0, 0]} args={[1, 1, 1]}>\n        <meshStandardMaterial color=\"#ff6b6b\" />\n      </Box>\n      \n      <Sphere position={[0, 0, 0]} args={[0.8]}>\n        <meshStandardMaterial color=\"#4ecdc4\" />\n      </Sphere>\n      \n      <Box position={[3, 0, 0]} args={[1, 2, 1]}>\n        <meshStandardMaterial color=\"#45b7d1\" />\n      </Box>\n      \n      {/* Floating objects */}\n      <Box position={[-1, 3, -2]} args={[0.5, 0.5, 0.5]}>\n        <meshStandardMaterial color=\"#96ceb4\" />\n      </Box>\n      \n      <Sphere position={[2, 2, -1]} args={[0.4]}>\n        <meshStandardMaterial color=\"#feca57\" />\n      </Sphere>\n      \n      {/* Text labels */}\n      <Text\n        position={[0, 4, 0]}\n        fontSize={0.8}\n        color=\"#00ffff\"\n        anchorX=\"center\"\n        anchorY=\"middle\"\n      >\n        场景与相机演示\n      </Text>\n    </group>\n  )\n}\n\nfunction Lighting() {\n  return (\n    <>\n      <ambientLight intensity={0.3} />\n      <directionalLight\n        position={[10, 10, 5]}\n        intensity={1}\n        castShadow\n        shadow-mapSize-width={2048}\n        shadow-mapSize-height={2048}\n      />\n      <pointLight position={[-10, 10, -10]} intensity={0.5} color=\"#ff6b6b\" />\n      <pointLight position={[10, -10, 10]} intensity={0.5} color=\"#4ecdc4\" />\n    </>\n  )\n}\n\nfunction CameraController() {\n  const { camera, gl } = useThree()\n  \n  const {\n    cameraType,\n    fov,\n    zoom,\n    near,\n    far,\n    positionX,\n    positionY,\n    positionZ\n  } = useControls('相机控制', {\n    cameraType: {\n      value: 'perspective',\n      options: {\n        '透视相机': 'perspective',\n        '正交相机': 'orthographic'\n      }\n    },\n    fov: { value: 75, min: 10, max: 120, step: 1 },\n    zoom: { value: 1, min: 0.1, max: 5, step: 0.1 },\n    near: { value: 0.1, min: 0.01, max: 1, step: 0.01 },\n    far: { value: 1000, min: 10, max: 2000, step: 10 },\n    positionX: { value: 5, min: -20, max: 20, step: 0.5 },\n    positionY: { value: 5, min: -20, max: 20, step: 0.5 },\n    positionZ: { value: 5, min: -20, max: 20, step: 0.5 }\n  })\n  \n  React.useEffect(() => {\n    camera.position.set(positionX, positionY, positionZ)\n    camera.near = near\n    camera.far = far\n    camera.zoom = zoom\n    \n    if (cameraType === 'perspective' && camera.type === 'PerspectiveCamera') {\n      camera.fov = fov\n    }\n    \n    camera.updateProjectionMatrix()\n  }, [camera, cameraType, fov, zoom, near, far, positionX, positionY, positionZ])\n  \n  return null\n}\n\nfunction SceneCamera() {\n  const [cameraType, setCameraType] = useState('perspective')\n  \n  return (\n    <PageContainer>\n      <CanvasContainer>\n        <Canvas\n          shadows\n          camera={{ position: [5, 5, 5], fov: 75 }}\n          gl={{ antialias: true }}\n        >\n          <Suspense fallback={null}>\n            <Scene />\n            <Lighting />\n            <CameraController />\n            <OrbitControls\n              enableDamping\n              dampingFactor={0.05}\n              minDistance={2}\n              maxDistance={50}\n            />\n          </Suspense>\n        </Canvas>\n      </CanvasContainer>\n      \n      <InfoPanel\n        initial={{ x: 350 }}\n        animate={{ x: 0 }}\n        transition={{ duration: 0.5 }}\n      >\n        <InfoTitle>\n          🎯 场景与相机\n        </InfoTitle>\n        \n        <InfoDescription>\n          Three.js 中的相机决定了我们如何观察 3D 场景。本演示展示了透视相机和正交相机的区别，以及各种相机参数的效果。\n        </InfoDescription>\n        \n        <h3 style={{ color: 'var(--accent-color)', marginBottom: '1rem' }}>核心概念</h3>\n        <TechList>\n          <li><code>PerspectiveCamera</code> - 透视相机，模拟人眼视觉</li>\n          <li><code>OrthographicCamera</code> - 正交相机，无透视效果</li>\n          <li><code>FOV</code> - 视野角度，影响视觉范围</li>\n          <li><code>Near/Far</code> - 近远裁剪面</li>\n          <li><code>Position</code> - 相机位置</li>\n          <li><code>OrbitControls</code> - 轨道控制器</li>\n        </TechList>\n        \n        <h3 style={{ color: 'var(--accent-color)', marginBottom: '1rem', marginTop: '2rem' }}>交互说明</h3>\n        <InfoDescription>\n          • 使用右侧控制面板调整相机参数<br/>\n          • 鼠标拖拽旋转视角<br/>\n          • 滚轮缩放场景<br/>\n          • 右键拖拽平移视角\n        </InfoDescription>\n        \n        <CodeSection>\n          <summary>🔍 查看核心代码</summary>\n          <pre>{`// 透视相机设置\nconst camera = new THREE.PerspectiveCamera(\n  75,  // fov\n  window.innerWidth / window.innerHeight,  // aspect\n  0.1, // near\n  1000 // far\n)\n\n// 正交相机设置\nconst camera = new THREE.OrthographicCamera(\n  -width / 2, width / 2,   // left, right\n  height / 2, -height / 2, // top, bottom\n  0.1, 1000                // near, far\n)\n\n// 轨道控制器\nconst controls = new OrbitControls(camera, renderer.domElement)\ncontrols.enableDamping = true\ncontrols.dampingFactor = 0.05`}</pre>\n        </CodeSection>\n      </InfoPanel>\n    </PageContainer>\n  )\n}\n\nexport default SceneCamera"],"names":["PageContainer","styled","CanvasContainer","InfoPanel","motion","InfoTitle","InfoDescription","TechList","CodeSection","Scene","groupRef","useRef","useFrame","state","jsxs","jsx","Plane","Box","Sphere","Text","Lighting","Fragment","CameraController","camera","gl","useThree","cameraType","fov","zoom","near","far","positionX","positionY","positionZ","useControls","React","SceneCamera","useState","Canvas","Suspense","OrbitControls"],"mappings":"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"}